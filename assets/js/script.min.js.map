{"version":3,"sources":["script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","testForms","_fDom","all","forEach","form","validateForm","_fValidate","addCustomValidation","field","addEventListener","preventDefault","testGroupForms","groupErrorPlacement","_interopRequireDefault","obj","__esModule","@justeat/f-dom","@justeat/f-validate","2","_fHeader","_fozzie","_liteReady","_svg4everybody","_formValidationSetup","stopFoit","checkForUser","./docs/formValidationSetup","@justeat/f-footer","@justeat/f-header","@justeat/fozzie","lite-ready","picturefill","svg4everybody","3","_qwery","selector","root","arguments","undefined","dom","first","exists","_default","qwery","4","resizeInit","tabindexResize","collapseFooterPanels","footerPanels","_lodash","breakpoints","getBreakpoints","window","matchMedia","concat","mid","matches","panel","removeAttribute","tabIndex","classList","add","lodash.debounce","5","enumerable","get","_userAuth","setupHeader","menuButton","document","querySelector","navContainer","navLabel","toggle","documentElement","./userAuth","6","_fLogger","_userData","removeElement","element","remove","removeHiddenClass","updateDom","authData","authEl","loginEl","isAuthenticated","headerName","headerEmail","friendlyName","textContent","email","fetch","method","credentials","then","response","json","catch","error","logError","Promise","resolve","./userData","@justeat/f-logger","7","saveUserData","storeLocalAnalyticsBlob","result","localStorage","setItem","JSON","stringify","enrichUserDataWithCount","userData","orderCountResponse","orderCount","Count","pushUserData","dataLayer","push","fetchOrderCountAndSave","orderCountLink","orderCountUrl","getAttribute","err","reject","supportedEl","test","savedAnalytics","getItem","localOrderCount","parse","currentTime","Date","getTime","Expires","8","getDebugMode","disableDebugMode","enableDebugMode","clearHistory","getHistory","errorLogInit","logWarning","log","_Logger2","_ErrorLogger2","debugMode","logger","errorLogger","init","getPersistentData","clearPersistentData","./modules/ErrorLogger","./modules/Logger","9","_typeof","Symbol","iterator","constructor","prototype","_createClass","b","d","configurable","writable","key","ErrorLogger","TypeError","_classCallCheck","this","config","serverFileUrl","loggerCallback","winlogCallback","bindOnError","location","toString","pageUrl","Exception","Level","logToServer","encodeURIComponent","XMLHttpRequest","ActiveXObject","open","send","onerror","g","stack","10","output","console","Logger","data","now","valueOf","clear","11","addCallBack","callBacks","callBack","runCallbacks","callback","12","cssClasses","isHidden","formError","formErrors","hasError","hasSuccess","escapeChars","fieldValues","validationGroup","validateOnOptions","13","defaultOptions","defineProperties","target","props","descriptor","Constructor","protoProps","staticProps","_fDom2","_rules2","_callbacks","_messages","_constants2","VALIDATION_KEYS","keys","errorClass","successClass","focus","enableHTML5Validation","getForm","tagName","forms","FormValidation","nameOrNode","_this","options","instance","assign","fields","getFields","event","isValid","customHandlers","errorMessages","onSuccess","on","onError","validateOn","setFormNoValidate","bind","callBackEvent","exception","setAttribute","currentElement","_this2","formValid","required","condition","errorMessage","fieldValid","fieldHasValidation","ruleName","current","touchedSelectors","notInErrorState","elementsNotTouched","definition","custom","skipTest","childField","contains","map","childSelector","filter","el","hasAttribute","getMessage","setSuccess","setError","errorElement","getInlineErrorElement","hideMessage","displayInlineMessage","success","groupedErrorElement","findGroupedErrorElement","displayGroupedMessages","name","handler","parentElement","updateElement","innerHTML","createElement","insertBefore","getGroupedErrorPosition","li","appendChild","groupElement","lastChild","firstChild","_this3","indexOf","./callbacks","./constants","./messages","./rules","14","getCustomErrorElement","errorPlacement","nextSibling","nextElementSibling","customErrorEl","customMessage","parentNode","defaultMessageValue","defaultMessage","replace","getDefaultMessage","15","input","checked","trim","16","hasCustom","17","dateToday","currentMonth","getMonth","currentYear","getFullYear","selectedMonthEl","selectedYearEl","selectedMonthVal","Number","selectedYearVal","18","_constants","../constants","19","_required2","_maxlength2","_minlength2","_pattern2","_email2","_matches2","_dateInFuture2","_conditionalRequired2","_custom2","dateInFuture","conditionalRequired","maxlength","minlength","pattern","./conditionalRequired","./custom","./dateInFuture","./email","./matches","./maxlength","./minlength","./pattern","./required","20","matchedFieldName","21","parseInt","22","23","CONSTANTS","fieldValue","RegExp","24","type","25","_qwery2","26","isWithinBreakpoint","getCurrentScreenWidth","_stopFoit","_breakpointHelper","./modules/breakpointHelper","./modules/stopFoit","27","_slicedToArray","arr","Array","isArray","_arr","_n","_d","_e","_s","_i","next","done","sliceIterator","screenSizer","body","getComputedStyle","getPropertyValue","split","reduce","prev","_current$split","_current$split2","breakpointName","breakpointValue","createBreakpointArray","bps","unshift","currentWidth","innerWidth","breakpointWidth","breakpointString","match","operatorRegex","operatorMatch","operator","_breakpointString$spl","breakpoint","currentScreenWidth","breakpointInPX","bp","28","_fontfaceobserver","_fontfaceobserver2","baseFont","headingFont","load","fontfaceobserver","29","l","attachEvent","createTextNode","h","style","cssText","y","offsetWidth","width","scrollLeft","scrollWidth","z","k","A","family","weight","stretch","B","C","E","F","J","fonts","L","font","K","join","q","D","H","navigator","vendor","exec","userAgent","G","M","setTimeout","N","race","clearTimeout","removeEventListener","readyState","detachEvent","m","v","w","x","removeChild","dir","I","hidden","FontFaceObserver","30","31","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","Function","objectToString","nativeMax","Math","max","nativeMin","min","isObject","toNumber","isObjectLike","isSymbol","other","isBinary","slice","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","32","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","ua","HTMLPictureElement","$1","img","source","sizes","picture","nodeName","toUpperCase","cloneNode","firstElementChild","_pfLastSize","imgs","querySelectorAll","addListener","srcset","eminpx","alwaysCheckWDescriptor","evalId","pf","isSupportTestReady","noop","image","getImgAttr","setImgAttr","removeImgAttr","docElem","types","cfg","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","in","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","evt","fn","capture","memoize","cache","isSpace","regLength","buildStr","image2","width1","isDomReady","timeout","timestamp","later","regReady","run","lastClientWidth","evalCSS","css","index","string","toLowerCase","parsedLength","setResolution","candidate","sizesattr","cWidth","calcListLength","res","opt","elements","plen","nodeType","context","qsa","reevaluate","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","getCandidateForSrc","src","set","candidates","parseSet","makeUrl","url","warn","implementation","hasFeature","ns","substr","supSrcset","supSizes","supPicture","complete","onload","setSize","href","matchesMedia","media","mMQ","calcLength","sourceSizeValue","supportsType","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","desc","lastChar","intVal","floatVal","pError","parseFloat","has1x","tokenize","charAt","parseSrcset","getEmValue","div","originalHTMLCSS","originalBodyCSS","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","parseSizes","setRes","len","applySetCandidate","j","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","pow","sqrt","setSrc","origWidth","getSet","parseSets","parent","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","sources","getElementsByTagName","getAllSourceElements","supported","srcAttr","parsed","srcSetCandidates","matchingSet","evaluated","extreme","evaled","clientWidth","height","innerHeight","clientHeight","vw","vh","em","rem","fillImgs","last","_","shift","define","amd","typeUri","Image","detectTypeSupport","33","classOnly","doc","win","html","isAncestor","container","compareDocumentPosition","toArray","ar","isNode","arrayLike","isFinite","opt_root","normalizeRoot","flatten","getElementsByClassName","uniq","label","34","factory","embed","svg","fragment","createDocumentFragment","viewBox","clone","childNodes","loadreadystatechange","xhr","onreadystatechange","cachedDocument","_cachedDocument","createHTMLDocument","responseText","_cachedTarget","_embeds","splice","item","id","getElementById","getSVGAncestor","node","rawopts","polyfill","opts","inIframe","top","requests","requestAnimationFrame","uses","numberOfSvgUseElementsToBypass","oninterval","use","attributeName","validate","srcSplit"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = setupValidation;\n\nvar _fDom = _interopRequireDefault(require(\"@justeat/f-dom\"));\n\nvar _fValidate = _interopRequireDefault(require(\"@justeat/f-validate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs f-validate on any forms in the docs\n * tagged with the `test-form` or `test-form-group` name\n */\nfunction setupValidation() {\n  var testForms = _fDom.default.all('form[name=\"test-form\"');\n\n  if (testForms.length > 0) {\n    testForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form);\n      validateForm.addCustomValidation('customRule', function (field) {\n        if (field.value === 'passTest') {\n          return true;\n        }\n\n        return false;\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n\n  var testGroupForms = _fDom.default.all('form[name=\"test-form-group\"');\n\n  if (testGroupForms.length > 0) {\n    testGroupForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form, {\n        // eslint-disable-line no-unused-vars\n        groupErrorPlacement: 'bottom'\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n}\n\n},{\"@justeat/f-dom\":3,\"@justeat/f-validate\":13}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"@justeat/f-footer\");\n\nvar _fHeader = require(\"@justeat/f-header\");\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _svg4everybody = _interopRequireDefault(require(\"svg4everybody\"));\n\nvar _formValidationSetup = _interopRequireDefault(require(\"./docs/formValidationSetup\"));\n\nrequire(\"picturefill\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _liteReady.default)(function () {\n  (0, _fozzie.stopFoit)();\n  (0, _svg4everybody.default)();\n  (0, _formValidationSetup.default)();\n  (0, _fHeader.checkForUser)();\n});\n\n},{\"./docs/formValidationSetup\":1,\"@justeat/f-footer\":4,\"@justeat/f-header\":5,\"@justeat/fozzie\":26,\"lite-ready\":30,\"picturefill\":32,\"svg4everybody\":34}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Returns first element in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Element}\n*/\nvar first = function first(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root)[0];\n};\n/**\n* Returns all elements in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar all = function all(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root);\n};\n/**\n* Returns true, if at least one element exists in the DOM, otherwise returns false.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {boolean}\n*/\n\n\nvar exists = function exists(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root).length > 0;\n};\n/**\n* Returns all elements in the DOM for the specified selector. Short syntax of `all` method.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar dom = all;\ndom.all = all;\ndom.first = first;\ndom.exists = exists;\nvar _default = dom;\nexports.default = _default;\n},{\"qwery\":33}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resizeInit = exports.tabindexResize = exports.collapseFooterPanels = void 0;\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar footerPanels;\nvar breakpoints = null;\n\nvar tabindexResize = function tabindexResize() {\n  if (breakpoints === null) {\n    breakpoints = (0, _fozzie.getBreakpoints)();\n  }\n\n  if (window.matchMedia(\"(min-width: \".concat(breakpoints.mid, \")\")).matches) {\n    footerPanels.forEach(function (panel) {\n      panel.removeAttribute('tabindex');\n    });\n  } else {\n    footerPanels.forEach(function (panel) {\n      panel.tabIndex = 0;\n    });\n  }\n};\n\nexports.tabindexResize = tabindexResize;\n\nvar collapseFooterPanels = function collapseFooterPanels() {\n  (0, _qwery.default)('[data-panel-collapsible]').forEach(function (panel) {\n    panel.classList.add('is-collapsed');\n  });\n};\n\nexports.collapseFooterPanels = collapseFooterPanels;\n\nvar resizeInit = function resizeInit() {\n  window.addEventListener('resize', (0, _lodash.default)(tabindexResize, 100));\n  footerPanels = (0, _qwery.default)('[data-footer-panel-heading]');\n  tabindexResize();\n};\n\nexports.resizeInit = resizeInit;\n(0, _liteReady.default)(function () {\n  collapseFooterPanels();\n  resizeInit();\n});\n},{\"@justeat/fozzie\":26,\"lite-ready\":30,\"lodash.debounce\":31,\"qwery\":33}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"checkForUser\", {\n  enumerable: true,\n  get: function get() {\n    return _userAuth.checkForUser;\n  }\n});\nexports.setupHeader = void 0;\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _userAuth = require(\"./userAuth\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Fozzie header JavaScript behaviour.\n *\n * @module f-header\n */\n\n/**\n * Setup the behaviour for the header component.\n */\nvar setupHeader = function setupHeader() {\n  var menuButton = document.querySelector('[data-nav-button]');\n\n  if (menuButton) {\n    menuButton.addEventListener('click', function () {\n      var navContainer = document.querySelector('[data-nav-container]');\n      var navLabel = document.querySelector('[data-nav-toggle]');\n\n      if (navContainer) {\n        navContainer.classList.toggle('is-visible');\n      }\n\n      if (navLabel) {\n        navLabel.classList.toggle('is-open');\n      }\n\n      document.documentElement.classList.toggle('is-navInView');\n    });\n  }\n};\n\nexports.setupHeader = setupHeader;\n(0, _liteReady.default)(function () {\n  setupHeader();\n});\n},{\"./userAuth\":6,\"lite-ready\":30}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkForUser = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\nvar _userData = _interopRequireDefault(require(\"./userData\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Authorisation handler\n *\n * @module userAuth\n */\nvar removeElement = function removeElement(element) {\n  return element && element.remove();\n};\n\nvar removeHiddenClass = function removeHiddenClass(element) {\n  return element && element.classList.remove('is-hidden');\n};\n\nvar updateDom = function updateDom(authData) {\n  var authEl = document.querySelector('[data-auth-wrapper]');\n  var loginEl = document.querySelector('[data-login]');\n\n  if (authData.isAuthenticated) {\n    var headerName = document.querySelector('[data-name]');\n    var headerEmail = document.querySelector('[data-email]');\n\n    if (headerName && authData.friendlyName !== '') {\n      headerName.textContent = authData.friendlyName;\n    }\n\n    if (headerEmail && authData.email !== '') {\n      headerEmail.textContent = authData.email;\n    }\n\n    removeHiddenClass(authEl);\n    removeElement(loginEl);\n  } else {\n    removeHiddenClass(loginEl);\n    removeElement(authEl);\n  }\n\n  return authData;\n};\n/**\n * Checks if authorisation details can be found in the current session hits .net\n * endpoint and is returned valid auth details or no details if not logged in\n */\n\n\nvar checkForUser = function checkForUser() {\n  var authEl = document.querySelector('[data-auth-wrapper]'); // if our auth wrapper exists, get our user details\n\n  if (authEl) {\n    // this fetch logic will be extracted to a new module\n    return fetch('/api/account/details', {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(updateDom).then(_userData.default) // should send this error to the f-logger but for now, just erroring here inline\n    .catch(function (error) {\n      (0, _fLogger.logError)(error);\n    });\n  }\n\n  return Promise.resolve();\n};\n\nexports.checkForUser = checkForUser;\n},{\"./userData\":7,\"@justeat/f-logger\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.saveUserData = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\n/**\n * @overview UserData handler\n *\n * @module userAuth/userData\n */\nvar storeLocalAnalyticsBlob = function storeLocalAnalyticsBlob(result) {\n  window.localStorage.setItem('je-analytics', JSON.stringify(result));\n  return result;\n};\n\nvar enrichUserDataWithCount = function enrichUserDataWithCount(userData, orderCountResponse) {\n  userData.orderCount = orderCountResponse.Count;\n  return userData;\n};\n\nvar pushUserData = function pushUserData(userData) {\n  return window.dataLayer.push({\n    userData: userData\n  });\n};\n\nvar fetchOrderCountAndSave = function fetchOrderCountAndSave(userData) {\n  var orderCountLink = document.querySelector('link[rel=\"ordercountlink\"]');\n  var orderCountUrl = orderCountLink && orderCountLink.getAttribute('href');\n\n  if (orderCountUrl) {\n    return fetch(orderCountUrl, {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(storeLocalAnalyticsBlob).then(function (result) {\n      return enrichUserDataWithCount(userData, result);\n    }).then(pushUserData).catch(function (err) {\n      (0, _fLogger.logError)(\"Unable to get order count. \".concat(err));\n      pushUserData(userData);\n    });\n  }\n\n  pushUserData(userData);\n  return Promise.reject();\n};\n\nvar getLocalAnalyticsBlob = function getLocalAnalyticsBlob() {\n  return window.localStorage.getItem('je-analytics');\n};\n\nvar orderCountSupported = function orderCountSupported() {\n  var supportedEl = document.querySelector('[data-order-count-supported]');\n\n  if (supportedEl && supportedEl.value) {\n    // Case insensitive regex test for value=\"true\"\n    return /^true$/i.test(supportedEl.value);\n  }\n\n  return Promise.reject();\n};\n\nvar saveUserData = function saveUserData(authData) {\n  if (!authData.isAuthenticated) {\n    return Promise.resolve();\n  }\n\n  var userData = authData.userData;\n\n  if (!orderCountSupported()) {\n    pushUserData(userData);\n    return Promise.resolve();\n  }\n\n  var savedAnalytics = getLocalAnalyticsBlob();\n\n  if (!savedAnalytics) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  var localOrderCount = JSON.parse(savedAnalytics);\n  var currentTime = new Date().getTime();\n  var localOrderCountExpires = Date.parse(localOrderCount.Expires);\n\n  if (localOrderCountExpires < currentTime) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  enrichUserDataWithCount(userData, localOrderCount);\n  pushUserData(userData);\n  return Promise.resolve();\n};\n\nexports.saveUserData = saveUserData;\n},{\"@justeat/f-logger\":8}],8:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getDebugMode=exports.disableDebugMode=exports.enableDebugMode=exports.clearHistory=exports.getHistory=exports.errorLogInit=exports.logError=exports.logWarning=exports.log=void 0;var _Logger=require('./modules/Logger'),_Logger2=_interopRequireDefault(_Logger),_ErrorLogger=require('./modules/ErrorLogger'),_ErrorLogger2=_interopRequireDefault(_ErrorLogger);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger}),log=function(a){logger.log(a)},logError=function(a){errorLogger.log(a,'Error')},logWarning=function(a){errorLogger.log(a,'Warn')},getHistory=function(){logger.getPersistentData()},clearHistory=function(){logger.clearPersistentData()},enableDebugMode=function(){debugMode=!0,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},disableDebugMode=function(){debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},errorLogInit=function(a){errorLogger.init(a)},getDebugMode=function(){return debugMode};exports.log=log,exports.logWarning=logWarning,exports.logError=logError,exports.errorLogInit=errorLogInit,exports.getHistory=getHistory,exports.clearHistory=clearHistory,exports.enableDebugMode=enableDebugMode,exports.disableDebugMode=disableDebugMode,exports.getDebugMode=getDebugMode;\n},{\"./modules/ErrorLogger\":9,\"./modules/Logger\":10}],9:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var ErrorLogger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.logger=b.logger,this.debugMode=b.logger.debugMode,this.config.serverFileUrl=b.serverFileUrl||'/js/shared/js-error.js',this.config.loggerCallback=b.loggerCallback||null,this.config.winlogCallback=b.winlogCallback||null,this.bindOnError()}return _createClass(a,[{key:'log',value:function log(a,b,c){var d=window.location.toString(),e={pageUrl:d,Exception:a,Level:b};this.logger.log(e),this.debugMode||(this.logToServer(e),'function'==typeof this.config.loggerCallback&&('Error'===b?this.config.winlogCallback.call(this,a,d,c):this.config.loggerCallback.call(this,a,d)))}},{key:'init',value:function init(a){this.config.serverFileUrl=a.serverFileUrl||this.config.serverFileUrl,this.config.loggerCallback=a.loggerCallback||this.config.loggerCallback,this.config.winlogCallback=a.winlogCallback||this.config.winlogCallback}},{key:'logToServer',value:function logToServer(a){var b,c='';c='object'===('undefined'==typeof a?'undefined':_typeof(a))?JSON.stringify(a):a;var d=this.config.serverFileUrl+'?error='+encodeURIComponent(c);if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)b=new ActiveXObject('Microsoft.XMLHTTP');else return;b.open('GET',d),b.send()}},{key:'bindOnError',value:function bindOnError(){var a=this;window.onerror=function(b,c,d,e,f){var g=b+' : '+c+' : Line '+d+' : Char '+e+' : StackTrace '+(f?f.stack:'');return a.log(g,'Error',d),!0}}}]),a}();exports.default=ErrorLogger;\n},{}],10:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var output=function(a){if('undefined'!=typeof window.console)void 0;else throw new Error('Console is not supported')},getPersistentData=function(){if(!localStorage)output('Local storage not available');else if(0<localStorage.length){var a,b,c,d;for(output('/***** Output local storage *****/'),a=0;a<localStorage.length;a++)b=+localStorage.key(a),c=localStorage[b],d=new Date(b),'Invalid Date'!==(d+'').valueOf()&&output(d+' => '+c);output('/***** End of local storage *****/')}else output('Local storage is empty')},clearPersistentData=function(){localStorage&&(localStorage.clear(),output('Local storage cleared'))},Logger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.debugMode=this.config.debugMode,this.data={}}return _createClass(a,[{key:'log',value:function log(a){var b=a;if(this.debugMode){var c=Date.now().toString();this.data[c]=b,'object'===('undefined'==typeof localStorage?'undefined':_typeof(localStorage))&&(b=JSON.stringify(b),localStorage.setItem(c,b)),output(b)}}}]),a}();exports.getPersistentData=getPersistentData,exports.clearPersistentData=clearPersistentData,exports.default=Logger;\n},{}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar addCallBack = exports.addCallBack = function addCallBack(callBacks, callBack) {\n\n    if (typeof callBack !== 'function') {\n        throw new TypeError('call back is not a function');\n    }\n\n    callBacks.push(callBack);\n};\n\nvar runCallbacks = exports.runCallbacks = function runCallbacks(callBacks) {\n\n    if (!callBacks) {\n        return;\n    }\n\n    callBacks.forEach(function (callback) {\n        callback();\n    });\n};\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar cssClasses = {\n    isHidden: 'is-hidden',\n    formError: 'form-error',\n    formErrors: 'form-errors',\n    hasError: 'has-error',\n    hasSuccess: 'has-success'\n};\n\nvar validationGroup = 'data-val-group';\n\nexports.default = {\n    cssClasses: cssClasses,\n    email: /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n    escapeChars: /[|\\\\{}()[\\]^$+*?.]/g,\n    fieldValues: 'input, select, textarea, [' + validationGroup + ']',\n    validationGroup: validationGroup,\n    validateOnOptions: ['blur', 'keyup']\n};\n},{}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.defaultOptions = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * @module Validate\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * ## Goals\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * To validate a form based on the HTML5 attributes each form has, or the data attributes specified on them\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should accept either:\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * 1. A form DOM Element\n                                                                                                                                                                                                                                                                               * 2. A string relating to the name of the form\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should also be able to label a form field with `data-novalidate`\n                                                                                                                                                                                                                                                                               * to remove it from those being validated\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               */\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _callbacks = require('./callbacks');\n\nvar _messages = require('./messages');\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Load in the set of test definitions to validate against\nvar VALIDATION_KEYS = Object.keys(_rules2.default);\n\nvar defaultOptions = exports.defaultOptions = {\n    errorClass: _constants2.default.cssClasses.hasError,\n    successClass: _constants2.default.cssClasses.hasSuccess,\n    focus: false,\n    groupErrorPlacement: false,\n    enableHTML5Validation: false\n};\n\nvar getForm = function getForm(descriptor) {\n\n    if (!descriptor) {\n        throw new Error('f-validate: expected form name or form node parameter');\n    }\n\n    var form = (typeof descriptor === 'undefined' ? 'undefined' : _typeof(descriptor)) === 'object' && descriptor.tagName === 'FORM' ? descriptor : document.forms[descriptor];\n\n    if (!form) {\n        throw new Error('f-validate: form not found');\n    }\n\n    return form;\n};\n\nvar elementsUntouched = function elementsUntouched(element, current, touchedSelectors) {\n\n    var notInErrorState = !current.field.classList.contains(_constants2.default.cssClasses.hasError);\n    var elementsNotTouched = touchedSelectors.map(function (childSelector) {\n        return _fDom2.default.first(childSelector, element);\n    }).filter(function (el) {\n        return el && !el.hasAttribute('data-touched');\n    });\n\n    // If one select has not been interacted with do not run test method\n    return notInErrorState && elementsNotTouched.length > 0;\n};\n\nvar FormValidation = function () {\n    function FormValidation(nameOrNode) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, FormValidation);\n\n        this.options = Object.assign({}, defaultOptions, options);\n        this.form = getForm(nameOrNode);\n        this.fields = this.getFields();\n\n        // Allow fields to be validated on 'enter'\n        this.fields.forEach(function (field) {\n            field.addEventListener('keydown', function (event) {\n                if (event.key === 'Enter') {\n                    _this.isValid(event);\n                }\n            });\n        });\n\n        this.customHandlers = {};\n        this.callBacks = {};\n        this.errorMessages = [];\n\n        if (this.options.onSuccess) {\n            this.on('success', this.options.onSuccess);\n        }\n        if (this.options.onError) {\n            this.on('error', this.options.onError);\n        }\n        if (this.options.validateOn) {\n            this.validateOn();\n        }\n\n        this.setFormNoValidate();\n        this.form.addEventListener('submit', this.isValid.bind(this));\n    }\n\n    /**\n     * on - Associates a callback with an event.\n     * Callbacks associated with an event will be called when the event fires.\n     * example:\n     *      formValidator.on('success', () => {\n     *          Do something when the form is found to be valid.\n     *      });\n     *      formValidator.on('error', () => {\n     *          Do something when the form is found to be invalid.\n     *      });\n     */\n\n\n    _createClass(FormValidation, [{\n        key: 'on',\n        value: function on(callBackEvent, callBack) {\n\n            if (!this.callBacks[callBackEvent]) {\n                this.callBacks[callBackEvent] = [];\n            }\n\n            try {\n                (0, _callbacks.addCallBack)(this.callBacks[callBackEvent], callBack, callBackEvent);\n            } catch (exception) {\n                throw new TypeError('f-validate: ' + callBackEvent + ' callback must be a function');\n            }\n        }\n    }, {\n        key: 'setSuccess',\n        value: function setSuccess(element) {\n            element.classList.remove(this.options.errorClass);\n            element.classList.add(this.options.successClass);\n        }\n    }, {\n        key: 'setError',\n        value: function setError(element) {\n            element.classList.remove(this.options.successClass);\n            element.classList.add(this.options.errorClass);\n        }\n    }, {\n        key: 'setFormNoValidate',\n        value: function setFormNoValidate() {\n\n            if (!this.options.enableHTML5Validation) {\n                this.form.setAttribute('novalidate', '');\n            }\n        }\n\n        /**\n         * Validates the form\n         *\n         * @param event\n         * @param {object} currentElement\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid(event, currentElement) {\n            var _this2 = this;\n\n            var formValid = true;\n            this.errorMessages = [];\n\n            this.fields.forEach(function (field) {\n\n                // currentElement refers to an element that is being validated on blur/keyup\n                // only validate on blur/keyup if the field is not empty and is not required\n                if (currentElement && (currentElement.field !== field || field.value === '' && !_rules2.default.required.condition(field))) {\n                    return;\n                }\n\n                var errorMessage = '';\n\n                // This needs to be set outside of the forEach loop, as otherwise only the final rule will apply the state\n                var fieldValid = true;\n\n                // This prevents us from applying state classes to fields without rules\n                var fieldHasValidation = false;\n\n                VALIDATION_KEYS.forEach(function (ruleName) {\n                    var definition = _rules2.default[ruleName];\n\n                    if (field.getAttribute('data-val-custom')) {\n                        _rules2.default.custom.test = _this2.customHandlers[field.getAttribute('data-val-custom')];\n                    }\n\n                    if (definition.condition(field)) {\n                        fieldHasValidation = true;\n                        var skipTest = false;\n\n                        // If rule has elements that need to be checked for touch, and validation is happening on blur/keyup\n                        if (definition.touchedSelectors && currentElement) {\n                            currentElement.childField.setAttribute('data-touched', true);\n                            skipTest = elementsUntouched(field, currentElement, definition.touchedSelectors);\n                        }\n\n                        if (!skipTest && !definition.test(field, currentElement)) {\n                            fieldValid = false;\n                            errorMessage = (0, _messages.getMessage)(field, ruleName);\n                            _this2.errorMessages.push(errorMessage);\n                        }\n                    }\n                });\n\n                if (fieldHasValidation) {\n\n                    if (fieldValid) {\n                        _this2.setSuccess(field);\n                    } else {\n                        formValid = false;\n                        _this2.setError(field);\n                    }\n\n                    // if we aren't handling a group field validation\n                    if (!_this2.options.groupErrorPlacement) {\n                        var errorElement = (0, _messages.getInlineErrorElement)(field, _this2.form);\n                        if (fieldValid) {\n                            (0, _messages.hideMessage)(errorElement);\n                        } else {\n                            (0, _messages.displayInlineMessage)(errorElement, errorMessage, field, _this2.form);\n                        }\n                    }\n                }\n            });\n\n            if (!formValid) {\n                this.setError(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.error);\n\n                if (event) {\n                    event.preventDefault();\n                }\n            } else {\n                this.setSuccess(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.success);\n            }\n\n            if (this.options.groupErrorPlacement) {\n                var groupedErrorElement = this.findGroupedErrorElement();\n                if (formValid) {\n                    (0, _messages.hideMessage)(groupedErrorElement);\n                } else {\n                    this.displayGroupedMessages(groupedErrorElement);\n                }\n            }\n\n            return formValid;\n        }\n    }, {\n        key: 'addCustomValidation',\n        value: function addCustomValidation(name, handler) {\n            if (!name || typeof name !== 'string') {\n                throw new Error('f-validate: please provide the name');\n            }\n            if (!handler || typeof handler !== 'function') {\n                throw new Error('f-validate: please provide a custom method');\n            }\n\n            this.customHandlers[name] = handler;\n        }\n    }, {\n        key: 'getFields',\n        value: function getFields() {\n            var fields = (0, _fDom2.default)(_constants2.default.fieldValues, this.form);\n\n            return fields.filter(function (f) {\n                return !(f.hasAttribute('type') && f.getAttribute('type') === 'hidden') && !f.hasAttribute('disabled') && !f.hasAttribute('data-novalidate') && !f.parentElement.hasAttribute(_constants2.default.validationGroup);\n            });\n        }\n    }, {\n        key: 'findGroupedErrorElement',\n        value: function findGroupedErrorElement() {\n            var groupedErrorElement = _fDom2.default.first('.' + _constants2.default.cssClasses.formErrors, this.form);\n\n            return groupedErrorElement;\n        }\n    }, {\n        key: 'displayGroupedMessages',\n        value: function displayGroupedMessages(groupedErrorElement) {\n\n            var updateElement = groupedErrorElement;\n\n            if (!groupedErrorElement) {\n                updateElement = document.createElement('ul');\n                updateElement.classList.add(_constants2.default.cssClasses.formErrors);\n\n                this.form.insertBefore(updateElement, this.getGroupedErrorPosition());\n            } else {\n                groupedErrorElement.innerHTML = '';\n            }\n\n            this.errorMessages.forEach(function (error) {\n                var li = document.createElement('li');\n                li.textContent = error;\n                updateElement.appendChild(li);\n            });\n        }\n    }, {\n        key: 'getGroupedErrorPosition',\n        value: function getGroupedErrorPosition() {\n\n            var groupElement = _fDom2.default.first(this.options.groupErrorPlacement, this.form);\n\n            if (groupElement) {\n                return groupElement;\n            }\n\n            if (this.options.groupErrorPlacement === 'bottom') {\n                return this.form.lastChild;\n            }\n\n            return this.form.firstChild;\n        }\n\n        /**\n         * Validates form field(s) based on the event passed into options.validateOn\n         *\n         * example:\n         *       this.validation = new FormValidation(this.form, {\n         *           validateOn: 'blur'\n         *       });\n         */\n\n    }, {\n        key: 'validateOn',\n        value: function validateOn() {\n            var _this3 = this;\n\n            if (this.options.groupErrorPlacement) {\n                throw new Error('f-validate: validation on \\'blur\\' or \\'keyup\\' cannot be performed if errors are grouped');\n            }\n\n            if (_constants2.default.validateOnOptions.indexOf(this.options.validateOn) === -1) {\n                throw new Error('f-validate: valid options for the \\'validateOn\\' property are \\'blur\\' or \\'keyup\\'');\n            }\n\n            this.fields.forEach(function (field) {\n                if (field.hasAttribute(_constants2.default.validationGroup)) {\n                    (0, _fDom2.default)(_constants2.default.fieldValues, field).forEach(function (childField) {\n                        return (\n\n                            // Binds each form element within a validation-group to the specified event.\n                            // When this event is triggered the validation-group element will be passed as the element to test.\n                            // The child field is also passed for use within a rule test method\n                            // Null is being passed as the isValid method expects 'field' as its second argument\n                            childField.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, {\n                                field: field,\n                                childField: childField\n                            }))\n                        );\n                    });\n                } else {\n                    // Null is being passed as the isValid method expects 'field' as its second argument\n                    field.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, { field: field }));\n                }\n            });\n        }\n    }]);\n\n    return FormValidation;\n}();\n\nexports.default = FormValidation;\n},{\"./callbacks\":11,\"./constants\":12,\"./messages\":14,\"./rules\":19,\"@justeat/f-dom\":25}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getMessage = exports.hideMessage = exports.displayInlineMessage = exports.getInlineErrorElement = undefined;\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getCustomErrorElement = function getCustomErrorElement(field, form) {\n    var errorPlacement = field.getAttribute('data-val-error-placement');\n    var errorElement = _fDom2.default.first(errorPlacement, form);\n\n    if (errorElement) {\n        return errorElement;\n    }\n\n    return false;\n};\n\nvar getInlineErrorElement = exports.getInlineErrorElement = function getInlineErrorElement(field, form) {\n    var nextSibling = field.nextElementSibling;\n    var customErrorEl = getCustomErrorElement(field, form);\n\n    if (customErrorEl && customErrorEl.nextElementSibling && customErrorEl.nextElementSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n        return customErrorEl.nextElementSibling;\n    }\n\n    if (nextSibling && nextSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n\n        return nextSibling;\n    }\n\n    return false;\n};\n\nvar displayInlineMessage = exports.displayInlineMessage = function displayInlineMessage(errorElement, customMessage, field, form) {\n\n    var updateElement = errorElement;\n    var customErrorEl = getCustomErrorElement(field, form) || field;\n\n    if (!errorElement) {\n        updateElement = document.createElement('p');\n        updateElement.classList.add(_constants2.default.cssClasses.formError);\n        field.parentNode.insertBefore(updateElement, customErrorEl.nextSibling);\n    }\n\n    updateElement.textContent = customMessage;\n    updateElement.classList.remove(_constants2.default.cssClasses.isHidden);\n};\n\nvar hideMessage = exports.hideMessage = function hideMessage(errorElement) {\n    if (!errorElement) {\n        return;\n    }\n\n    errorElement.classList.add(_constants2.default.cssClasses.isHidden);\n    errorElement.innerHTML = '';\n};\n\nvar getDefaultMessage = function getDefaultMessage(field, ruleName) {\n\n    if (!_rules2.default[ruleName].defaultMessageValue) {\n        return _rules2.default[ruleName].defaultMessage;\n    }\n\n    return _rules2.default[ruleName].defaultMessage.replace('{0}', _rules2.default[ruleName].defaultMessageValue(field));\n};\n\nvar getMessage = exports.getMessage = function getMessage(field, ruleName) {\n    return field.getAttribute('data-val-' + ruleName + '-error') || getDefaultMessage(field, ruleName);\n};\n},{\"./constants\":12,\"./rules\":19,\"@justeat/f-dom\":25}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-conditionalRequired');\n    },\n\n    test: function test(field) {\n        var input = _fDom2.default.first('[name=\\'' + field.getAttribute('data-val-conditionalRequired') + '\\']');\n        var isChecked = input ? input.checked : true;\n\n        return isChecked || field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Conditional Required Rule\n    * -------------------------\n    * This validation rule checks that if a specified checkbox is not checked, then it is required that a value must be entered in the field with this validation check.\n    *\n    * This also means that if the specified checkbox is checked, then the field is not required and the form will return valid when the field is empty.\n    *\n    */\n},{\"@justeat/f-dom\":25}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Custom Rule\n * --------------\n * This validation rule allows the addition of a custom validation check to be added to the field.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        var hasCustom = field.hasAttribute('data-val-custom');\n        var hasCustomError = field.hasAttribute('data-val-custom-error');\n\n        if (hasCustomError && !hasCustom) {\n            throw new Error('f-validate: specify data-val-custom along with data-val-custom-error attribute');\n        }\n\n        return hasCustom;\n    },\n\n    test: null,\n\n    defaultMessage: 'Custom validation failed.'\n};\n},{}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-dateInFuture');\n    },\n\n    test: function test(element) {\n\n        var dateToday = new Date();\n        var currentMonth = dateToday.getMonth() + 1;\n        var currentYear = dateToday.getFullYear();\n\n        var selectedMonthEl = _fDom2.default.first('[data-val-dateInFuture-type=\"month\"]', element);\n        var selectedYearEl = _fDom2.default.first('[data-val-dateInFuture-type=\"year\"]', element);\n        var selectedMonthVal = Number(selectedMonthEl.value);\n        var selectedYearVal = Number(selectedYearEl.value);\n\n        if (selectedYearVal > currentYear && selectedMonthVal > 0) {\n            return true;\n        }\n\n        return selectedYearVal === currentYear && selectedMonthVal >= currentMonth;\n    },\n\n    touchedSelectors: ['[data-val-dateInFuture-type=\"month\"]', '[data-val-dateInFuture-type=\"year\"]'],\n\n    defaultMessage: 'This date must be in the future.'\n}; /**\n    * Date In Future Rule\n    * -------------------\n    * This rule is for validating dates entered by a collection of `select` fields.\n    * When applied to a validation group, it returns true if the date entered in these fields is in the future.\n    *\n    */\n},{\"@justeat/f-dom\":25}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _constants = require('../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.getAttribute('type') === 'email';\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        return _constants2.default.email.test(field.value);\n    },\n\n    defaultMessage: 'This field must contain a valid email address.'\n}; /**\n    * Email Rule\n    * --------------\n    * Checks for a valid email address\n    *\n    */\n},{\"../constants\":12}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _maxlength = require('./maxlength');\n\nvar _maxlength2 = _interopRequireDefault(_maxlength);\n\nvar _minlength = require('./minlength');\n\nvar _minlength2 = _interopRequireDefault(_minlength);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nvar _email = require('./email');\n\nvar _email2 = _interopRequireDefault(_email);\n\nvar _matches = require('./matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _dateInFuture = require('./dateInFuture');\n\nvar _dateInFuture2 = _interopRequireDefault(_dateInFuture);\n\nvar _conditionalRequired = require('./conditionalRequired');\n\nvar _conditionalRequired2 = _interopRequireDefault(_conditionalRequired);\n\nvar _custom = require('./custom');\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    custom: _custom2.default,\n    dateInFuture: _dateInFuture2.default,\n    conditionalRequired: _conditionalRequired2.default,\n    maxlength: _maxlength2.default,\n    minlength: _minlength2.default,\n    pattern: _pattern2.default,\n    email: _email2.default,\n    matches: _matches2.default,\n    required: _required2.default\n};\n},{\"./conditionalRequired\":15,\"./custom\":16,\"./dateInFuture\":17,\"./email\":18,\"./matches\":20,\"./maxlength\":21,\"./minlength\":22,\"./pattern\":23,\"./required\":24}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-equalto');\n    },\n\n    test: function test(field) {\n        var matchedFieldName = field.getAttribute('data-val-equalto');\n\n        if (matchedFieldName) {\n            var input = _fDom2.default.first('input[name=' + matchedFieldName + ']');\n\n            return matchedFieldName && input && field.value === input.value;\n        }\n\n        return false;\n    },\n\n    defaultMessage: 'This field does not match the {0} field.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return field.getAttribute('data-val-equalto').replace('*.', '');\n    }\n}; /**\n    * Matches Rule\n    * ------------\n    * Checks that the value of the field being validated matches the value of a separate specified field\n    *\n    */\n},{\"@justeat/f-dom\":25}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Maxlength Rule\n * --------------\n * Checks that the value of the field is not greater than the specified maximum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('maxlength') || field.hasAttribute('data-val-maxlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('maxlength') === '' || field.getAttribute('data-val-maxlength') === '') {\n            return true;\n        }\n        return field.value.trim().length <= parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    },\n\n    defaultMessage: 'This field must not exceed {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    }\n};\n},{}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Minlength Rule\n * --------------\n * Checks that the value of the field is of a specified minimum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('minlength') || field.hasAttribute('data-val-minlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('minlength') === '' || field.getAttribute('data-val-minlength') === '') {\n            return true;\n        }\n\n        return field.value.trim().length >= parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    },\n\n    defaultMessage: 'This field must be at least {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    }\n};\n},{}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Pattern Rule\n * --------------\n * Allows definition of a rule to validate the input value using Regular Expressions (RegEx)\n *\n */\nvar CONSTANTS = require('../constants');\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('pattern') || field.hasAttribute('data-val-regex');\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        // escape characters that have special meaning inside a regular expression in field value\n        var fieldValue = field.value.replace(CONSTANTS.escapeChars, '\\\\$&');\n        var pattern = field.getAttribute('pattern') || field.getAttribute('data-val-regex');\n\n        return RegExp('^(?:' + pattern + ')$', 'gim').test(fieldValue);\n    },\n\n    defaultMessage: 'This field contains a value that isnt accepted.'\n};\n},{\"../constants\":12}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('required') || field.hasAttribute('data-val-required');\n    },\n\n    test: function test(field) {\n        // Required checkbox & radio, 1 should be checked.\n        if (field.type === 'radio') {\n            var radioInputs = (0, _fDom2.default)('[name=\\'' + field.name + '\\']:checked');\n            return radioInputs.length > 0;\n        }\n\n        if (field.type === 'checkbox') {\n            return field.checked === true;\n        }\n\n        return field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Required Rule\n    * -------------\n    * Checks that a value is present for the field being validated\n    *\n    */\n},{\"@justeat/f-dom\":25}],25:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _qwery=require('qwery'),_qwery2=_interopRequireDefault(_qwery);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var first=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)[0]},all=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)},exists=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return 0<(0,_qwery2.default)(a,b).length},dom=all;dom.all=all,dom.first=first,dom.exists=exists,exports.default=dom;\n},{\"qwery\":33}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isWithinBreakpoint = exports.getCurrentScreenWidth = exports.getBreakpoints = exports.stopFoit = undefined;\n\nvar _stopFoit = require('./modules/stopFoit');\n\nvar _breakpointHelper = require('./modules/breakpointHelper');\n\nexports.stopFoit = _stopFoit.stopFoit;\nexports.getBreakpoints = _breakpointHelper.getBreakpoints;\nexports.getCurrentScreenWidth = _breakpointHelper.getCurrentScreenWidth;\nexports.isWithinBreakpoint = _breakpointHelper.isWithinBreakpoint;\n\n// All helper functions will be imported here, so that they can all be exported within one object.\n},{\"./modules/breakpointHelper\":27,\"./modules/stopFoit\":28}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * @overview Breakpoint handler\n *\n * @module breakpointHelper\n */\n\nvar getBreakpoints = exports.getBreakpoints = function getBreakpoints() {\n    var output = {};\n\n    // Append hidden element to body\n    var screenSizer = document.createElement('div');\n    screenSizer.classList.add('c-screen-sizer');\n\n    document.body.appendChild(screenSizer);\n\n    // It should have a 'content' property containing the breakpoints\n    var breakpoints = window.getComputedStyle(document.querySelector('.c-screen-sizer')).getPropertyValue('content').replace(/[\"']/g, '').split(',');\n    // Gives a list of breakpoints in the form ['narrow:414px', ...etc]\n\n    // When there is no content, at this stage breakpoints should be ['']\n    if (breakpoints.length === 1 && breakpoints[0] === '') {\n        return output;\n    }\n\n    return breakpoints.reduce(function (prev, current) {\n        // `current` is of the form 'narrow:414px'\n        var _current$split = current.split(':'),\n            _current$split2 = _slicedToArray(_current$split, 2),\n            breakpointName = _current$split2[0],\n            breakpointValue = _current$split2[1];\n\n        prev[breakpointName] = breakpointValue; // <- the initial value is used for the first iteration\n        // The object, e.g., { 'narrow': '414px' } is returned to be used as `prev` in the next iteration\n        return prev;\n    }, output); // <- initial value\n};\n\nvar createBreakpointArray = exports.createBreakpointArray = function createBreakpointArray(breakpoints) {\n    // Order the breakpoints from widest to narrowest,\n    // takes the form [['narrow', '414px'], [...etc]]\n    var bps = [];\n    Object.keys(breakpoints).forEach(function (key) {\n        bps.unshift([key, breakpoints[key]]);\n    });\n\n    return bps;\n};\n\nvar getCurrentScreenWidth = exports.getCurrentScreenWidth = function getCurrentScreenWidth() {\n    var currentWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n\n    var bps = createBreakpointArray(breakpoints);\n\n    for (var i = 0; i < bps.length; i++) {\n        // Loops through the breakpoints (in descending order)\n        // returning the first one that is narrower than currentWidth.\n\n        var breakpointWidth = parseInt(bps[i][1], 10); // This also strips the 'px' from the string\n\n        if (i === bps.length - 1 || currentWidth > breakpointWidth) {\n            // If we've reached the last breakpoint, and there still hasn't been a match, return the smallest breakpoint\n            return bps[i][0];\n        }\n    }\n    // If no breakpoints have been set\n    return false;\n};\n\nvar isWithinBreakpoint = exports.isWithinBreakpoint = function isWithinBreakpoint(breakpointString) {\n    var operatorRegex = /[<>=]+/;\n    var operatorMatch = breakpointString.match(operatorRegex);\n    var operator = operatorMatch ? operatorMatch[0] : '';\n\n    var _breakpointString$spl = breakpointString.split(operatorRegex),\n        _breakpointString$spl2 = _slicedToArray(_breakpointString$spl, 2),\n        breakpoint = _breakpointString$spl2[1];\n\n    var currentScreenWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n    var bps = createBreakpointArray(breakpoints);\n\n    // We loop through the breakpoint array until we get a match.\n    // If we match we return the px value as an int. If we do not match we return false\n    var breakpointToPX = function breakpointToPX(breakpointName) {\n        var match = false;\n\n        bps.forEach(function (bp) {\n            if (bp[0] === breakpointName) {\n                match = parseInt(bp[1], 10);\n            }\n        });\n        return match;\n    };\n\n    var breakpointInPX = breakpointToPX(breakpoint);\n\n    // If the breakpoint passed in does not match any we;\n    if (!breakpointInPX) {\n        return false;\n    }\n\n    // We match our passed in operator and execute a sum: current screen width [Passed operator] [Passed breakpoint in PX]\n    switch (operator) {\n        case '>':\n            return currentScreenWidth > breakpointInPX;\n        case '<':\n            return currentScreenWidth < breakpointInPX;\n        case '=':\n            return currentScreenWidth === breakpointInPX;\n        case '>=':\n            return currentScreenWidth >= breakpointInPX;\n        case '<=':\n            return currentScreenWidth <= breakpointInPX;\n        default:\n            return false;\n    }\n};\n},{}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.stopFoit = undefined;\n\nvar _fontfaceobserver = require('fontfaceobserver');\n\nvar _fontfaceobserver2 = _interopRequireDefault(_fontfaceobserver);\n\nvar _fLogger = require('@justeat/f-logger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview stopFOIT reduces the amount of time a user has invisible text when using webfonts.\n *\n * @module stopFOIT\n */\n\n/**\n* Init method initialises the FontFaceObserver events\n*\n*/\n\nvar stopFoit = exports.stopFoit = function stopFoit() {\n    // Create a new `FontFaceObserver` for each webfont\n    var baseFont = new _fontfaceobserver2.default('Hind Vadodara');\n    var headingFont = new _fontfaceobserver2.default('Ubuntu');\n\n    // On load of each font we add `has-fontsLoaded` class with the font type modifier\n    baseFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--base');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n\n    headingFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--heading');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n};\n\nexports.default = stopFoit;\n},{\"@justeat/f-logger\":8,\"fontfaceobserver\":29}],29:[function(require,module,exports){\n/* Font Face Observer v2.0.13 -  Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener(\"scroll\",b,!1):a.attachEvent(\"scroll\",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function c(){document.removeEventListener(\"DOMContentLoaded\",c);a()}):document.attachEvent(\"onreadystatechange\",function k(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",k),a()})};function r(a){this.a=document.createElement(\"div\");this.a.setAttribute(\"aria-hidden\",\"true\");this.a.appendChild(document.createTextNode(a));this.b=document.createElement(\"span\");this.c=document.createElement(\"span\");this.h=document.createElement(\"span\");this.f=document.createElement(\"span\");this.g=-1;this.b.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.c.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.f.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.h.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}\nfunction t(a,b){a.a.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+b+\";\"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+\"px\";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}\nfunction K(){if(null===E){var a=document.createElement(\"div\");try{a.style.font=\"condensed 100px sans-serif\"}catch(b){}E=\"\"!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:\"\",\"100px\",b].join(\" \")}\nA.prototype.load=function(a,b){var c=this,k=a||\"BESbswy\",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'\"'+c.family+'\"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=\nf&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,\ng=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement(\"div\");d.dir=\"ltr\";t(e,L(c,\"sans-serif\"));t(n,L(c,\"serif\"));t(p,L(c,\"monospace\"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'\"'+c.family+'\",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'\"'+c.family+'\",serif'));\nz(p,function(a){h=a;u()});t(p,L(c,'\"'+c.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());\n\n},{}],30:[function(require,module,exports){\nmodule.exports = function (callback) {\r\n\r\n\tif (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n\t\t// Already ready or interactive, execute callback\r\n\t\tcallback.call();\r\n\t}\r\n\telse if (document.attachEvent) {\r\n\t\t// Old browsers\r\n\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\tif (document.readyState === 'interactive')\r\n\t\t\t\tcallback.call();\r\n\t\t});\r\n\t}\r\n\telse if (document.addEventListener) {\r\n\t\t// Modern browsers\r\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\r\n\t}\r\n}\r\n\n},{}],31:[function(require,module,exports){\n(function (global){\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],32:[function(require,module,exports){\n/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tvoid 0;\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n\n},{}],33:[function(require,module,exports){\n/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n\n},{}],34:[function(require,module,exports){\n!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n},{}]},{},[2])\n//# sourceMappingURL=script.js.map\n"]}