{"version":3,"sources":["script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","testForms","_fDom","all","forEach","form","validateForm","_fValidate","addCustomValidation","field","addEventListener","preventDefault","testGroupForms","groupErrorPlacement","_interopRequireDefault","obj","__esModule","@justeat/f-dom","@justeat/f-validate","2","_fHeader","_fozzie","_liteReady","_svg4everybody","_formValidationSetup","stopFoit","checkForUser","./docs/formValidationSetup","@justeat/f-footer","@justeat/f-header","@justeat/fozzie","lite-ready","picturefill","svg4everybody","3","_qwery","selector","root","arguments","undefined","dom","first","exists","_default","qwery","4","resizeInit","tabindexResize","collapseFooterPanels","_liteReady2","_qwery2","_lodash2","footerPanels","breakpoints","getBreakpoints","window","matchMedia","mid","matches","panel","removeAttribute","tabIndex","classList","add","lodash.debounce","5","getCurrentScreenWidth","_breakpointHelper","./modules/breakpointHelper","6","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","TypeError","output","screenSizer","document","createElement","body","appendChild","getComputedStyle","querySelector","getPropertyValue","replace","split","reduce","prev","current","_current$split","_current$split2","breakpointName","breakpointValue","currentWidth","innerWidth","bps","keys","key","unshift","breakpointWidth","parseInt","7","setupHeader","_userAuth","menuButton","input","replaceTag","outerHTML","button","setAttribute","convertInputToButton","navContainer","navLabel","toggle","documentElement","./userAuth","8","_userData","_userData2","removeElement","element","remove","removeHiddenClass","updateDom","authData","authEl","loginEl","isAuthenticated","headerName","headerEmail","friendlyName","textContent","email","fetch","method","credentials","then","response","json","catch","error","Promise","resolve","./userData","9","storeLocalAnalyticsBlob","result","localStorage","setItem","JSON","stringify","enrichUserDataWithCount","userData","orderCountResponse","orderCount","Count","pushUserData","dataLayer","fetchOrderCountAndSave","orderCountLink","orderCountUrl","getAttribute","reject","saveUserData","supportedEl","test","savedAnalytics","getItem","localOrderCount","parse","currentTime","Date","getTime","Expires","10","getDebugMode","disableDebugMode","enableDebugMode","clearHistory","getHistory","errorLogInit","logError","logWarning","log","_Logger2","_ErrorLogger2","debugMode","logger","errorLogger","init","getPersistentData","clearPersistentData","./modules/ErrorLogger","./modules/Logger","11","_typeof","constructor","prototype","_createClass","b","d","enumerable","configurable","writable","ErrorLogger","_classCallCheck","this","config","serverFileUrl","loggerCallback","winlogCallback","bindOnError","location","toString","pageUrl","Exception","Level","logToServer","encodeURIComponent","XMLHttpRequest","ActiveXObject","open","send","onerror","g","stack","12","console","Logger","data","now","valueOf","clear","13","addCallBack","callBacks","callBack","runCallbacks","callback","14","cssClasses","isHidden","formError","formErrors","hasError","hasSuccess","escapeChars","fieldValues","validationGroup","validateOnOptions","15","defaultOptions","defineProperties","target","props","descriptor","Constructor","protoProps","staticProps","_fDom2","_rules2","_callbacks","_messages","_constants2","VALIDATION_KEYS","errorClass","successClass","focus","enableHTML5Validation","getForm","tagName","forms","FormValidation","nameOrNode","_this","options","instance","assign","fields","getFields","event","isValid","customHandlers","errorMessages","onSuccess","on","onError","validateOn","setFormNoValidate","bind","callBackEvent","exception","currentElement","_this2","formValid","required","condition","errorMessage","fieldValid","fieldHasValidation","ruleName","touchedSelectors","notInErrorState","elementsNotTouched","definition","custom","skipTest","childField","contains","map","childSelector","filter","el","hasAttribute","getMessage","setSuccess","setError","errorElement","getInlineErrorElement","hideMessage","displayInlineMessage","success","groupedErrorElement","findGroupedErrorElement","displayGroupedMessages","name","handler","parentElement","updateElement","innerHTML","insertBefore","getGroupedErrorPosition","li","groupElement","lastChild","firstChild","_this3","indexOf","./callbacks","./constants","./messages","./rules","16","getCustomErrorElement","errorPlacement","nextSibling","nextElementSibling","customErrorEl","customMessage","parentNode","defaultMessageValue","defaultMessage","getDefaultMessage","17","checked","trim","18","hasCustom","19","dateToday","currentMonth","getMonth","currentYear","getFullYear","selectedMonthEl","selectedYearEl","selectedMonthVal","Number","selectedYearVal","20","_constants","../constants","21","_required2","_maxlength2","_minlength2","_pattern2","_email2","_matches2","_dateInFuture2","_conditionalRequired2","_custom2","dateInFuture","conditionalRequired","maxlength","minlength","pattern","./conditionalRequired","./custom","./dateInFuture","./email","./matches","./maxlength","./minlength","./pattern","./required","22","matchedFieldName","23","24","25","CONSTANTS","fieldValue","RegExp","26","type","27","28","_stopFoit","./modules/stopFoit","29","apply","dup","30","_fontfaceobserver","_fontfaceobserver2","_fLogger","baseFont","headingFont","load","@justeat/f-logger","fontfaceobserver","31","l","attachEvent","createTextNode","h","style","cssText","y","offsetWidth","width","scrollLeft","scrollWidth","z","k","A","family","weight","stretch","B","C","E","F","J","fonts","L","font","K","join","q","D","H","navigator","vendor","exec","userAgent","G","M","setTimeout","N","race","clearTimeout","removeEventListener","readyState","detachEvent","m","v","w","x","removeChild","dir","I","hidden","FontFaceObserver","32","33","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","Function","objectToString","nativeMax","Math","max","nativeMin","min","isObject","toNumber","isObjectLike","isSymbol","other","isBinary","slice","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","34","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","ua","HTMLPictureElement","match","$1","img","source","sizes","picture","nodeName","toUpperCase","cloneNode","firstElementChild","_pfLastSize","imgs","querySelectorAll","addListener","srcset","eminpx","alwaysCheckWDescriptor","evalId","pf","isSupportTestReady","noop","image","getImgAttr","setImgAttr","removeImgAttr","docElem","types","cfg","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","in","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","evt","fn","capture","memoize","cache","isSpace","regLength","buildStr","image2","width1","isDomReady","timeout","timestamp","later","regReady","run","lastClientWidth","evalCSS","css","index","string","toLowerCase","parsedLength","setResolution","candidate","sizesattr","cWidth","calcListLength","res","opt","elements","plen","nodeType","context","qsa","reevaluate","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","getCandidateForSrc","src","set","candidates","parseSet","makeUrl","url","warn","implementation","hasFeature","ns","substr","supSrcset","supSizes","supPicture","complete","onload","setSize","href","matchesMedia","media","mMQ","calcLength","sourceSizeValue","supportsType","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","desc","lastChar","intVal","floatVal","pError","parseFloat","has1x","tokenize","charAt","parseSrcset","getEmValue","div","originalHTMLCSS","originalBodyCSS","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","parseSizes","setRes","len","applySetCandidate","j","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","pow","sqrt","setSrc","origWidth","getSet","parseSets","parent","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","sources","getElementsByTagName","getAllSourceElements","supported","srcAttr","parsed","srcSetCandidates","matchingSet","evaluated","extreme","evaled","clientWidth","height","innerHeight","clientHeight","vw","vh","em","rem","fillImgs","last","_","shift","define","amd","typeUri","Image","detectTypeSupport","35","classOnly","doc","win","html","isAncestor","container","compareDocumentPosition","toArray","ar","isNode","arrayLike","isFinite","opt_root","normalizeRoot","concat","flatten","getElementsByClassName","uniq","label","36","factory","embed","svg","fragment","createDocumentFragment","viewBox","clone","childNodes","loadreadystatechange","xhr","onreadystatechange","cachedDocument","_cachedDocument","createHTMLDocument","responseText","_cachedTarget","_embeds","splice","item","id","getElementById","getSVGAncestor","node","rawopts","polyfill","opts","inIframe","top","requests","requestAnimationFrame","uses","numberOfSvgUseElementsToBypass","oninterval","use","attributeName","validate","srcSplit"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = setupValidation;\n\nvar _fDom = _interopRequireDefault(require(\"@justeat/f-dom\"));\n\nvar _fValidate = _interopRequireDefault(require(\"@justeat/f-validate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs f-validate on any forms in the docs\n * tagged with the `test-form` or `test-form-group` name\n */\nfunction setupValidation() {\n  var testForms = _fDom.default.all('form[name=\"test-form\"');\n\n  if (testForms.length > 0) {\n    testForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form);\n      validateForm.addCustomValidation('customRule', function (field) {\n        if (field.value === 'passTest') {\n          return true;\n        }\n\n        return false;\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n\n  var testGroupForms = _fDom.default.all('form[name=\"test-form-group\"');\n\n  if (testGroupForms.length > 0) {\n    testGroupForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form, {\n        // eslint-disable-line no-unused-vars\n        groupErrorPlacement: 'bottom'\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n}\n\n},{\"@justeat/f-dom\":3,\"@justeat/f-validate\":15}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"@justeat/f-footer\");\n\nvar _fHeader = require(\"@justeat/f-header\");\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _svg4everybody = _interopRequireDefault(require(\"svg4everybody\"));\n\nvar _formValidationSetup = _interopRequireDefault(require(\"./docs/formValidationSetup\"));\n\nrequire(\"picturefill\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _liteReady.default)(function () {\n  (0, _fozzie.stopFoit)();\n  (0, _svg4everybody.default)();\n  (0, _formValidationSetup.default)();\n  (0, _fHeader.checkForUser)();\n});\n\n},{\"./docs/formValidationSetup\":1,\"@justeat/f-footer\":4,\"@justeat/f-header\":7,\"@justeat/fozzie\":28,\"lite-ready\":32,\"picturefill\":34,\"svg4everybody\":36}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Returns first element in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Element}\n*/\nvar first = function first(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root)[0];\n};\n/**\n* Returns all elements in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar all = function all(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root);\n};\n/**\n* Returns true, if at least one element exists in the DOM, otherwise returns false.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {boolean}\n*/\n\n\nvar exists = function exists(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root).length > 0;\n};\n/**\n* Returns all elements in the DOM for the specified selector. Short syntax of `all` method.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar dom = all;\ndom.all = all;\ndom.first = first;\ndom.exists = exists;\nvar _default = dom;\nexports.default = _default;\n},{\"qwery\":35}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.resizeInit = exports.tabindexResize = exports.collapseFooterPanels = undefined;\n\nvar _liteReady = require('lite-ready');\n\nvar _liteReady2 = _interopRequireDefault(_liteReady);\n\nvar _qwery = require('qwery');\n\nvar _qwery2 = _interopRequireDefault(_qwery);\n\nvar _fozzie = require('@justeat/fozzie');\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar footerPanels = void 0;\nvar breakpoints = null;\n\nvar tabindexResize = function tabindexResize() {\n\n    if (breakpoints === null) {\n        breakpoints = (0, _fozzie.getBreakpoints)();\n    }\n\n    if (window.matchMedia('(min-width: ' + breakpoints.mid + ')').matches) {\n        footerPanels.forEach(function (panel) {\n            panel.removeAttribute('tabindex');\n        });\n    } else {\n        footerPanels.forEach(function (panel) {\n            panel.tabIndex = 0;\n        });\n    }\n};\n\nvar collapseFooterPanels = function collapseFooterPanels() {\n    (0, _qwery2.default)('[data-panel-collapsible]').forEach(function (panel) {\n        panel.classList.add('is-collapsed');\n    });\n};\n\nvar resizeInit = function resizeInit() {\n    window.addEventListener('resize', (0, _lodash2.default)(tabindexResize, 100));\n    footerPanels = (0, _qwery2.default)('[data-footer-panel-heading]');\n    tabindexResize();\n};\n\n(0, _liteReady2.default)(function () {\n    collapseFooterPanels();\n    resizeInit();\n});\n\nexports.collapseFooterPanels = collapseFooterPanels;\nexports.tabindexResize = tabindexResize;\nexports.resizeInit = resizeInit;\n},{\"@justeat/fozzie\":5,\"lite-ready\":32,\"lodash.debounce\":33,\"qwery\":35}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getCurrentScreenWidth = exports.getBreakpoints = undefined;\n\nvar _breakpointHelper = require('./modules/breakpointHelper');\n\nexports.getBreakpoints = _breakpointHelper.getBreakpoints;\nexports.getCurrentScreenWidth = _breakpointHelper.getCurrentScreenWidth; // All helper functions will be imported here, so that they can all be exported within one object.\n},{\"./modules/breakpointHelper\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * @overview Breakpoint handler\n *\n * @module breakpointHelper\n */\n\nvar getBreakpoints = exports.getBreakpoints = function getBreakpoints() {\n    var output = {};\n\n    // Append hidden element to body\n    var screenSizer = document.createElement('div');\n    screenSizer.classList.add('c-screen-sizer');\n\n    document.body.appendChild(screenSizer);\n\n    // It should have a 'content' property containing the breakpoints\n    var breakpoints = window.getComputedStyle(document.querySelector('.c-screen-sizer')).getPropertyValue('content').replace(/[\"']/g, '').split(',');\n    // Gives a list of breakpoints in the form ['narrow:414px', ...etc]\n\n    // When there is no content, at this stage breakpoints should be ['']\n    if (breakpoints.length === 1 && breakpoints[0] === '') {\n        return output;\n    }\n\n    return breakpoints.reduce(function (prev, current) {\n        // `current` is of the form 'narrow:414px'\n        var _current$split = current.split(':'),\n            _current$split2 = _slicedToArray(_current$split, 2),\n            breakpointName = _current$split2[0],\n            breakpointValue = _current$split2[1];\n\n        prev[breakpointName] = breakpointValue; // <- the initial value is used for the first iteration\n        // The object, e.g., { 'narrow': '414px' } is returned to be used as `prev` in the next iteration\n        return prev;\n    }, output); // <- initial value\n};\n\nvar getCurrentScreenWidth = exports.getCurrentScreenWidth = function getCurrentScreenWidth() {\n    var currentWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n\n    // Order the breakpoints from widest to narrowest,\n    // takes the form [['narrow', '414px'], [...etc]]\n    var bps = [];\n    Object.keys(breakpoints).forEach(function (key) {\n        bps.unshift([key, breakpoints[key]]);\n    });\n\n    for (var i = 0; i < bps.length; i++) {\n        // Loops through the breakpoints (in descending order)\n        // returning the first one that is narrower than currentWidth.\n\n        var breakpointWidth = parseInt(bps[i][1], 10); // This also strips the 'px' from the string\n\n        if (i === bps.length - 1 || currentWidth > breakpointWidth) {\n            // If we've reached the last breakpoint, and there still hasn't been a match, return the smallest breakpoint\n            return bps[i][0];\n        }\n    }\n    // If no breakpoints have been set\n    return false;\n};\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.checkForUser = exports.setupHeader = undefined;\n\nvar _liteReady = require('lite-ready');\n\nvar _liteReady2 = _interopRequireDefault(_liteReady);\n\nvar _userAuth = require('./userAuth');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Converts an input to a button in order to improve accessibility.\n *\n * @param {string} selector\n */\n/**\n * @overview Fozzie header JavaScript behaviour.\n *\n * @module f-header\n */\n\nvar convertInputToButton = function convertInputToButton(selector) {\n    var input = document.querySelector(selector);\n\n    if (input) {\n        var replaceTag = input.outerHTML.replace(/^<input/, '<button');\n        input.outerHTML = replaceTag + '</button>';\n\n        // Query the DOM again for this element now it has changed to a button\n        var button = document.querySelector(selector);\n        button.setAttribute('type', 'button');\n\n        return button;\n    }\n\n    return null;\n};\n\n/**\n * Setup the behaviour for the header component.\n */\nvar setupHeader = function setupHeader() {\n    var menuButton = convertInputToButton('[data-nav-enhance]');\n\n    if (menuButton) {\n        /**\n         * Attach click event handler  as this element is now a button this event will\n         * trigger when the `enter` and `spacebar` keys are pressed.\n         *\n         * @see {@link https://www.w3.org/TR/html51/editing.html#running-synthetic-click-activation-steps - synthetic click activation steps}\n         */\n        menuButton.addEventListener('click', function () {\n            var navContainer = document.querySelector('[data-nav-container]');\n            var navLabel = document.querySelector('[data-nav-toggle]');\n\n            if (navContainer) {\n                navContainer.classList.toggle('is-visible');\n            }\n\n            if (navLabel) {\n                navLabel.classList.toggle('is-open');\n            }\n\n            document.documentElement.classList.toggle('is-navInView');\n        });\n    }\n};\n\n(0, _liteReady2.default)(function () {\n    setupHeader();\n});\n\nexports.setupHeader = setupHeader;\nexports.checkForUser = _userAuth.checkForUser;\n},{\"./userAuth\":8,\"lite-ready\":32}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.checkForUser = undefined;\n\nvar _userData = require('./userData');\n\nvar _userData2 = _interopRequireDefault(_userData);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar removeElement = function removeElement(element) {\n    return element && element.remove();\n}; /**\n    * @overview Authorisation handler\n    *\n    * @module userAuth\n    */\n\nvar removeHiddenClass = function removeHiddenClass(element) {\n    return element && element.classList.remove('is-hidden');\n};\n\nvar updateDom = function updateDom(authData) {\n    var authEl = document.querySelector('[data-auth-wrapper]');\n    var loginEl = document.querySelector('[data-login]');\n\n    if (authData.isAuthenticated) {\n        var headerName = document.querySelector('[data-name]');\n        var headerEmail = document.querySelector('[data-email]');\n\n        if (headerName && authData.friendlyName !== '') {\n            headerName.textContent = authData.friendlyName;\n        }\n        if (headerEmail && authData.email !== '') {\n            headerEmail.textContent = authData.email;\n        }\n\n        removeHiddenClass(authEl);\n        removeElement(loginEl);\n    } else {\n        removeHiddenClass(loginEl);\n        removeElement(authEl);\n    }\n\n    return authData;\n};\n\n/**\n * Checks if authorisation details can be found in the current session hits .net\n * endpoint and is returned valid auth details or no details if not logged in\n */\nvar checkForUser = exports.checkForUser = function checkForUser() {\n    var authEl = document.querySelector('[data-auth-wrapper]');\n\n    // if our auth wrapper exists, get our user details\n    if (authEl) {\n        // this fetch logic will be extracted to a new module\n        return fetch('/api/account/details', {\n            method: 'GET',\n            credentials: 'same-origin'\n        }).then(function (response) {\n            return response.json();\n        }).then(updateDom).then(_userData2.default)\n        // should send this error to the f-logger but for now, just erroring here inline\n        .catch(function (error) {\n            void 0;\n        });\n    }\n\n    return Promise.resolve();\n};\n},{\"./userData\":9}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * @overview UserData handler\n *\n * @module userAuth/userData\n */\n\nvar storeLocalAnalyticsBlob = function storeLocalAnalyticsBlob(result) {\n    window.localStorage.setItem('je-analytics', JSON.stringify(result));\n    return result;\n};\n\nvar enrichUserDataWithCount = function enrichUserDataWithCount(userData, orderCountResponse) {\n    userData.orderCount = orderCountResponse.Count;\n    return userData;\n};\n\nvar pushUserData = function pushUserData(userData) {\n    return window.dataLayer.push({ userData: userData });\n};\n\nvar fetchOrderCountAndSave = function fetchOrderCountAndSave(userData) {\n    var orderCountLink = document.querySelector('link[rel=\"ordercountlink\"]');\n    var orderCountUrl = orderCountLink && orderCountLink.getAttribute('href');\n\n    if (orderCountUrl) {\n        return fetch(orderCountUrl, {\n            method: 'GET',\n            credentials: 'same-origin'\n        }).then(function (response) {\n            return response.json();\n        }).then(storeLocalAnalyticsBlob).then(function (result) {\n            return enrichUserDataWithCount(userData, result);\n        }).then(pushUserData).catch(function (err) {\n            void 0;\n            pushUserData(userData);\n        });\n    }\n\n    pushUserData(userData);\n    return Promise.reject();\n};\n\nvar getLocalAnalyticsBlob = function getLocalAnalyticsBlob() {\n    return window.localStorage.getItem('je-analytics');\n};\n\nvar orderCountSupported = function orderCountSupported() {\n    var supportedEl = document.querySelector('[data-order-count-supported]');\n    if (supportedEl && supportedEl.value) {\n        // Case insensitive regex test for value=\"true\"\n        return (/^true$/i.test(supportedEl.value)\n        );\n    }\n    return Promise.reject();\n};\n\nvar saveUserData = exports.saveUserData = function saveUserData(authData) {\n    if (!authData.isAuthenticated) {\n        return Promise.resolve();\n    }\n\n    var userData = authData.userData;\n\n\n    if (!orderCountSupported()) {\n        pushUserData(userData);\n        return Promise.resolve();\n    }\n\n    var savedAnalytics = getLocalAnalyticsBlob();\n    if (!savedAnalytics) {\n        return fetchOrderCountAndSave(userData);\n    }\n\n    var localOrderCount = JSON.parse(savedAnalytics);\n    var currentTime = new Date().getTime();\n    var localOrderCountExpires = Date.parse(localOrderCount.Expires);\n\n    if (localOrderCountExpires < currentTime) {\n        return fetchOrderCountAndSave(userData);\n    }\n\n    enrichUserDataWithCount(userData, localOrderCount);\n    pushUserData(userData);\n\n    return Promise.resolve();\n};\n},{}],10:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getDebugMode=exports.disableDebugMode=exports.enableDebugMode=exports.clearHistory=exports.getHistory=exports.errorLogInit=exports.logError=exports.logWarning=exports.log=void 0;var _Logger=require('./modules/Logger'),_Logger2=_interopRequireDefault(_Logger),_ErrorLogger=require('./modules/ErrorLogger'),_ErrorLogger2=_interopRequireDefault(_ErrorLogger);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger}),log=function(a){logger.log(a)},logError=function(a){errorLogger.log(a,'Error')},logWarning=function(a){errorLogger.log(a,'Warn')},getHistory=function(){logger.getPersistentData()},clearHistory=function(){logger.clearPersistentData()},enableDebugMode=function(){debugMode=!0,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},disableDebugMode=function(){debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},errorLogInit=function(a){errorLogger.init(a)},getDebugMode=function(){return debugMode};exports.log=log,exports.logWarning=logWarning,exports.logError=logError,exports.errorLogInit=errorLogInit,exports.getHistory=getHistory,exports.clearHistory=clearHistory,exports.enableDebugMode=enableDebugMode,exports.disableDebugMode=disableDebugMode,exports.getDebugMode=getDebugMode;\n},{\"./modules/ErrorLogger\":11,\"./modules/Logger\":12}],11:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var ErrorLogger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.logger=b.logger,this.debugMode=b.logger.debugMode,this.config.serverFileUrl=b.serverFileUrl||'/js/shared/js-error.js',this.config.loggerCallback=b.loggerCallback||null,this.config.winlogCallback=b.winlogCallback||null,this.bindOnError()}return _createClass(a,[{key:'log',value:function log(a,b,c){var d=window.location.toString(),e={pageUrl:d,Exception:a,Level:b};this.logger.log(e),this.debugMode||(this.logToServer(e),'function'==typeof this.config.loggerCallback&&('Error'===b?this.config.winlogCallback.call(this,a,d,c):this.config.loggerCallback.call(this,a,d)))}},{key:'init',value:function init(a){this.config.serverFileUrl=a.serverFileUrl||this.config.serverFileUrl,this.config.loggerCallback=a.loggerCallback||this.config.loggerCallback,this.config.winlogCallback=a.winlogCallback||this.config.winlogCallback}},{key:'logToServer',value:function logToServer(a){var b,c='';c='object'===('undefined'==typeof a?'undefined':_typeof(a))?JSON.stringify(a):a;var d=this.config.serverFileUrl+'?error='+encodeURIComponent(c);if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)b=new ActiveXObject('Microsoft.XMLHTTP');else return;b.open('GET',d),b.send()}},{key:'bindOnError',value:function bindOnError(){var a=this;window.onerror=function(b,c,d,e,f){var g=b+' : '+c+' : Line '+d+' : Char '+e+' : StackTrace '+(f?f.stack:'');return a.log(g,'Error',d),!0}}}]),a}();exports.default=ErrorLogger;\n},{}],12:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var output=function(a){if('undefined'!=typeof window.console)void 0;else throw new Error('Console is not supported')},getPersistentData=function(){if(!localStorage)output('Local storage not available');else if(0<localStorage.length){var a,b,c,d;for(output('/***** Output local storage *****/'),a=0;a<localStorage.length;a++)b=+localStorage.key(a),c=localStorage[b],d=new Date(b),'Invalid Date'!==(d+'').valueOf()&&output(d+' => '+c);output('/***** End of local storage *****/')}else output('Local storage is empty')},clearPersistentData=function(){localStorage&&(localStorage.clear(),output('Local storage cleared'))},Logger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.debugMode=this.config.debugMode,this.data={}}return _createClass(a,[{key:'log',value:function log(a){var b=a;if(this.debugMode){var c=Date.now().toString();this.data[c]=b,'object'===('undefined'==typeof localStorage?'undefined':_typeof(localStorage))&&(b=JSON.stringify(b),localStorage.setItem(c,b)),output(b)}}}]),a}();exports.getPersistentData=getPersistentData,exports.clearPersistentData=clearPersistentData,exports.default=Logger;\n},{}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar addCallBack = exports.addCallBack = function addCallBack(callBacks, callBack) {\n\n    if (typeof callBack !== 'function') {\n        throw new TypeError('call back is not a function');\n    }\n\n    callBacks.push(callBack);\n};\n\nvar runCallbacks = exports.runCallbacks = function runCallbacks(callBacks) {\n\n    if (!callBacks) {\n        return;\n    }\n\n    callBacks.forEach(function (callback) {\n        callback();\n    });\n};\n},{}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar cssClasses = {\n    isHidden: 'is-hidden',\n    formError: 'form-error',\n    formErrors: 'form-errors',\n    hasError: 'has-error',\n    hasSuccess: 'has-success'\n};\n\nvar validationGroup = 'data-val-group';\n\nexports.default = {\n    cssClasses: cssClasses,\n    email: /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n    escapeChars: /[|\\\\{}()[\\]^$+*?.]/g,\n    fieldValues: 'input, select, textarea, [' + validationGroup + ']',\n    validationGroup: validationGroup,\n    validateOnOptions: ['blur', 'keyup']\n};\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.defaultOptions = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * @module Validate\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * ## Goals\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * To validate a form based on the HTML5 attributes each form has, or the data attributes specified on them\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should accept either:\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * 1. A form DOM Element\n                                                                                                                                                                                                                                                                               * 2. A string relating to the name of the form\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should also be able to label a form field with `data-novalidate`\n                                                                                                                                                                                                                                                                               * to remove it from those being validated\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               */\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _callbacks = require('./callbacks');\n\nvar _messages = require('./messages');\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Load in the set of test definitions to validate against\nvar VALIDATION_KEYS = Object.keys(_rules2.default);\n\nvar defaultOptions = exports.defaultOptions = {\n    errorClass: _constants2.default.cssClasses.hasError,\n    successClass: _constants2.default.cssClasses.hasSuccess,\n    focus: false,\n    groupErrorPlacement: false,\n    enableHTML5Validation: false\n};\n\nvar getForm = function getForm(descriptor) {\n\n    if (!descriptor) {\n        throw new Error('f-validate: expected form name or form node parameter');\n    }\n\n    var form = (typeof descriptor === 'undefined' ? 'undefined' : _typeof(descriptor)) === 'object' && descriptor.tagName === 'FORM' ? descriptor : document.forms[descriptor];\n\n    if (!form) {\n        throw new Error('f-validate: form not found');\n    }\n\n    return form;\n};\n\nvar elementsUntouched = function elementsUntouched(element, current, touchedSelectors) {\n\n    var notInErrorState = !current.field.classList.contains(_constants2.default.cssClasses.hasError);\n    var elementsNotTouched = touchedSelectors.map(function (childSelector) {\n        return _fDom2.default.first(childSelector, element);\n    }).filter(function (el) {\n        return el && !el.hasAttribute('data-touched');\n    });\n\n    // If one select has not been interacted with do not run test method\n    return notInErrorState && elementsNotTouched.length > 0;\n};\n\nvar FormValidation = function () {\n    function FormValidation(nameOrNode) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, FormValidation);\n\n        this.options = Object.assign({}, defaultOptions, options);\n        this.form = getForm(nameOrNode);\n        this.fields = this.getFields();\n\n        // Allow fields to be validated on 'enter'\n        this.fields.forEach(function (field) {\n            field.addEventListener('keydown', function (event) {\n                if (event.key === 'Enter') {\n                    _this.isValid(event);\n                }\n            });\n        });\n\n        this.customHandlers = {};\n        this.callBacks = {};\n        this.errorMessages = [];\n\n        if (this.options.onSuccess) {\n            this.on('success', this.options.onSuccess);\n        }\n        if (this.options.onError) {\n            this.on('error', this.options.onError);\n        }\n        if (this.options.validateOn) {\n            this.validateOn();\n        }\n\n        this.setFormNoValidate();\n        this.form.addEventListener('submit', this.isValid.bind(this));\n    }\n\n    /**\n     * on - Associates a callback with an event.\n     * Callbacks associated with an event will be called when the event fires.\n     * example:\n     *      formValidator.on('success', () => {\n     *          Do something when the form is found to be valid.\n     *      });\n     *      formValidator.on('error', () => {\n     *          Do something when the form is found to be invalid.\n     *      });\n     */\n\n\n    _createClass(FormValidation, [{\n        key: 'on',\n        value: function on(callBackEvent, callBack) {\n\n            if (!this.callBacks[callBackEvent]) {\n                this.callBacks[callBackEvent] = [];\n            }\n\n            try {\n                (0, _callbacks.addCallBack)(this.callBacks[callBackEvent], callBack, callBackEvent);\n            } catch (exception) {\n                throw new TypeError('f-validate: ' + callBackEvent + ' callback must be a function');\n            }\n        }\n    }, {\n        key: 'setSuccess',\n        value: function setSuccess(element) {\n            element.classList.remove(this.options.errorClass);\n            element.classList.add(this.options.successClass);\n        }\n    }, {\n        key: 'setError',\n        value: function setError(element) {\n            element.classList.remove(this.options.successClass);\n            element.classList.add(this.options.errorClass);\n        }\n    }, {\n        key: 'setFormNoValidate',\n        value: function setFormNoValidate() {\n\n            if (!this.options.enableHTML5Validation) {\n                this.form.setAttribute('novalidate', '');\n            }\n        }\n\n        /**\n         * Validates the form\n         *\n         * @param event\n         * @param {object} currentElement\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid(event, currentElement) {\n            var _this2 = this;\n\n            var formValid = true;\n            this.errorMessages = [];\n\n            this.fields.forEach(function (field) {\n\n                // currentElement refers to an element that is being validated on blur/keyup\n                // only validate on blur/keyup if the field is not empty and is not required\n                if (currentElement && (currentElement.field !== field || field.value === '' && !_rules2.default.required.condition(field))) {\n                    return;\n                }\n\n                var errorMessage = '';\n\n                // This needs to be set outside of the forEach loop, as otherwise only the final rule will apply the state\n                var fieldValid = true;\n\n                // This prevents us from applying state classes to fields without rules\n                var fieldHasValidation = false;\n\n                VALIDATION_KEYS.forEach(function (ruleName) {\n                    var definition = _rules2.default[ruleName];\n\n                    if (field.getAttribute('data-val-custom')) {\n                        _rules2.default.custom.test = _this2.customHandlers[field.getAttribute('data-val-custom')];\n                    }\n\n                    if (definition.condition(field)) {\n                        fieldHasValidation = true;\n                        var skipTest = false;\n\n                        // If rule has elements that need to be checked for touch, and validation is happening on blur/keyup\n                        if (definition.touchedSelectors && currentElement) {\n                            currentElement.childField.setAttribute('data-touched', true);\n                            skipTest = elementsUntouched(field, currentElement, definition.touchedSelectors);\n                        }\n\n                        if (!skipTest && !definition.test(field, currentElement)) {\n                            fieldValid = false;\n                            errorMessage = (0, _messages.getMessage)(field, ruleName);\n                            _this2.errorMessages.push(errorMessage);\n                        }\n                    }\n                });\n\n                if (fieldHasValidation) {\n\n                    if (fieldValid) {\n                        _this2.setSuccess(field);\n                    } else {\n                        formValid = false;\n                        _this2.setError(field);\n                    }\n\n                    // if we aren't handling a group field validation\n                    if (!_this2.options.groupErrorPlacement) {\n                        var errorElement = (0, _messages.getInlineErrorElement)(field, _this2.form);\n                        if (fieldValid) {\n                            (0, _messages.hideMessage)(errorElement);\n                        } else {\n                            (0, _messages.displayInlineMessage)(errorElement, errorMessage, field, _this2.form);\n                        }\n                    }\n                }\n            });\n\n            if (!formValid) {\n                this.setError(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.error);\n\n                if (event) {\n                    event.preventDefault();\n                }\n            } else {\n                this.setSuccess(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.success);\n            }\n\n            if (this.options.groupErrorPlacement) {\n                var groupedErrorElement = this.findGroupedErrorElement();\n                if (formValid) {\n                    (0, _messages.hideMessage)(groupedErrorElement);\n                } else {\n                    this.displayGroupedMessages(groupedErrorElement);\n                }\n            }\n\n            return formValid;\n        }\n    }, {\n        key: 'addCustomValidation',\n        value: function addCustomValidation(name, handler) {\n            if (!name || typeof name !== 'string') {\n                throw new Error('f-validate: please provide the name');\n            }\n            if (!handler || typeof handler !== 'function') {\n                throw new Error('f-validate: please provide a custom method');\n            }\n\n            this.customHandlers[name] = handler;\n        }\n    }, {\n        key: 'getFields',\n        value: function getFields() {\n            var fields = (0, _fDom2.default)(_constants2.default.fieldValues, this.form);\n\n            return fields.filter(function (f) {\n                return !(f.hasAttribute('type') && f.getAttribute('type') === 'hidden') && !f.hasAttribute('disabled') && !f.hasAttribute('data-novalidate') && !f.parentElement.hasAttribute(_constants2.default.validationGroup);\n            });\n        }\n    }, {\n        key: 'findGroupedErrorElement',\n        value: function findGroupedErrorElement() {\n            var groupedErrorElement = _fDom2.default.first('.' + _constants2.default.cssClasses.formErrors, this.form);\n\n            return groupedErrorElement;\n        }\n    }, {\n        key: 'displayGroupedMessages',\n        value: function displayGroupedMessages(groupedErrorElement) {\n\n            var updateElement = groupedErrorElement;\n\n            if (!groupedErrorElement) {\n                updateElement = document.createElement('ul');\n                updateElement.classList.add(_constants2.default.cssClasses.formErrors);\n\n                this.form.insertBefore(updateElement, this.getGroupedErrorPosition());\n            } else {\n                groupedErrorElement.innerHTML = '';\n            }\n\n            this.errorMessages.forEach(function (error) {\n                var li = document.createElement('li');\n                li.textContent = error;\n                updateElement.appendChild(li);\n            });\n        }\n    }, {\n        key: 'getGroupedErrorPosition',\n        value: function getGroupedErrorPosition() {\n\n            var groupElement = _fDom2.default.first(this.options.groupErrorPlacement, this.form);\n\n            if (groupElement) {\n                return groupElement;\n            }\n\n            if (this.options.groupErrorPlacement === 'bottom') {\n                return this.form.lastChild;\n            }\n\n            return this.form.firstChild;\n        }\n\n        /**\n         * Validates form field(s) based on the event passed into options.validateOn\n         *\n         * example:\n         *       this.validation = new FormValidation(this.form, {\n         *           validateOn: 'blur'\n         *       });\n         */\n\n    }, {\n        key: 'validateOn',\n        value: function validateOn() {\n            var _this3 = this;\n\n            if (this.options.groupErrorPlacement) {\n                throw new Error('f-validate: validation on \\'blur\\' or \\'keyup\\' cannot be performed if errors are grouped');\n            }\n\n            if (_constants2.default.validateOnOptions.indexOf(this.options.validateOn) === -1) {\n                throw new Error('f-validate: valid options for the \\'validateOn\\' property are \\'blur\\' or \\'keyup\\'');\n            }\n\n            this.fields.forEach(function (field) {\n                if (field.hasAttribute(_constants2.default.validationGroup)) {\n                    (0, _fDom2.default)(_constants2.default.fieldValues, field).forEach(function (childField) {\n                        return (\n\n                            // Binds each form element within a validation-group to the specified event.\n                            // When this event is triggered the validation-group element will be passed as the element to test.\n                            // The child field is also passed for use within a rule test method\n                            // Null is being passed as the isValid method expects 'field' as its second argument\n                            childField.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, {\n                                field: field,\n                                childField: childField\n                            }))\n                        );\n                    });\n                } else {\n                    // Null is being passed as the isValid method expects 'field' as its second argument\n                    field.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, { field: field }));\n                }\n            });\n        }\n    }]);\n\n    return FormValidation;\n}();\n\nexports.default = FormValidation;\n},{\"./callbacks\":13,\"./constants\":14,\"./messages\":16,\"./rules\":21,\"@justeat/f-dom\":27}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getMessage = exports.hideMessage = exports.displayInlineMessage = exports.getInlineErrorElement = undefined;\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getCustomErrorElement = function getCustomErrorElement(field, form) {\n    var errorPlacement = field.getAttribute('data-val-error-placement');\n    var errorElement = _fDom2.default.first(errorPlacement, form);\n\n    if (errorElement) {\n        return errorElement;\n    }\n\n    return false;\n};\n\nvar getInlineErrorElement = exports.getInlineErrorElement = function getInlineErrorElement(field, form) {\n    var nextSibling = field.nextElementSibling;\n    var customErrorEl = getCustomErrorElement(field, form);\n\n    if (customErrorEl && customErrorEl.nextElementSibling && customErrorEl.nextElementSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n        return customErrorEl.nextElementSibling;\n    }\n\n    if (nextSibling && nextSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n\n        return nextSibling;\n    }\n\n    return false;\n};\n\nvar displayInlineMessage = exports.displayInlineMessage = function displayInlineMessage(errorElement, customMessage, field, form) {\n\n    var updateElement = errorElement;\n    var customErrorEl = getCustomErrorElement(field, form) || field;\n\n    if (!errorElement) {\n        updateElement = document.createElement('p');\n        updateElement.classList.add(_constants2.default.cssClasses.formError);\n        field.parentNode.insertBefore(updateElement, customErrorEl.nextSibling);\n    }\n\n    updateElement.textContent = customMessage;\n    updateElement.classList.remove(_constants2.default.cssClasses.isHidden);\n};\n\nvar hideMessage = exports.hideMessage = function hideMessage(errorElement) {\n    if (!errorElement) {\n        return;\n    }\n\n    errorElement.classList.add(_constants2.default.cssClasses.isHidden);\n    errorElement.innerHTML = '';\n};\n\nvar getDefaultMessage = function getDefaultMessage(field, ruleName) {\n\n    if (!_rules2.default[ruleName].defaultMessageValue) {\n        return _rules2.default[ruleName].defaultMessage;\n    }\n\n    return _rules2.default[ruleName].defaultMessage.replace('{0}', _rules2.default[ruleName].defaultMessageValue(field));\n};\n\nvar getMessage = exports.getMessage = function getMessage(field, ruleName) {\n    return field.getAttribute('data-val-' + ruleName + '-error') || getDefaultMessage(field, ruleName);\n};\n},{\"./constants\":14,\"./rules\":21,\"@justeat/f-dom\":27}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-conditionalRequired');\n    },\n\n    test: function test(field) {\n        var input = _fDom2.default.first('[name=\\'' + field.getAttribute('data-val-conditionalRequired') + '\\']');\n        var isChecked = input ? input.checked : true;\n\n        return isChecked || field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Conditional Required Rule\n    * -------------------------\n    * This validation rule checks that if a specified checkbox is not checked, then it is required that a value must be entered in the field with this validation check.\n    *\n    * This also means that if the specified checkbox is checked, then the field is not required and the form will return valid when the field is empty.\n    *\n    */\n},{\"@justeat/f-dom\":27}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Custom Rule\n * --------------\n * This validation rule allows the addition of a custom validation check to be added to the field.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        var hasCustom = field.hasAttribute('data-val-custom');\n        var hasCustomError = field.hasAttribute('data-val-custom-error');\n\n        if (hasCustomError && !hasCustom) {\n            throw new Error('f-validate: specify data-val-custom along with data-val-custom-error attribute');\n        }\n\n        return hasCustom;\n    },\n\n    test: null,\n\n    defaultMessage: 'Custom validation failed.'\n};\n},{}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-dateInFuture');\n    },\n\n    test: function test(element) {\n\n        var dateToday = new Date();\n        var currentMonth = dateToday.getMonth() + 1;\n        var currentYear = dateToday.getFullYear();\n\n        var selectedMonthEl = _fDom2.default.first('[data-val-dateInFuture-type=\"month\"]', element);\n        var selectedYearEl = _fDom2.default.first('[data-val-dateInFuture-type=\"year\"]', element);\n        var selectedMonthVal = Number(selectedMonthEl.value);\n        var selectedYearVal = Number(selectedYearEl.value);\n\n        if (selectedYearVal > currentYear && selectedMonthVal > 0) {\n            return true;\n        }\n\n        return selectedYearVal === currentYear && selectedMonthVal >= currentMonth;\n    },\n\n    touchedSelectors: ['[data-val-dateInFuture-type=\"month\"]', '[data-val-dateInFuture-type=\"year\"]'],\n\n    defaultMessage: 'This date must be in the future.'\n}; /**\n    * Date In Future Rule\n    * -------------------\n    * This rule is for validating dates entered by a collection of `select` fields.\n    * When applied to a validation group, it returns true if the date entered in these fields is in the future.\n    *\n    */\n},{\"@justeat/f-dom\":27}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _constants = require('../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.getAttribute('type') === 'email';\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        return _constants2.default.email.test(field.value);\n    },\n\n    defaultMessage: 'This field must contain a valid email address.'\n}; /**\n    * Email Rule\n    * --------------\n    * Checks for a valid email address\n    *\n    */\n},{\"../constants\":14}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _maxlength = require('./maxlength');\n\nvar _maxlength2 = _interopRequireDefault(_maxlength);\n\nvar _minlength = require('./minlength');\n\nvar _minlength2 = _interopRequireDefault(_minlength);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nvar _email = require('./email');\n\nvar _email2 = _interopRequireDefault(_email);\n\nvar _matches = require('./matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _dateInFuture = require('./dateInFuture');\n\nvar _dateInFuture2 = _interopRequireDefault(_dateInFuture);\n\nvar _conditionalRequired = require('./conditionalRequired');\n\nvar _conditionalRequired2 = _interopRequireDefault(_conditionalRequired);\n\nvar _custom = require('./custom');\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    custom: _custom2.default,\n    dateInFuture: _dateInFuture2.default,\n    conditionalRequired: _conditionalRequired2.default,\n    maxlength: _maxlength2.default,\n    minlength: _minlength2.default,\n    pattern: _pattern2.default,\n    email: _email2.default,\n    matches: _matches2.default,\n    required: _required2.default\n};\n},{\"./conditionalRequired\":17,\"./custom\":18,\"./dateInFuture\":19,\"./email\":20,\"./matches\":22,\"./maxlength\":23,\"./minlength\":24,\"./pattern\":25,\"./required\":26}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-equalto');\n    },\n\n    test: function test(field) {\n        var matchedFieldName = field.getAttribute('data-val-equalto');\n\n        if (matchedFieldName) {\n            var input = _fDom2.default.first('input[name=' + matchedFieldName + ']');\n\n            return matchedFieldName && input && field.value === input.value;\n        }\n\n        return false;\n    },\n\n    defaultMessage: 'This field does not match the {0} field.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return field.getAttribute('data-val-equalto').replace('*.', '');\n    }\n}; /**\n    * Matches Rule\n    * ------------\n    * Checks that the value of the field being validated matches the value of a separate specified field\n    *\n    */\n},{\"@justeat/f-dom\":27}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Maxlength Rule\n * --------------\n * Checks that the value of the field is not greater than the specified maximum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('maxlength') || field.hasAttribute('data-val-maxlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('maxlength') === '' || field.getAttribute('data-val-maxlength') === '') {\n            return true;\n        }\n        return field.value.trim().length <= parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    },\n\n    defaultMessage: 'This field must not exceed {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    }\n};\n},{}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Minlength Rule\n * --------------\n * Checks that the value of the field is of a specified minimum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('minlength') || field.hasAttribute('data-val-minlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('minlength') === '' || field.getAttribute('data-val-minlength') === '') {\n            return true;\n        }\n\n        return field.value.trim().length >= parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    },\n\n    defaultMessage: 'This field must be at least {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    }\n};\n},{}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Pattern Rule\n * --------------\n * Allows definition of a rule to validate the input value using Regular Expressions (RegEx)\n *\n */\nvar CONSTANTS = require('../constants');\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('pattern') || field.hasAttribute('data-val-regex');\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        // escape characters that have special meaning inside a regular expression in field value\n        var fieldValue = field.value.replace(CONSTANTS.escapeChars, '\\\\$&');\n        var pattern = field.getAttribute('pattern') || field.getAttribute('data-val-regex');\n\n        return RegExp('^(?:' + pattern + ')$', 'gim').test(fieldValue);\n    },\n\n    defaultMessage: 'This field contains a value that isnt accepted.'\n};\n},{\"../constants\":14}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('required') || field.hasAttribute('data-val-required');\n    },\n\n    test: function test(field) {\n        // Required checkbox & radio, 1 should be checked.\n        if (field.type === 'radio') {\n            var radioInputs = (0, _fDom2.default)('[name=\\'' + field.name + '\\']:checked');\n            return radioInputs.length > 0;\n        }\n\n        if (field.type === 'checkbox') {\n            return field.checked === true;\n        }\n\n        return field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Required Rule\n    * -------------\n    * Checks that a value is present for the field being validated\n    *\n    */\n},{\"@justeat/f-dom\":27}],27:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _qwery=require('qwery'),_qwery2=_interopRequireDefault(_qwery);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var first=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)[0]},all=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)},exists=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return 0<(0,_qwery2.default)(a,b).length},dom=all;dom.all=all,dom.first=first,dom.exists=exists,exports.default=dom;\n},{\"qwery\":35}],28:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getCurrentScreenWidth = exports.getBreakpoints = exports.stopFoit = undefined;\n\nvar _stopFoit = require('./modules/stopFoit');\n\nvar _breakpointHelper = require('./modules/breakpointHelper');\n\nexports.stopFoit = _stopFoit.stopFoit;\nexports.getBreakpoints = _breakpointHelper.getBreakpoints;\nexports.getCurrentScreenWidth = _breakpointHelper.getCurrentScreenWidth;\n\n// All helper functions will be imported here, so that they can all be exported within one object.\n},{\"./modules/breakpointHelper\":29,\"./modules/stopFoit\":30}],29:[function(require,module,exports){\narguments[4][6][0].apply(exports,arguments)\n},{\"dup\":6}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.stopFoit = undefined;\n\nvar _fontfaceobserver = require('fontfaceobserver');\n\nvar _fontfaceobserver2 = _interopRequireDefault(_fontfaceobserver);\n\nvar _fLogger = require('@justeat/f-logger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview stopFOIT reduces the amount of time a user has invisible text when using webfonts.\n *\n * @module stopFOIT\n */\n\n/**\n* Init method initialises the FontFaceObserver events\n*\n*/\n\nvar stopFoit = exports.stopFoit = function stopFoit() {\n    // Create a new `FontFaceObserver` for each webfont\n    var baseFont = new _fontfaceobserver2.default('Hind Vadodara');\n    var headingFont = new _fontfaceobserver2.default('Ubuntu');\n\n    // On load of each font we add `has-fontsLoaded` class with the font type modifier\n    baseFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--base');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n\n    headingFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--heading');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n};\n\nexports.default = stopFoit;\n},{\"@justeat/f-logger\":10,\"fontfaceobserver\":31}],31:[function(require,module,exports){\n/* Font Face Observer v2.0.13 -  Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener(\"scroll\",b,!1):a.attachEvent(\"scroll\",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function c(){document.removeEventListener(\"DOMContentLoaded\",c);a()}):document.attachEvent(\"onreadystatechange\",function k(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",k),a()})};function r(a){this.a=document.createElement(\"div\");this.a.setAttribute(\"aria-hidden\",\"true\");this.a.appendChild(document.createTextNode(a));this.b=document.createElement(\"span\");this.c=document.createElement(\"span\");this.h=document.createElement(\"span\");this.f=document.createElement(\"span\");this.g=-1;this.b.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.c.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.f.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.h.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}\nfunction t(a,b){a.a.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+b+\";\"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+\"px\";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}\nfunction K(){if(null===E){var a=document.createElement(\"div\");try{a.style.font=\"condensed 100px sans-serif\"}catch(b){}E=\"\"!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:\"\",\"100px\",b].join(\" \")}\nA.prototype.load=function(a,b){var c=this,k=a||\"BESbswy\",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'\"'+c.family+'\"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=\nf&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,\ng=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement(\"div\");d.dir=\"ltr\";t(e,L(c,\"sans-serif\"));t(n,L(c,\"serif\"));t(p,L(c,\"monospace\"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'\"'+c.family+'\",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'\"'+c.family+'\",serif'));\nz(p,function(a){h=a;u()});t(p,L(c,'\"'+c.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());\n\n},{}],32:[function(require,module,exports){\nmodule.exports = function (callback) {\r\n\r\n\tif (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n\t\t// Already ready or interactive, execute callback\r\n\t\tcallback.call();\r\n\t}\r\n\telse if (document.attachEvent) {\r\n\t\t// Old browsers\r\n\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\tif (document.readyState === 'interactive')\r\n\t\t\t\tcallback.call();\r\n\t\t});\r\n\t}\r\n\telse if (document.addEventListener) {\r\n\t\t// Modern browsers\r\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\r\n\t}\r\n}\r\n\n},{}],33:[function(require,module,exports){\n(function (global){\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],34:[function(require,module,exports){\n/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tvoid 0;\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n\n},{}],35:[function(require,module,exports){\n/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n\n},{}],36:[function(require,module,exports){\n!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n},{}]},{},[2])\n//# sourceMappingURL=script.js.map\n"]}