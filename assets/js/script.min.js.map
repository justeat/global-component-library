{"version":3,"sources":["script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","testForms","_fDom","all","forEach","form","validateForm","_fValidate","addCustomValidation","field","addEventListener","preventDefault","testGroupForms","groupErrorPlacement","_interopRequireDefault","obj","__esModule","@justeat/f-dom","@justeat/f-validate","2","_fHeader","_fozzie","_liteReady","_svg4everybody","_formValidationSetup","stopFoit","checkForUser","./docs/formValidationSetup","@justeat/f-footer","@justeat/f-header","@justeat/fozzie","lite-ready","picturefill","svg4everybody","3","_qwery","selector","root","arguments","undefined","dom","first","exists","_default","qwery","4","resizeInit","tabindexResize","collapseFooterPanels","footerPanels","_lodash","breakpoints","getBreakpoints","window","matchMedia","concat","mid","matches","panel","removeAttribute","tabIndex","classList","add","lodash.debounce","5","isWithinBreakpoint","getCurrentScreenWidth","_stopFoit","_breakpointHelper","./modules/breakpointHelper","./modules/stopFoit","6","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","TypeError","output","screenSizer","document","createElement","body","appendChild","getComputedStyle","querySelector","getPropertyValue","replace","split","reduce","prev","current","_current$split","_current$split2","breakpointName","breakpointValue","createBreakpointArray","bps","keys","key","unshift","currentWidth","innerWidth","breakpointWidth","parseInt","breakpointString","match","operatorRegex","operatorMatch","operator","_breakpointString$spl","breakpoint","currentScreenWidth","breakpointInPX","bp","7","_fontfaceobserver","_fontfaceobserver2","_fLogger","baseFont","headingFont","load","then","remove","catch","logError","@justeat/f-logger","fontfaceobserver","8","enumerable","get","_userAuth","setupHeader","menuButton","navContainer","navLabel","toggle","documentElement","./userAuth","9","_userData","removeElement","element","removeHiddenClass","updateDom","authData","authEl","loginEl","isAuthenticated","headerName","headerEmail","friendlyName","textContent","email","fetch","method","credentials","response","json","error","Promise","resolve","./userData","10","saveUserData","storeLocalAnalyticsBlob","result","localStorage","setItem","JSON","stringify","enrichUserDataWithCount","userData","orderCountResponse","orderCount","Count","pushUserData","dataLayer","fetchOrderCountAndSave","orderCountLink","orderCountUrl","getAttribute","reject","supportedEl","test","savedAnalytics","getItem","localOrderCount","parse","currentTime","Date","getTime","Expires","11","getDebugMode","disableDebugMode","enableDebugMode","clearHistory","getHistory","errorLogInit","logWarning","log","_Logger2","_ErrorLogger2","debugMode","logger","errorLogger","init","getPersistentData","clearPersistentData","./modules/ErrorLogger","./modules/Logger","12","_typeof","constructor","prototype","_createClass","b","d","configurable","writable","ErrorLogger","_classCallCheck","this","config","serverFileUrl","loggerCallback","winlogCallback","bindOnError","location","toString","pageUrl","Exception","Level","logToServer","encodeURIComponent","XMLHttpRequest","ActiveXObject","open","send","onerror","g","stack","13","console","Logger","data","now","valueOf","clear","14","addCallBack","callBacks","callBack","runCallbacks","callback","15","cssClasses","isHidden","formError","formErrors","hasError","hasSuccess","escapeChars","fieldValues","validationGroup","validateOnOptions","16","defaultOptions","defineProperties","target","props","descriptor","Constructor","protoProps","staticProps","_fDom2","_rules2","_callbacks","_messages","_constants2","VALIDATION_KEYS","errorClass","successClass","focus","enableHTML5Validation","getForm","tagName","forms","FormValidation","nameOrNode","_this","options","instance","assign","fields","getFields","event","isValid","customHandlers","errorMessages","onSuccess","on","onError","validateOn","setFormNoValidate","bind","callBackEvent","exception","setAttribute","currentElement","_this2","formValid","required","condition","errorMessage","fieldValid","fieldHasValidation","ruleName","touchedSelectors","notInErrorState","elementsNotTouched","definition","custom","skipTest","childField","contains","map","childSelector","filter","el","hasAttribute","getMessage","setSuccess","setError","errorElement","getInlineErrorElement","hideMessage","displayInlineMessage","success","groupedErrorElement","findGroupedErrorElement","displayGroupedMessages","name","handler","parentElement","updateElement","innerHTML","insertBefore","getGroupedErrorPosition","li","groupElement","lastChild","firstChild","_this3","indexOf","./callbacks","./constants","./messages","./rules","17","getCustomErrorElement","errorPlacement","nextSibling","nextElementSibling","customErrorEl","customMessage","parentNode","defaultMessageValue","defaultMessage","getDefaultMessage","18","input","checked","trim","19","hasCustom","20","dateToday","currentMonth","getMonth","currentYear","getFullYear","selectedMonthEl","selectedYearEl","selectedMonthVal","Number","selectedYearVal","21","_constants","../constants","22","_required2","_maxlength2","_minlength2","_pattern2","_email2","_matches2","_dateInFuture2","_conditionalRequired2","_custom2","dateInFuture","conditionalRequired","maxlength","minlength","pattern","./conditionalRequired","./custom","./dateInFuture","./email","./matches","./maxlength","./minlength","./pattern","./required","23","matchedFieldName","24","25","26","CONSTANTS","fieldValue","RegExp","27","type","28","_qwery2","29","apply","dup","30","31","32","l","attachEvent","createTextNode","h","style","cssText","y","offsetWidth","width","scrollLeft","scrollWidth","z","k","A","family","weight","stretch","B","C","E","F","J","fonts","L","font","K","join","q","D","H","navigator","vendor","exec","userAgent","G","M","setTimeout","N","race","clearTimeout","removeEventListener","readyState","detachEvent","m","v","w","x","removeChild","dir","I","hidden","FontFaceObserver","33","34","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","Function","objectToString","nativeMax","Math","max","nativeMin","min","isObject","toNumber","isObjectLike","isSymbol","other","isBinary","slice","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","35","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","ua","HTMLPictureElement","$1","img","source","sizes","picture","nodeName","toUpperCase","cloneNode","firstElementChild","_pfLastSize","imgs","querySelectorAll","addListener","srcset","eminpx","alwaysCheckWDescriptor","evalId","pf","isSupportTestReady","noop","image","getImgAttr","setImgAttr","removeImgAttr","docElem","types","cfg","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","in","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","evt","fn","capture","memoize","cache","isSpace","regLength","buildStr","image2","width1","isDomReady","timeout","timestamp","later","regReady","run","lastClientWidth","evalCSS","css","index","string","toLowerCase","parsedLength","setResolution","candidate","sizesattr","cWidth","calcListLength","res","opt","elements","plen","nodeType","context","qsa","reevaluate","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","getCandidateForSrc","src","set","candidates","parseSet","makeUrl","url","warn","implementation","hasFeature","ns","substr","supSrcset","supSizes","supPicture","complete","onload","setSize","href","matchesMedia","media","mMQ","calcLength","sourceSizeValue","supportsType","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","desc","lastChar","intVal","floatVal","pError","parseFloat","has1x","tokenize","charAt","parseSrcset","getEmValue","div","originalHTMLCSS","originalBodyCSS","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","parseSizes","setRes","len","applySetCandidate","j","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","pow","sqrt","setSrc","origWidth","getSet","parseSets","parent","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","sources","getElementsByTagName","getAllSourceElements","supported","srcAttr","parsed","srcSetCandidates","matchingSet","evaluated","extreme","evaled","clientWidth","height","innerHeight","clientHeight","vw","vh","em","rem","fillImgs","last","_","shift","define","amd","typeUri","Image","detectTypeSupport","36","classOnly","doc","win","html","isAncestor","container","compareDocumentPosition","toArray","ar","isNode","arrayLike","isFinite","opt_root","normalizeRoot","flatten","getElementsByClassName","uniq","label","37","factory","embed","svg","fragment","createDocumentFragment","viewBox","clone","childNodes","loadreadystatechange","xhr","onreadystatechange","cachedDocument","_cachedDocument","createHTMLDocument","responseText","_cachedTarget","_embeds","splice","item","id","getElementById","getSVGAncestor","node","rawopts","polyfill","opts","inIframe","top","requests","requestAnimationFrame","uses","numberOfSvgUseElementsToBypass","oninterval","use","attributeName","validate","srcSplit"],"mappings":"CAAA,WAA+b,OAAnb,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,GAAG,CAACS,UAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,GAA7b,EAAA,CAA4c,CAACa,IAAE,CAAC,SAAST,EAAQU,EAAOJ,GACxe,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETP,EAAQQ,QAYR,WACE,IAAIC,EAAYC,EAAMF,QAAQG,IAAI,yBAE9BF,EAAUP,OAAS,GACrBO,EAAUG,QAAQ,SAAUC,GAC1B,IAAIC,EAAe,IAAIC,EAAWP,QAAQK,GAC1CC,EAAaE,oBAAoB,aAAc,SAAUC,GACvD,MAAoB,aAAhBA,EAAMV,QAMZM,EAAKK,iBAAiB,SAAU,SAAU/B,GACxCA,EAAEgC,qBAKR,IAAIC,EAAiBV,EAAMF,QAAQG,IAAI,+BAEnCS,EAAelB,OAAS,GAC1BkB,EAAeR,QAAQ,SAAUC,GACZ,IAAIE,EAAWP,QAAQK,EAAM,CAE9CQ,sBAAqB,WAEvBR,EAAKK,iBAAiB,SAAU,SAAU/B,GACxCA,EAAEgC,sBAtCV,IAAIT,EAAQY,EAAuB5B,EAAQ,mBAEvCqB,EAAaO,EAAuB5B,EAAQ,wBAEhD,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,KAwCrF,CAACE,iBAAiB,EAAEC,sBAAsB,KAAKC,IAAE,CAAC,SAASjC,EAAQU,EAAOJ,GAC5E,aAEAN,EAAQ,qBAER,IAAIkC,EAAWlC,EAAQ,qBAEnBmC,EAAUnC,EAAQ,mBAElBoC,EAAaR,EAAuB5B,EAAQ,eAE5CqC,EAAiBT,EAAuB5B,EAAQ,kBAEhDsC,EAAuBV,EAAuB5B,EAAQ,+BAI1D,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAFvF7B,EAAQ,gBAIR,EAAIoC,EAAWtB,SAAS,YACtB,EAAIqB,EAAQI,aACZ,EAAIF,EAAevB,YACnB,EAAIwB,EAAqBxB,YACzB,EAAIoB,EAASM,mBAGb,CAACC,6BAA6B,EAAEC,oBAAoB,EAAEC,oBAAoB,EAAEC,kBAAkB,GAAGC,aAAa,GAAGC,cAAc,GAAGC,gBAAgB,KAAKC,IAAE,CAAC,SAAShD,EAAQU,EAAOJ,GACpL,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETP,EAAQQ,aAAU,EAElB,IAEgCe,EAF5BoB,GAE4BpB,EAFI7B,EAAQ,WAES6B,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAUvF,IAcIZ,EAAM,SAAaiC,GACrB,IAAIC,EAAOC,UAAU5C,OAAS,QAAsB6C,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,KAC/E,OAAO,EAAIH,EAAOnC,SAASoC,EAAUC,IA0BnCG,EAAMrC,EACVqC,EAAIrC,IAAMA,EACVqC,EAAIC,MA5CQ,SAAeL,GACzB,IAAIC,EAAOC,UAAU5C,OAAS,QAAsB6C,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,KAC/E,OAAO,EAAIH,EAAOnC,SAASoC,EAAUC,GAAM,IA2C7CG,EAAIE,OAjBS,SAAgBN,GAC3B,IAAIC,EAAOC,UAAU5C,OAAS,QAAsB6C,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,KAC/E,OAAO,EAAIH,EAAOnC,SAASoC,EAAUC,GAAM3C,OAAS,GAgBtD,IAAIiD,EAAWH,EACfhD,EAAQQ,QAAU2C,GAChB,CAACC,QAAQ,KAAKC,IAAE,CAAC,SAAS3D,EAAQU,EAAOJ,GAC3C,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETP,EAAQsD,WAAatD,EAAQuD,eAAiBvD,EAAQwD,0BAAuB,EAE7E,IAUIC,EAVA3B,EAAaR,EAAuB5B,EAAQ,eAE5CiD,EAASrB,EAAuB5B,EAAQ,UAExCmC,EAAUnC,EAAQ,mBAElBgE,EAAUpC,EAAuB5B,EAAQ,oBAE7C,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAGvF,IAAIoC,EAAc,KAEdJ,EAAiB,WACC,OAAhBI,IACFA,GAAc,EAAI9B,EAAQ+B,mBAGxBC,OAAOC,WAAW,eAAeC,OAAOJ,EAAYK,IAAK,MAAMC,QACjER,EAAa7C,QAAQ,SAAUsD,GAC7BA,EAAMC,gBAAgB,cAGxBV,EAAa7C,QAAQ,SAAUsD,GAC7BA,EAAME,SAAW,KAKvBpE,EAAQuD,eAAiBA,EAEzB,IAAIC,EAAuB,YACzB,EAAIb,EAAOnC,SAAS,4BAA4BI,QAAQ,SAAUsD,GAChEA,EAAMG,UAAUC,IAAI,mBAIxBtE,EAAQwD,qBAAuBA,EAE/B,IAAIF,EAAa,WACfO,OAAO3C,iBAAiB,UAAU,EAAIwC,EAAQlD,SAAS+C,EAAgB,MACvEE,GAAe,EAAId,EAAOnC,SAAS,+BACnC+C,KAGFvD,EAAQsD,WAAaA,GACrB,EAAIxB,EAAWtB,SAAS,WACtBgD,IACAF,OAEA,CAAChB,kBAAkB,EAAEC,aAAa,GAAGgC,kBAAkB,GAAGnB,QAAQ,KAAKoB,IAAE,CAAC,SAAS9E,EAAQU,EAAOJ,GACpG,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAEXP,EAAQyE,mBAAqBzE,EAAQ0E,sBAAwB1E,EAAQ4D,eAAiB5D,EAAQiC,cAAWc,EAEzG,IAAI4B,EAAYjF,EAAQ,sBAEpBkF,EAAoBlF,EAAQ,8BAEhCM,EAAQiC,SAAW0C,EAAU1C,SAC7BjC,EAAQ4D,eAAiBgB,EAAkBhB,eAC3C5D,EAAQ0E,sBAAwBE,EAAkBF,sBAClD1E,EAAQyE,mBAAqBG,EAAkBH,oBAG7C,CAACI,6BAA6B,EAAEC,qBAAqB,IAAIC,IAAE,CAAC,SAASrF,EAAQU,EAAOJ,GACtF,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAAIyE,EAAiB,WAAwZ,OAAO,SAAUC,EAAK1F,GAAK,GAAI2F,MAAMC,QAAQF,GAAQ,OAAOA,EAAY,GAAIG,OAAOC,YAAYhF,OAAO4E,GAAQ,OAAxf,SAAuBA,EAAK1F,GAAK,IAAI+F,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAK1C,EAAW,IAAM,IAAK,IAAiC2C,EAA7BC,EAAKV,EAAIG,OAAOC,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAGnF,QAAYhB,GAAK+F,EAAKpF,SAAWX,GAA3DgG,GAAK,IAAoE,MAAOQ,GAAOP,GAAK,EAAMC,EAAKM,EAAO,QAAU,KAAWR,GAAMI,EAAW,QAAGA,EAAW,SAAO,QAAU,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAA6HU,CAAcf,EAAK1F,GAAa,MAAM,IAAI0G,UAAU,yDAAjkB,GAQjBrC,EAAiB5D,EAAQ4D,eAAiB,WAC1C,IAAIsC,EAAS,GAGTC,EAAcC,SAASC,cAAc,OACzCF,EAAY9B,UAAUC,IAAI,kBAE1B8B,SAASE,KAAKC,YAAYJ,GAG1B,IAAIxC,EAAcE,OAAO2C,iBAAiBJ,SAASK,cAAc,oBAAoBC,iBAAiB,WAAWC,QAAQ,QAAS,IAAIC,MAAM,KAI5I,OAA2B,IAAvBjD,EAAYzD,QAAmC,KAAnByD,EAAY,GACjCuC,EAGJvC,EAAYkD,OAAO,SAAUC,EAAMC,GAEtC,IAAIC,EAAiBD,EAAQH,MAAM,KAC/BK,EAAkBjC,EAAegC,EAAgB,GACjDE,EAAiBD,EAAgB,GACjCE,EAAkBF,EAAgB,GAItC,OAFAH,EAAKI,GAAkBC,EAEhBL,GACRZ,IAGHkB,EAAwBpH,EAAQoH,sBAAwB,SAA+BzD,GAGvF,IAAI0D,EAAM,GAKV,OAJAhH,OAAOiH,KAAK3D,GAAa/C,QAAQ,SAAU2G,GACvCF,EAAIG,QAAQ,CAACD,EAAK5D,EAAY4D,OAG3BF,GAGiBrH,EAAQ0E,sBAAwB,WAOxD,IANA,IAAI+C,EAAe5D,OAAO6D,WAEtB/D,EAAcC,IAEdyD,EAAMD,EAAsBzD,GAEvBpE,EAAI,EAAGA,EAAI8H,EAAInH,OAAQX,IAAK,CAIjC,IAAIoI,EAAkBC,SAASP,EAAI9H,GAAG,GAAI,IAE1C,GAAIA,IAAM8H,EAAInH,OAAS,GAAKuH,EAAeE,EAEvC,OAAON,EAAI9H,GAAG,GAItB,OAAO,GAGcS,EAAQyE,mBAAqB,SAA4BoD,GAC9E,IAe6CX,EACrCY,EAhBJC,EAAgB,SAChBC,EAAgBH,EAAiBC,MAAMC,GACvCE,EAAWD,EAAgBA,EAAc,GAAK,GAE9CE,EAAwBL,EAAiBjB,MAAMmB,GAE/CI,EADyBnD,EAAekD,EAAuB,GAC3B,GAEpCE,EAAqBvE,OAAO6D,WAE5B/D,EAAcC,IACdyD,EAAMD,EAAsBzD,GAe5B0E,GAXyCnB,EAWTiB,EAV5BL,GAAQ,EAEZT,EAAIzG,QAAQ,SAAU0H,GACdA,EAAG,KAAOpB,IACVY,EAAQF,SAASU,EAAG,GAAI,OAGzBR,GAMX,IAAKO,EACD,OAAO,EAIX,OAAQJ,GACJ,IAAK,IACD,OAAOG,EAAqBC,EAChC,IAAK,IACD,OAAOD,EAAqBC,EAChC,IAAK,IACD,OAAOD,IAAuBC,EAClC,IAAK,KACD,OAAOD,GAAsBC,EACjC,IAAK,KACD,OAAOD,GAAsBC,EACjC,QACI,OAAO,KAGjB,IAAIE,IAAE,CAAC,SAAS7I,EAAQU,EAAOJ,GACjC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAEXP,EAAQiC,cAAWc,EAEnB,IAMgCxB,EAN5BiH,EAAoB9I,EAAQ,oBAE5B+I,GAI4BlH,EAJgBiH,IAIKjH,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAFnFmH,EAAWhJ,EAAQ,qBAevB,IAAIuC,EAAWjC,EAAQiC,SAAW,WAE9B,IAAI0G,EAAW,IAAIF,EAAmBjI,QAAQ,iBAC1CoI,EAAc,IAAIH,EAAmBjI,QAAQ,UAGjDmI,EAASE,KAAK,KAAM,KAAMC,KAAK,WAC3B1C,SAASE,KAAKjC,UAAU0E,OAAO,2BAChCC,MAAM,YACL,EAAIN,EAASO,UAAU,mCAG3BL,EAAYC,KAAK,KAAM,KAAMC,KAAK,WAC9B1C,SAASE,KAAKjC,UAAU0E,OAAO,8BAChCC,MAAM,YACL,EAAIN,EAASO,UAAU,oCAI/BjJ,EAAQQ,QAAUyB,GAChB,CAACiH,oBAAoB,GAAGC,mBAAmB,KAAKC,IAAE,CAAC,SAAS1J,EAAQU,EAAOJ,GAC7E,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETF,OAAOC,eAAeN,EAAS,eAAgB,CAC7CqJ,cAAY,EACZC,MAAK,WACH,OAAOC,EAAUrH,gBAGrBlC,EAAQwJ,iBAAc,EAEtB,IAIgCjI,EAJ5BO,GAI4BP,EAJQ7B,EAAQ,gBAIK6B,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAFnFgI,EAAY7J,EAAQ,cAaxB,IAAI8J,EAAc,WAChB,IAAIC,EAAarD,SAASK,cAAc,qBAEpCgD,GACFA,EAAWvI,iBAAiB,QAAS,WACnC,IAAIwI,EAAetD,SAASK,cAAc,wBACtCkD,EAAWvD,SAASK,cAAc,qBAElCiD,GACFA,EAAarF,UAAUuF,OAAO,cAG5BD,GACFA,EAAStF,UAAUuF,OAAO,WAG5BxD,SAASyD,gBAAgBxF,UAAUuF,OAAO,mBAKhD5J,EAAQwJ,YAAcA,GACtB,EAAI1H,EAAWtB,SAAS,WACtBgJ,OAEA,CAACM,aAAa,EAAEvH,aAAa,KAAKwH,IAAE,CAAC,SAASrK,EAAQU,EAAOJ,GAC/D,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETP,EAAQkC,kBAAe,EAEvB,IAIgCX,EAJ5BmH,EAAWhJ,EAAQ,qBAEnBsK,GAE4BzI,EAFO7B,EAAQ,gBAEM6B,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAOvF,IAAI0I,EAAgB,SAAuBC,GACzC,OAAOA,GAAWA,EAAQnB,UAGxBoB,EAAoB,SAA2BD,GACjD,OAAOA,GAAWA,EAAQ7F,UAAU0E,OAAO,cAGzCqB,EAAY,SAAmBC,GACjC,IAAIC,EAASlE,SAASK,cAAc,uBAChC8D,EAAUnE,SAASK,cAAc,gBAErC,GAAI4D,EAASG,gBAAiB,CAC5B,IAAIC,EAAarE,SAASK,cAAc,eACpCiE,EAActE,SAASK,cAAc,gBAErCgE,GAAwC,KAA1BJ,EAASM,eACzBF,EAAWG,YAAcP,EAASM,cAGhCD,GAAkC,KAAnBL,EAASQ,QAC1BH,EAAYE,YAAcP,EAASQ,OAGrCV,EAAkBG,GAClBL,EAAcM,QAEdJ,EAAkBI,GAClBN,EAAcK,GAGhB,OAAOD,GA2BTrK,EAAQkC,aAnBW,WAGjB,OAFakE,SAASK,cAAc,uBAI3BqE,MAAM,uBAAwB,CACnCC,SAAQ,MACRC,cAAa,gBACZlC,KAAK,SAAUmC,GAChB,OAAOA,EAASC,SACfpC,KAAKsB,GAAWtB,KAAKkB,EAAUxJ,SACjCwI,MAAM,SAAUmC,IACf,EAAIzC,EAASO,UAAUkC,KAIpBC,QAAQC,YAIf,CAACC,aAAa,GAAGpC,oBAAoB,KAAKqC,KAAG,CAAC,SAAS7L,EAAQU,EAAOJ,GACxE,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CAC3CO,SAAO,IAETP,EAAQwL,kBAAe,EAEvB,IAAI9C,EAAWhJ,EAAQ,qBAOnB+L,EAA0B,SAAiCC,GAE7D,OADA7H,OAAO8H,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUJ,IACpDA,GAGLK,EAA0B,SAAiCC,EAAUC,GAEvE,OADAD,EAASE,WAAaD,EAAmBE,MAClCH,GAGLI,EAAe,SAAsBJ,GACvC,OAAOnI,OAAOwI,UAAUvG,KAAK,CAC3BkG,WAAUA,KAIVM,EAAyB,SAAgCN,GAC3D,IAAIO,EAAiBnG,SAASK,cAAc,8BACxC+F,EAAgBD,GAAkBA,EAAeE,aAAa,QAElE,OAAID,EACK1B,MAAM0B,EAAe,CAC1BzB,SAAQ,MACRC,cAAa,gBACZlC,KAAK,SAAUmC,GAChB,OAAOA,EAASC,SACfpC,KAAK2C,GAAyB3C,KAAK,SAAU4C,GAC9C,OAAOK,EAAwBC,EAAUN,KACxC5C,KAAKsD,GAAcpD,MAAM,SAAUjD,IACpC,EAAI2C,EAASO,UAAU,8BAA8BlF,OAAOgC,IAC5DqG,EAAaJ,MAIjBI,EAAaJ,GACNZ,QAAQsB,WAiDjB1M,EAAQwL,aA/BW,SAAsBnB,GACvC,IAAKA,EAASG,gBACZ,OAAOY,QAAQC,UAGjB,IAfIsB,EAeAX,EAAW3B,EAAS2B,SAExB,MAjBIW,EAAcvG,SAASK,cAAc,kCAEtBkG,EAAYpM,MAEtB,UAAUqM,KAAKD,EAAYpM,OAG7B6K,QAAQsB,UAYb,OADAN,EAAaJ,GACNZ,QAAQC,UAGjB,IAAIwB,EA1BGhJ,OAAO8H,aAAamB,QAAQ,gBA4BnC,IAAKD,EACH,OAAOP,EAAuBN,GAGhC,IAAIe,EAAkBlB,KAAKmB,MAAMH,GAC7BI,GAAc,IAAIC,MAAOC,UAG7B,OAF6BD,KAAKF,MAAMD,EAAgBK,SAE3BH,EACpBX,EAAuBN,IAGhCD,EAAwBC,EAAUe,GAClCX,EAAaJ,GACNZ,QAAQC,aAIf,CAACnC,oBAAoB,KAAKmE,KAAG,CAAC,SAAS3N,EAAQU,EAAOJ,GACxD,aAAaK,OAAOC,eAAeN,EAAQ,aAAa,CAACO,SAAM,IAAKP,EAAQsN,aAAatN,EAAQuN,iBAAiBvN,EAAQwN,gBAAgBxN,EAAQyN,aAAazN,EAAQ0N,WAAW1N,EAAQ2N,aAAa3N,EAAQiJ,SAASjJ,EAAQ4N,WAAW5N,EAAQ6N,SAAI,EAAO,IAAwCC,EAASxM,EAArC5B,EAAQ,qBAA2GqO,EAAczM,EAA/C5B,EAAQ,0BAA4E,SAAS4B,EAAuB1B,GAAG,OAAOA,GAAGA,EAAE4B,WAAW5B,EAAE,CAACY,UAAQZ,GAAG,IAAIoO,GAAU,EAAGC,EAAO,IAAIH,EAAStN,QAAQ,CAACwN,YAAUA,IAAYE,EAAY,IAAIH,EAAcvN,QAAQ,CAACyN,SAAOA,IAAknBjO,EAAQ6N,IAA7mB,SAASjO,GAAGqO,EAAOJ,IAAIjO,IAA8lBI,EAAQ4N,WAAtiB,SAAShO,GAAGsO,EAAYL,IAAIjO,EAAE,SAA8hBI,EAAQiJ,SAAvnB,SAASrJ,GAAGsO,EAAYL,IAAIjO,EAAE,UAA2mBI,EAAQ2N,aAA3J,SAAS/N,GAAGsO,EAAYC,KAAKvO,IAAwJI,EAAQ0N,WAA9kB,WAAWO,EAAOG,qBAAklBpO,EAAQyN,aAAxjB,WAAWQ,EAAOI,uBAAgkBrO,EAAQwN,gBAAjiB,WAAWQ,GAAU,EAAGC,EAAO,IAAIH,EAAStN,QAAQ,CAACwN,YAAUA,IAAYE,EAAY,IAAIH,EAAcvN,QAAQ,CAACyN,SAAOA,KAAwcjO,EAAQuN,iBAArb,WAAWS,GAAU,EAAGC,EAAO,IAAIH,EAAStN,QAAQ,CAACwN,YAAUA,IAAYE,EAAY,IAAIH,EAAcvN,QAAQ,CAACyN,SAAOA,KAA8VjO,EAAQsN,aAAjS,WAAW,OAAOU,IAC/sC,CAACM,wBAAwB,GAAGC,mBAAmB,KAAKC,KAAG,CAAC,SAAS9O,EAAQU,EAAOJ,GAClF,aAAa,IAAIyO,EAAQ,mBAAmBrJ,QAAQ,iBAAiBA,OAAOC,SAAS,SAASzF,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBwF,QAAQxF,EAAE8O,cAActJ,QAAQxF,IAAIwF,OAAOuJ,UAAU,gBAAgB/O,GAAGgP,EAAa,WAAW,SAAShP,EAAEA,EAAEiP,GAAG,IAAI,IAAIpP,EAAEqP,EAAE,EAAEA,EAAED,EAAE3O,OAAO4O,KAAIrP,EAAEoP,EAAEC,IAAKzF,WAAW5J,EAAE4J,aAAY,EAAG5J,EAAEsP,cAAa,EAAG,UAAUtP,IAAIA,EAAEuP,UAAS,GAAI3O,OAAOC,eAAeV,EAAEH,EAAE8H,IAAI9H,GAAG,OAAO,SAASoP,EAAEpP,EAAEqP,GAAG,OAAOrP,GAAGG,EAAEiP,EAAEF,UAAUlP,GAAGqP,GAAGlP,EAAEiP,EAAEC,GAAGD,GAAzO,GAA+OxO,OAAOC,eAAeN,EAAQ,aAAa,CAACO,SAAM,IAAiH,IAAI0O,EAAY,WAAW,SAASrP,EAAEiP,IAAlJ,SAAyBjP,EAAEiP,GAAG,KAAKjP,aAAaiP,GAAG,MAAM,IAAI5I,UAAU,sCAA8EiJ,CAAgBC,KAAKvP,GAAGuP,KAAKC,OAAOP,EAAEM,KAAKlB,OAAOY,EAAEZ,OAAOkB,KAAKnB,UAAUa,EAAEZ,OAAOD,UAAUmB,KAAKC,OAAOC,cAAcR,EAAEQ,eAAe,yBAAyBF,KAAKC,OAAOE,eAAeT,EAAES,gBAAgB,KAAKH,KAAKC,OAAOG,eAAeV,EAAEU,gBAAgB,KAAKJ,KAAKK,cAAc,OAAOZ,EAAahP,EAAE,CAAC,CAAC2H,MAAI,MAAMhH,QAAM,SAAaX,EAAEiP,EAAEpP,GAAG,IAAIqP,EAAEjL,OAAO4L,SAASC,WAAWvQ,EAAE,CAACwQ,UAAQb,EAAEc,YAAUhQ,EAAEiQ,QAAMhB,GAAGM,KAAKlB,OAAOJ,IAAI1O,GAAGgQ,KAAKnB,YAAYmB,KAAKW,YAAY3Q,GAAG,mBAAmBgQ,KAAKC,OAAOE,iBAAiB,UAAUT,EAAEM,KAAKC,OAAOG,eAAetP,KAAKkP,KAAKvP,EAAEkP,EAAErP,GAAG0P,KAAKC,OAAOE,eAAerP,KAAKkP,KAAKvP,EAAEkP,OAAO,CAACvH,MAAI,OAAOhH,QAAM,SAAcX,GAAGuP,KAAKC,OAAOC,cAAczP,EAAEyP,eAAeF,KAAKC,OAAOC,cAAcF,KAAKC,OAAOE,eAAe1P,EAAE0P,gBAAgBH,KAAKC,OAAOE,eAAeH,KAAKC,OAAOG,eAAe3P,EAAE2P,gBAAgBJ,KAAKC,OAAOG,iBAAiB,CAAChI,MAAI,cAAchH,QAAM,SAAqBX,GAAG,IAAIiP,EAAEpP,EAAKA,EAAE,iBAAY,IAAoBG,EAAE,YAAY6O,EAAQ7O,IAAIiM,KAAKC,UAAUlM,GAAGA,EAAE,IAAIkP,EAAEK,KAAKC,OAAOC,cAAc,UAAUU,mBAAmBtQ,GAAG,GAAGoE,OAAOmM,eAAenB,EAAE,IAAImB,mBAAoB,CAAA,IAAGnM,OAAOoM,cAA4D,OAA9CpB,EAAE,IAAIoB,cAAc,qBAAiCpB,EAAEqB,KAAK,MAAMpB,GAAGD,EAAEsB,SAAS,CAAC5I,MAAI,cAAchH,QAAM,WAAuB,IAAIX,EAAEuP,KAAKtL,OAAOuM,QAAQ,SAASvB,EAAEpP,EAAEqP,EAAE3P,EAAEK,GAAG,IAAI6Q,EAAExB,EAAE,MAAMpP,EAAE,WAAWqP,EAAE,WAAW3P,EAAE,kBAAkBK,EAAEA,EAAE8Q,MAAM,IAAI,OAAO1Q,EAAEiO,IAAIwC,EAAE,QAAQvB,IAAG,OAAQlP,EAAz6C,GAA86CI,EAAQQ,QAAQyO,GAC9kE,IAAIsB,KAAG,CAAC,SAAS7Q,EAAQU,EAAOJ,GAClC,aAAa,IAAIyO,EAAQ,mBAAmBrJ,QAAQ,iBAAiBA,OAAOC,SAAS,SAASzF,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmBwF,QAAQxF,EAAE8O,cAActJ,QAAQxF,IAAIwF,OAAOuJ,UAAU,gBAAgB/O,GAAGgP,EAAa,WAAW,SAAShP,EAAEA,EAAEiP,GAAG,IAAI,IAAIpP,EAAEqP,EAAE,EAAEA,EAAED,EAAE3O,OAAO4O,KAAIrP,EAAEoP,EAAEC,IAAKzF,WAAW5J,EAAE4J,aAAY,EAAG5J,EAAEsP,cAAa,EAAG,UAAUtP,IAAIA,EAAEuP,UAAS,GAAI3O,OAAOC,eAAeV,EAAEH,EAAE8H,IAAI9H,GAAG,OAAO,SAASoP,EAAEpP,EAAEqP,GAAG,OAAOrP,GAAGG,EAAEiP,EAAEF,UAAUlP,GAAGqP,GAAGlP,EAAEiP,EAAEC,GAAGD,GAAzO,GAA+OxO,OAAOC,eAAeN,EAAQ,aAAa,CAACO,SAAM,IAAiH,IAAI2F,EAAO,SAAStG,GAAG,QAAG,IAAoBiE,OAAO2M,QAAoB,MAAM,IAAI3Q,MAAM,6BAAihB4Q,EAAO,WAAW,SAAS7Q,EAAEiP,IAAnvB,SAAyBjP,EAAEiP,GAAG,KAAKjP,aAAaiP,GAAG,MAAM,IAAI5I,UAAU,sCAA+qBiJ,CAAgBC,KAAKvP,GAAGuP,KAAKC,OAAOP,EAAEM,KAAKnB,UAAUmB,KAAKC,OAAOpB,UAAUmB,KAAKuB,KAAK,GAAG,OAAO9B,EAAahP,EAAE,CAAC,CAAC2H,MAAI,MAAMhH,QAAM,SAAaX,GAAG,IAAIiP,EAAEjP,EAAE,GAAGuP,KAAKnB,UAAU,CAAC,IAAIvO,EAAEyN,KAAKyD,MAAMjB,WAAWP,KAAKuB,KAAKjR,GAAGoP,EAAE,YAAY,oBAAoBlD,aAAa,YAAY8C,EAAQ9C,iBAAiBkD,EAAEhD,KAAKC,UAAU+C,GAAGlD,aAAaC,QAAQnM,EAAEoP,IAAI3I,SAAetG,EAA/X,GAAoYI,EAAQoO,kBAAr3B,WAAW,GAAIzC,aAAwD,GAAG,EAAEA,aAAazL,OAAO,CAAC,IAAIN,EAAEiP,EAAM,IAAI3I,IAA6CtG,EAAE,EAAEA,EAAE+L,aAAazL,OAAON,IAAIiP,GAAGlD,aAAapE,IAAI3H,GAAK+L,aAAakD,GAAiB,kBAAZ,IAAI3B,KAAK2B,GAAuB,IAAI+B,WAAW1K,IAAmBA,SAAkDA,SAA/TA,KAA63BlG,EAAQqO,oBAAhhB,WAAW1C,eAAeA,aAAakF,QAAQ3K,MAAygBlG,EAAQQ,QAAQiQ,GACjuD,IAAIK,KAAG,CAAC,SAASpR,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAEOP,EAAQ+Q,YAAc,SAAqBC,EAAWC,GAEpE,GAAwB,mBAAbA,EACP,MAAM,IAAIhL,UAAU,+BAGxB+K,EAAUlL,KAAKmL,IAGAjR,EAAQkR,aAAe,SAAsBF,GAEvDA,GAILA,EAAUpQ,QAAQ,SAAUuQ,GACxBA,QAGN,IAAIC,KAAG,CAAC,SAAS1R,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAYXP,EAAQQ,QAAU,CACd6Q,aAXa,CACbC,WAAU,YACVC,YAAW,aACXC,aAAY,cACZC,WAAU,YACVC,aAAY,eAOZ7G,QAAO,wEACP8G,cAAa,sBACbC,cAAa,4CACbC,kBAPkB,iBAQlBC,oBAAmB,CAAC,OAAQ,WAE9B,IAAIC,KAAG,CAAC,SAASrS,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAEXP,EAAQgS,oBAAiBjP,EAEzB,IAAI6L,EAAe,WAAc,SAASqD,EAAiBC,EAAQC,GAAS,IAAK,IAAI5S,EAAI,EAAGA,EAAI4S,EAAMjS,OAAQX,IAAK,CAAE,IAAI6S,EAAaD,EAAM5S,GAAI6S,EAAW/I,WAAa+I,EAAW/I,aAAc,EAAO+I,EAAWrD,cAAe,EAAU,UAAWqD,IAAYA,EAAWpD,UAAW,GAAM3O,OAAOC,eAAe4R,EAAQE,EAAW7K,IAAK6K,IAAiB,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYL,EAAiBI,EAAY1D,UAAW2D,GAAiBC,GAAaN,EAAiBI,EAAaE,GAAqBF,GAA7gB,GAEf5D,EAA4B,mBAAXrJ,QAAoD,iBAApBA,OAAOC,SAAwB,SAAU9D,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAX6D,QAAyB7D,EAAImN,cAAgBtJ,QAAU7D,IAAQ6D,OAAOuJ,UAAY,gBAAkBpN,GAmBlQiR,EAASlR,EAFD5B,EAAQ,mBAMhB+S,EAAUnR,EAFD5B,EAAQ,YAIjBgT,EAAahT,EAAQ,eAErBiT,EAAYjT,EAAQ,cAIpBkT,EAActR,EAFD5B,EAAQ,gBAIzB,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAKvF,IAAIsR,EAAkBxS,OAAOiH,KAAKmL,EAAQjS,SAEtCwR,EAAiBhS,EAAQgS,eAAiB,CAC1Cc,aAAYF,EAAYpS,QAAQ6Q,WAAWI,SAC3CsB,eAAcH,EAAYpS,QAAQ6Q,WAAWK,WAC7CsB,SAAO,EACP3R,uBAAqB,EACrB4R,yBAAuB,GAGvBC,EAAU,SAAiBd,GAE3B,IAAKA,EACD,MAAM,IAAIvS,MAAM,yDAGpB,IAAIgB,EAAmF,iBAArD,IAAfuR,EAA6B,YAAc3D,EAAQ2D,KAAoD,SAAvBA,EAAWe,QAAqBf,EAAahM,SAASgN,MAAMhB,GAE/J,IAAKvR,EACD,MAAM,IAAIhB,MAAM,8BAGpB,OAAOgB,GAgBPwS,EAAiB,WACjB,SAASA,EAAeC,GACpB,IAAIC,EAAQpE,KAERqE,EAAU1Q,UAAU5C,OAAS,QAAsB6C,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,IA7C1F,SAAyB2Q,EAAUpB,GAAe,KAAMoB,aAAoBpB,GAAgB,MAAM,IAAIpM,UAAU,qCA+CxGiJ,CAAgBC,KAAMkE,GAEtBlE,KAAKqE,QAAUnT,OAAOqT,OAAO,GAAI1B,EAAgBwB,GACjDrE,KAAKtO,KAAOqS,EAAQI,GACpBnE,KAAKwE,OAASxE,KAAKyE,YAGnBzE,KAAKwE,OAAO/S,QAAQ,SAAUK,GAC1BA,EAAMC,iBAAiB,UAAW,SAAU2S,GACtB,UAAdA,EAAMtM,KACNgM,EAAMO,QAAQD,OAK1B1E,KAAK4E,eAAiB,GACtB5E,KAAK6B,UAAY,GACjB7B,KAAK6E,cAAgB,GAEjB7E,KAAKqE,QAAQS,WACb9E,KAAK+E,GAAG,UAAW/E,KAAKqE,QAAQS,WAEhC9E,KAAKqE,QAAQW,SACbhF,KAAK+E,GAAG,QAAS/E,KAAKqE,QAAQW,SAE9BhF,KAAKqE,QAAQY,YACbjF,KAAKiF,aAGTjF,KAAKkF,oBACLlF,KAAKtO,KAAKK,iBAAiB,SAAUiO,KAAK2E,QAAQQ,KAAKnF,OAuQ3D,OAvPAP,EAAayE,EAAgB,CAAC,CAC1B9L,MAAK,KACLhH,QAAO,SAAYgU,EAAetD,GAEzB9B,KAAK6B,UAAUuD,KAChBpF,KAAK6B,UAAUuD,GAAiB,IAGpC,KACI,EAAI7B,EAAW3B,aAAa5B,KAAK6B,UAAUuD,GAAgBtD,EAAUsD,GACvE,MAAOC,GACL,MAAM,IAAIvO,UAAU,eAAiBsO,EAAgB,mCAG9D,CACChN,MAAK,aACLhH,QAAO,SAAoB2J,GACvBA,EAAQ7F,UAAU0E,OAAOoG,KAAKqE,QAAQV,YACtC5I,EAAQ7F,UAAUC,IAAI6K,KAAKqE,QAAQT,gBAExC,CACCxL,MAAK,WACLhH,QAAO,SAAkB2J,GACrBA,EAAQ7F,UAAU0E,OAAOoG,KAAKqE,QAAQT,cACtC7I,EAAQ7F,UAAUC,IAAI6K,KAAKqE,QAAQV,cAExC,CACCvL,MAAK,oBACLhH,QAAO,WAEE4O,KAAKqE,QAAQP,uBACd9D,KAAKtO,KAAK4T,aAAa,aAAc,MAY9C,CACClN,MAAK,UACLhH,QAAO,SAAiBsT,EAAOa,GAC3B,IAAIC,EAASxF,KAETyF,GAAY,EA6EhB,GA5EAzF,KAAK6E,cAAgB,GAErB7E,KAAKwE,OAAO/S,QAAQ,SAAUK,GAI1B,IAAIyT,GAAmBA,EAAezT,QAAUA,IAAyB,KAAhBA,EAAMV,OAAiBkS,EAAQjS,QAAQqU,SAASC,UAAU7T,IAAnH,CAIA,IAAI8T,EAAe,GAGfC,GAAa,EAGbC,GAAqB,EA2BzB,GAzBApC,EAAgBjS,QAAQ,SAAUsU,GAC9B,IArI+BhL,EAASnD,EAASoO,EAE7DC,EACAC,EAkIgBC,EAAa7C,EAAQjS,QAAQ0U,GAMjC,GAJIjU,EAAMwL,aAAa,qBACnBgG,EAAQjS,QAAQ+U,OAAO3I,KAAO+H,EAAOZ,eAAe9S,EAAMwL,aAAa,qBAGvE6I,EAAWR,UAAU7T,GAAQ,CAC7BgU,GAAqB,EACrB,IAAIO,GAAW,EAGXF,EAAWH,kBAAoBT,IAC/BA,EAAee,WAAWhB,aAAa,gBAAgB,GAjJhCvK,EAkJMjJ,EAlJG8F,EAkJI2N,EAlJKS,EAkJWG,EAAWH,iBAhJnFC,GAAmBrO,EAAQ9F,MAAMoD,UAAUqR,SAAS9C,EAAYpS,QAAQ6Q,WAAWI,UACnF4D,EAAqBF,EAAiBQ,IAAI,SAAUC,GACpD,OAAOpD,EAAOhS,QAAQyC,MAAM2S,EAAe1L,KAC5C2L,OAAO,SAAUC,GAChB,OAAOA,IAAOA,EAAGC,aAAa,kBA4IVP,EAxIjBJ,GAAmBC,EAAmBnV,OAAS,GA2I7BsV,GAAaF,EAAW1I,KAAK3L,EAAOyT,KACrCM,GAAa,EACbD,GAAe,EAAIpC,EAAUqD,YAAY/U,EAAOiU,GAChDP,EAAOX,cAAclO,KAAKiP,OAKlCE,IAEID,EACAL,EAAOsB,WAAWhV,IAElB2T,GAAY,EACZD,EAAOuB,SAASjV,KAIf0T,EAAOnB,QAAQnS,qBAAqB,CACrC,IAAI8U,GAAe,EAAIxD,EAAUyD,uBAAuBnV,EAAO0T,EAAO9T,MAClEmU,GACA,EAAIrC,EAAU0D,aAAaF,IAE3B,EAAIxD,EAAU2D,sBAAsBH,EAAcpB,EAAc9T,EAAO0T,EAAO9T,UAMzF+T,GAQDzF,KAAK8G,WAAW9G,KAAKtO,OACrB,EAAI6R,EAAWxB,cAAc/B,KAAK6B,UAAUuF,WAR5CpH,KAAK+G,SAAS/G,KAAKtO,OACnB,EAAI6R,EAAWxB,cAAc/B,KAAK6B,UAAU7F,OAExC0I,GACAA,EAAM1S,kBAOVgO,KAAKqE,QAAQnS,oBAAqB,CAClC,IAAImV,EAAsBrH,KAAKsH,0BAC3B7B,GACA,EAAIjC,EAAU0D,aAAaG,GAE3BrH,KAAKuH,uBAAuBF,GAIpC,OAAO5B,IAEZ,CACCrN,MAAK,sBACLhH,QAAO,SAA6BoW,EAAMC,GACtC,IAAKD,GAAwB,iBAATA,EAChB,MAAM,IAAI9W,MAAM,uCAEpB,IAAK+W,GAA8B,mBAAZA,EACnB,MAAM,IAAI/W,MAAM,8CAGpBsP,KAAK4E,eAAe4C,GAAQC,IAEjC,CACCrP,MAAK,YACLhH,QAAO,WAGH,OAFa,EAAIiS,EAAOhS,SAASoS,EAAYpS,QAAQoR,YAAazC,KAAKtO,MAEzDgV,OAAO,SAAUrW,GAC3B,QAASA,EAAEuW,aAAa,SAAsC,WAA3BvW,EAAEiN,aAAa,SAA0BjN,EAAEuW,aAAa,aAAgBvW,EAAEuW,aAAa,oBAAuBvW,EAAEqX,cAAcd,aAAanD,EAAYpS,QAAQqR,sBAG3M,CACCtK,MAAK,0BACLhH,QAAO,WAGH,OAF0BiS,EAAOhS,QAAQyC,MAAM,IAAM2P,EAAYpS,QAAQ6Q,WAAWG,WAAYrC,KAAKtO,QAI1G,CACC0G,MAAK,yBACLhH,QAAO,SAAgCiW,GAEnC,IAAIM,EAAgBN,EAEfA,EAMDA,EAAoBO,UAAY,KALhCD,EAAgB1Q,SAASC,cAAc,OACzBhC,UAAUC,IAAIsO,EAAYpS,QAAQ6Q,WAAWG,YAE3DrC,KAAKtO,KAAKmW,aAAaF,EAAe3H,KAAK8H,4BAK/C9H,KAAK6E,cAAcpT,QAAQ,SAAUuK,GACjC,IAAI+L,EAAK9Q,SAASC,cAAc,MAChC6Q,EAAGtM,YAAcO,EACjB2L,EAAcvQ,YAAY2Q,OAGnC,CACC3P,MAAK,0BACLhH,QAAO,WAEH,IAAI4W,EAAe3E,EAAOhS,QAAQyC,MAAMkM,KAAKqE,QAAQnS,oBAAqB8N,KAAKtO,MAE/E,OAAIsW,IAIqC,WAArChI,KAAKqE,QAAQnS,oBACN8N,KAAKtO,KAAKuW,UAGdjI,KAAKtO,KAAKwW,cAYtB,CACC9P,MAAK,aACLhH,QAAO,WACH,IAAI+W,EAASnI,KAEb,GAAIA,KAAKqE,QAAQnS,oBACb,MAAM,IAAIxB,MAAM,yFAGpB,IAAgF,IAA5E+S,EAAYpS,QAAQsR,kBAAkByF,QAAQpI,KAAKqE,QAAQY,YAC3D,MAAM,IAAIvU,MAAM,iFAGpBsP,KAAKwE,OAAO/S,QAAQ,SAAUK,GACtBA,EAAM8U,aAAanD,EAAYpS,QAAQqR,kBACvC,EAAIW,EAAOhS,SAASoS,EAAYpS,QAAQoR,YAAa3Q,GAAOL,QAAQ,SAAU6U,GAC1E,OAMIA,EAAWvU,iBAAiBoW,EAAO9D,QAAQY,WAAYkD,EAAOxD,QAAQQ,KAAKgD,EAAQ,KAAM,CACrFrW,QAAOA,EACPwU,aAAYA,OAMxBxU,EAAMC,iBAAiBoW,EAAO9D,QAAQY,WAAYkD,EAAOxD,QAAQQ,KAAKgD,EAAQ,KAAM,CAAErW,QAAOA,WAMtGoS,EA3SU,GA8SrBrT,EAAQQ,QAAU6S,GAChB,CAACmE,cAAc,GAAGC,cAAc,GAAGC,aAAa,GAAGC,UAAU,GAAGlW,iBAAiB,KAAKmW,KAAG,CAAC,SAASlY,EAAQU,EAAOJ,GACpH,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAEXP,EAAQgW,WAAahW,EAAQqW,YAAcrW,EAAQsW,qBAAuBtW,EAAQoW,2BAAwBrT,EAE1G,IAEIyP,EAASlR,EAFD5B,EAAQ,mBAMhB+S,EAAUnR,EAFD5B,EAAQ,YAMjBkT,EAActR,EAFD5B,EAAQ,gBAIzB,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvF,IAAIsW,EAAwB,SAA+B5W,EAAOJ,GAC9D,IAAIiX,EAAiB7W,EAAMwL,aAAa,4BACpC0J,EAAe3D,EAAOhS,QAAQyC,MAAM6U,EAAgBjX,GAExD,OAAIsV,IAIG,GAGiBnW,EAAQoW,sBAAwB,SAA+BnV,EAAOJ,GAC9F,IAAIkX,EAAc9W,EAAM+W,mBACpBC,EAAgBJ,EAAsB5W,EAAOJ,GAEjD,OAAIoX,GAAiBA,EAAcD,oBAAsBC,EAAcD,mBAAmB3T,UAAUqR,SAAS9C,EAAYpS,QAAQ6Q,WAAWE,WACjI0G,EAAcD,sBAGrBD,IAAeA,EAAY1T,UAAUqR,SAAS9C,EAAYpS,QAAQ6Q,WAAWE,aAEtEwG,GAMY/X,EAAQsW,qBAAuB,SAA8BH,EAAc+B,EAAejX,EAAOJ,GAExH,IAAIiW,EAAgBX,EAChB8B,EAAgBJ,EAAsB5W,EAAOJ,IAASI,EAErDkV,KACDW,EAAgB1Q,SAASC,cAAc,MACzBhC,UAAUC,IAAIsO,EAAYpS,QAAQ6Q,WAAWE,WAC3DtQ,EAAMkX,WAAWnB,aAAaF,EAAemB,EAAcF,cAG/DjB,EAAclM,YAAcsN,EAC5BpB,EAAczS,UAAU0E,OAAO6J,EAAYpS,QAAQ6Q,WAAWC,WAGhDtR,EAAQqW,YAAc,SAAqBF,GACpDA,IAILA,EAAa9R,UAAUC,IAAIsO,EAAYpS,QAAQ6Q,WAAWC,UAC1D6E,EAAaY,UAAY,KAYZ/W,EAAQgW,WAAa,SAAoB/U,EAAOiU,GAC7D,OAAOjU,EAAMwL,aAAa,YAAcyI,EAAW,WAV/B,SAA2BjU,EAAOiU,GAEtD,OAAKzC,EAAQjS,QAAQ0U,GAAUkD,oBAIxB3F,EAAQjS,QAAQ0U,GAAUmD,eAAe1R,QAAQ,MAAO8L,EAAQjS,QAAQ0U,GAAUkD,oBAAoBnX,IAHlGwR,EAAQjS,QAAQ0U,GAAUmD,eAO2BC,CAAkBrX,EAAOiU,KAE3F,CAACuC,cAAc,GAAGE,UAAU,GAAGlW,iBAAiB,KAAK8W,KAAG,CAAC,SAAS7Y,EAAQU,EAAOJ,GACnF,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAIgCgB,EAJ5Bb,EAAQhB,EAAQ,kBAEhB8S,GAE4BjR,EAFIb,IAEiBa,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,iCAG9BnJ,OAAM,SAAc3L,GAChB,IAAIuX,EAAQhG,EAAOhS,QAAQyC,MAAM,UAAahC,EAAMwL,aAAa,gCAAkC,MAGnG,OAFgB+L,GAAQA,EAAMC,SAEVxX,EAAMV,MAAMmY,OAAOxY,OAAS,GAGpDmY,iBAAgB,4BASlB,CAAC5W,iBAAiB,KAAKkX,KAAG,CAAC,SAASjZ,EAAQU,EAAOJ,GACrD,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAQXP,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,IAAI2X,EAAY3X,EAAM8U,aAAa,mBAGnC,GAFqB9U,EAAM8U,aAAa,2BAEjB6C,EACnB,MAAM,IAAI/Y,MAAM,kFAGpB,OAAO+Y,GAGXhM,OAAM,KAENyL,iBAAgB,8BAElB,IAAIQ,KAAG,CAAC,SAASnZ,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAIgCgB,EAJ5Bb,EAAQhB,EAAQ,kBAEhB8S,GAE4BjR,EAFIb,IAEiBa,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,0BAG9BnJ,OAAM,SAAc1C,GAEhB,IAAI4O,EAAY,IAAI5L,KAChB6L,EAAeD,EAAUE,WAAa,EACtCC,EAAcH,EAAUI,cAExBC,EAAkB3G,EAAOhS,QAAQyC,MAAM,uCAAwCiH,GAC/EkP,EAAiB5G,EAAOhS,QAAQyC,MAAM,sCAAuCiH,GAC7EmP,EAAmBC,OAAOH,EAAgB5Y,OAC1CgZ,EAAkBD,OAAOF,EAAe7Y,OAE5C,OAAIgZ,EAAkBN,GAAeI,EAAmB,GAIjDE,IAAoBN,GAAeI,GAAoBN,GAGlE5D,mBAAkB,CAAC,uCAAwC,uCAE3DkD,iBAAgB,qCAQlB,CAAC5W,iBAAiB,KAAK+X,KAAG,CAAC,SAAS9Z,EAAQU,EAAOJ,GACrD,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAIgCgB,EAJ5BkY,EAAa/Z,EAAQ,gBAErBkT,GAE4BrR,EAFSkY,IAEYlY,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,MAAsC,UAA/BA,EAAMwL,aAAa,SAG9BG,OAAM,SAAc3L,GAEhB,MAAoB,KAAhBA,EAAMV,OAGHqS,EAAYpS,QAAQqK,MAAM+B,KAAK3L,EAAMV,QAGhD8X,iBAAgB,mDAOlB,CAACqB,eAAe,KAAKC,KAAG,CAAC,SAASja,EAAQU,EAAOJ,GACnD,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAEIqZ,EAAatY,EAFD5B,EAAQ,eAMpBma,EAAcvY,EAFD5B,EAAQ,gBAMrBoa,EAAcxY,EAFD5B,EAAQ,gBAMrBqa,EAAYzY,EAFD5B,EAAQ,cAMnBsa,EAAU1Y,EAFD5B,EAAQ,YAMjBua,EAAY3Y,EAFD5B,EAAQ,cAMnBwa,EAAiB5Y,EAFD5B,EAAQ,mBAMxBya,EAAwB7Y,EAFD5B,EAAQ,0BAM/B0a,EAAW9Y,EAFD5B,EAAQ,aAItB,SAAS4B,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACd+U,SAAQ6E,EAAS5Z,QACjB6Z,eAAcH,EAAe1Z,QAC7B8Z,sBAAqBH,EAAsB3Z,QAC3C+Z,YAAWV,EAAYrZ,QACvBga,YAAWV,EAAYtZ,QACvBia,UAASV,EAAUvZ,QACnBqK,QAAOmP,EAAQxZ,QACfyD,UAASgW,EAAUzZ,QACnBqU,WAAU+E,EAAWpZ,UAEvB,CAACka,wBAAwB,GAAGC,WAAW,GAAGC,iBAAiB,GAAGC,UAAU,GAAGC,YAAY,GAAGC,cAAc,GAAGC,cAAc,GAAGC,YAAY,GAAGC,aAAa,KAAKC,KAAG,CAAC,SAASzb,EAAQU,EAAOJ,GAC3L,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAIgCgB,EAJ5Bb,EAAQhB,EAAQ,kBAEhB8S,GAE4BjR,EAFIb,IAEiBa,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,qBAG9BnJ,OAAM,SAAc3L,GAChB,IAAIma,EAAmBna,EAAMwL,aAAa,oBAE1C,GAAI2O,EAAkB,CAClB,IAAI5C,EAAQhG,EAAOhS,QAAQyC,MAAM,cAAgBmY,EAAmB,KAEpE,OAAOA,GAAoB5C,GAASvX,EAAMV,QAAUiY,EAAMjY,MAG9D,OAAO,GAGX8X,iBAAgB,2CAEhBD,sBAAqB,SAA6BnX,GAC9C,OAAOA,EAAMwL,aAAa,oBAAoB9F,QAAQ,KAAM,OAQlE,CAAClF,iBAAiB,KAAK4Z,KAAG,CAAC,SAAS3b,EAAQU,EAAOJ,GACrD,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAQXP,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,cAAgB9U,EAAM8U,aAAa,uBAGjEnJ,OAAM,SAAc3L,GAEhB,MAAoB,KAAhBA,EAAMV,OAAoD,KAApCU,EAAMwL,aAAa,cAAoE,KAA7CxL,EAAMwL,aAAa,uBAGhFxL,EAAMV,MAAMmY,OAAOxY,QAAU0H,SAAS3G,EAAMwL,aAAa,cAAgBxL,EAAMwL,aAAa,sBAAuB,KAG9H4L,iBAAgB,uDAEhBD,sBAAqB,SAA6BnX,GAC9C,OAAO2G,SAAS3G,EAAMwL,aAAa,cAAgBxL,EAAMwL,aAAa,sBAAuB,OAGnG,IAAI6O,KAAG,CAAC,SAAS5b,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAQXP,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,cAAgB9U,EAAM8U,aAAa,uBAGjEnJ,OAAM,SAAc3L,GAEhB,MAAoB,KAAhBA,EAAMV,OAAoD,KAApCU,EAAMwL,aAAa,cAAoE,KAA7CxL,EAAMwL,aAAa,uBAIhFxL,EAAMV,MAAMmY,OAAOxY,QAAU0H,SAAS3G,EAAMwL,aAAa,cAAgBxL,EAAMwL,aAAa,sBAAuB,KAG9H4L,iBAAgB,wDAEhBD,sBAAqB,SAA6BnX,GAC9C,OAAO2G,SAAS3G,EAAMwL,aAAa,cAAgBxL,EAAMwL,aAAa,sBAAuB,OAGnG,IAAI8O,KAAG,CAAC,SAAS7b,EAAQU,EAAOJ,GAClC,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAQX,IAAIib,EAAY9b,EAAQ,gBAExBM,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,YAAc9U,EAAM8U,aAAa,mBAG/DnJ,OAAM,SAAc3L,GAEhB,GAAoB,KAAhBA,EAAMV,MACN,OAAO,EAGX,IAAIkb,EAAaxa,EAAMV,MAAMoG,QAAQ6U,EAAU7J,YAAa,QACxD8I,EAAUxZ,EAAMwL,aAAa,YAAcxL,EAAMwL,aAAa,kBAElE,OAAOiP,OAAO,OAASjB,EAAU,KAAM,OAAO7N,KAAK6O,IAGvDpD,iBAAgB,qDAElB,CAACqB,eAAe,KAAKiC,KAAG,CAAC,SAASjc,EAAQU,EAAOJ,GACnD,aAEAK,OAAOC,eAAeN,EAAS,aAAc,CACzCO,SAAO,IAGX,IAIgCgB,EAJ5Bb,EAAQhB,EAAQ,kBAEhB8S,GAE4BjR,EAFIb,IAEiBa,EAAIC,WAAaD,EAAM,CAAEf,UAASe,GAEvFvB,EAAQQ,QAAU,CACdsU,YAAW,SAAmB7T,GAC1B,OAAOA,EAAM8U,aAAa,aAAe9U,EAAM8U,aAAa,sBAGhEnJ,OAAM,SAAc3L,GAEhB,MAAmB,UAAfA,EAAM2a,MACY,EAAIpJ,EAAOhS,SAAS,UAAaS,EAAM0V,KAAO,cAC7CzW,OAAS,EAGb,aAAfe,EAAM2a,MACmB,IAAlB3a,EAAMwX,QAGVxX,EAAMV,MAAMmY,OAAOxY,OAAS,GAGvCmY,iBAAgB,4BAOlB,CAAC5W,iBAAiB,KAAKoa,KAAG,CAAC,SAASnc,EAAQU,EAAOJ,GACrD,aAAaK,OAAOC,eAAeN,EAAQ,aAAa,CAACO,SAAM,IAAK,IAAmGX,EAA/F+C,EAAOjD,EAAQ,SAASoc,GAAuElc,EAAxC+C,IAAqD/C,EAAE4B,WAAW5B,EAAE,CAACY,UAAQZ,GAAG,IAA2He,EAAI,SAASf,GAAG,IAAIiP,EAAE,EAAE/L,UAAU5C,aAAuB,IAAf4C,UAAU,GAAYA,UAAU,GAAG,KAAK,OAAM,EAAGgZ,EAAQtb,SAASZ,EAAEiP,IAAmI7L,EAAIrC,EAAIqC,EAAIrC,IAAIA,EAAIqC,EAAIC,MAA1X,SAASrD,GAAG,IAAIiP,EAAE,EAAE/L,UAAU5C,aAAuB,IAAf4C,UAAU,GAAYA,UAAU,GAAG,KAAK,OAAM,EAAGgZ,EAAQtb,SAASZ,EAAEiP,GAAG,IAAyR7L,EAAIE,OAAhK,SAAStD,GAAG,IAAIiP,EAAE,EAAE/L,UAAU5C,aAAuB,IAAf4C,UAAU,GAAYA,UAAU,GAAG,KAAK,OAAO,GAAE,EAAGgZ,EAAQtb,SAASZ,EAAEiP,GAAG3O,QAA8DF,EAAQQ,QAAQwC,GAC/nB,CAACI,QAAQ,KAAK2Y,KAAG,CAAC,SAASrc,EAAQU,EAAOJ,GAC5C8C,UAAU,GAAG,GAAG,GAAGkZ,MAAMhc,EAAQ8C,YAC/B,CAAC+B,6BAA6B,GAAGC,qBAAqB,GAAGmX,MAAM,IAAIC,KAAG,CAAC,SAASxc,EAAQU,EAAOJ,GACjG8C,UAAU,GAAG,GAAG,GAAGkZ,MAAMhc,EAAQ8C,YAC/B,CAACmZ,MAAM,IAAIE,KAAG,CAAC,SAASzc,EAAQU,EAAOJ,GACzC8C,UAAU,GAAG,GAAG,GAAGkZ,MAAMhc,EAAQ8C,YAC/B,CAACoG,oBAAoB,GAAG+S,MAAM,EAAE9S,mBAAmB,KAAKiT,KAAG,CAAC,SAAS1c,EAAQU,EAAOJ,IACf,WAAW,SAASqc,EAAEzc,EAAEiP,GAAGzI,SAASlF,iBAAiBtB,EAAEsB,iBAAiB,SAAS2N,GAAE,GAAIjP,EAAE0c,YAAY,SAASzN,GAAkW,SAAS3P,EAAEU,GAAGuP,KAAKvP,EAAEwG,SAASC,cAAc,OAAO8I,KAAKvP,EAAE6U,aAAa,cAAc,QAAQtF,KAAKvP,EAAE2G,YAAYH,SAASmW,eAAe3c,IAAIuP,KAAKN,EAAEzI,SAASC,cAAc,QAAQ8I,KAAK1P,EAAE2G,SAASC,cAAc,QAAQ8I,KAAKqN,EAAEpW,SAASC,cAAc,QAAQ8I,KAAK3P,EAAE4G,SAASC,cAAc,QAAQ8I,KAAKkB,GAAG,EAAElB,KAAKN,EAAE4N,MAAMC,QAAQ,+GAA+GvN,KAAK1P,EAAEgd,MAAMC,QAAQ,+GAC99BvN,KAAK3P,EAAEid,MAAMC,QAAQ,+GAA+GvN,KAAKqN,EAAEC,MAAMC,QAAQ,6EAA6EvN,KAAKN,EAAEtI,YAAY4I,KAAKqN,GAAGrN,KAAK1P,EAAE8G,YAAY4I,KAAK3P,GAAG2P,KAAKvP,EAAE2G,YAAY4I,KAAKN,GAAGM,KAAKvP,EAAE2G,YAAY4I,KAAK1P,GAC/U,SAASJ,EAAEO,EAAEiP,GAAGjP,EAAEA,EAAE6c,MAAMC,QAAQ,6LAA6L7N,EAAE,IAAI,SAAS8N,EAAE/c,GAAG,IAAIiP,EAAEjP,EAAEA,EAAEgd,YAAYnd,EAAEoP,EAAE,IAA+E,OAA3EjP,EAAEJ,EAAEid,MAAMI,MAAMpd,EAAE,KAAKG,EAAEH,EAAEqd,WAAWrd,EAAEG,EAAEiP,EAAEiO,WAAWld,EAAEiP,EAAEkO,YAAY,IAAWnd,EAAEyQ,IAAIxB,IAAGjP,EAAEyQ,EAAExB,GAAE,GAAO,SAASmO,EAAEpd,EAAEiP,GAAG,SAASpP,IAAI,IAAIG,EAAEqd,EAAEN,EAAE/c,IAAIA,EAAEA,EAAEuY,YAAYtJ,EAAEjP,EAAEyQ,GAAG,IAAI4M,EAAErd,EAAEyc,EAAEzc,EAAEiP,EAAEpP,GAAG4c,EAAEzc,EAAEH,EAAEA,GAAGkd,EAAE/c,GAAI,SAASsd,EAAEtd,EAAEiP,GAAG,IAAIpP,EAAEoP,GAAG,GAAGM,KAAKgO,OAAOvd,EAAEuP,KAAKsN,MAAMhd,EAAEgd,OAAO,SAAStN,KAAKiO,OAAO3d,EAAE2d,QAAQ,SAASjO,KAAKkO,QAAQ5d,EAAE4d,SAAS,SAAS,IAAIC,EAAE,KAAKC,EAAE,KAAKC,EAAE,KAAKC,EAAE,KAAwN,SAASC,IAAmC,OAA/B,OAAOD,IAAIA,IAAIrX,SAASuX,OAAcF,EACrvB,SAASG,EAAEhe,EAAEiP,GAAG,MAAM,CAACjP,EAAE6c,MAAM7c,EAAEwd,OAApL,WAAa,GAAG,OAAOI,EAAE,CAAC,IAAI5d,EAAEwG,SAASC,cAAc,OAAO,IAAIzG,EAAE6c,MAAMoB,KAAK,6BAA6B,MAAMhP,IAAI2O,EAAE,KAAK5d,EAAE6c,MAAMoB,KAAK,OAAOL,EAA0CM,GAAIle,EAAEyd,QAAQ,GAAG,QAAQxO,GAAGkP,KAAK,KAC5Nb,EAAEvO,UAAU9F,KAAK,SAASjJ,EAAEiP,GAAG,IAAIpP,EAAE0P,KAAK8N,EAAErd,GAAG,UAAUoe,EAAE,EAAEC,EAAEpP,GAAG,IAAIqP,GAAE,IAAKhR,MAAMC,UAAU,OAAO,IAAI/B,QAAQ,SAASxL,EAAEiP,GAAG,GAAG6O,MAFigB,WAAa,GAAG,OAAOH,EAAE,GAAGG,KAAK,QAAQ9Q,KAAK/I,OAAOsa,UAAUC,QAAQ,CAAC,IAAIxe,EAAE,oDAAoDye,KAAKxa,OAAOsa,UAAUG,WAAWf,IAAI3d,GAAG,IAAIgI,SAAShI,EAAE,GAAG,SAAS2d,GAAE,EAAG,OAAOA,EAE5sBgB,GAAI,CAAC,IAAIC,EAAE,IAAIpT,QAAQ,SAASxL,EAAEiP,IAAG,SAAS1P,KAAI,IAAK+N,MAAMC,UAAU+Q,GAAGD,EAAEpP,IAAIzI,SAASuX,MAAM9U,KAAK+U,EAAEne,EAAE,IAAIA,EAAE0d,OAAO,KAAKF,GAAGnU,KAAK,SAASrJ,GAAG,GAAGA,EAAES,OAAON,IAAI6e,WAAWtf,EAAE,KAAK,WAAW0P,MAAM1P,KAAMuf,EAAE,IAAItT,QAAQ,SAASxL,EAAEH,GAAGue,EAAES,WAAWhf,EAAEwe,KAAK7S,QAAQuT,KAAK,CAACD,EAAEF,IAAI1V,KAAK,WAAW8V,aAAaZ,GAAGpe,EAAEH,IAAI,WAAWoP,EAAEpP,UAJ7Q,SAAWG,GAAGwG,SAASE,KAAK1G,IAAIwG,SAASlF,iBAAiBkF,SAASlF,iBAAiB,mBAAmB,SAASzB,IAAI2G,SAASyY,oBAAoB,mBAAmBpf,GAAGG,MAAMwG,SAASkW,YAAY,qBAAqB,SAASW,IAAO,eAAe7W,SAAS0Y,YAAY,YAAY1Y,SAAS0Y,aAAW1Y,SAAS2Y,YAAY,qBAAqB9B,GAAGrd,OAIjEof,CAAE,WAAW,SAASrf,IAAI,IAAIkP,GAAKA,GAAG,GACrfrP,IAAI,GAAG6Q,IAAI,GAAG7Q,IAAI,GAAGgd,IAAI,GAAGnM,IAAI,GAAGmM,MAAG3N,EAAErP,GAAG6Q,GAAG7Q,GAAGgd,GAAGnM,GAAGmM,KAAK,OAAOc,IAAIzO,EAAE,sCAAsCwP,KAAKxa,OAAOsa,UAAUG,WAAWhB,IAAIzO,IAAI,IAAIjH,SAASiH,EAAE,GAAG,KAAK,MAAMjH,SAASiH,EAAE,GAAG,KAAK,IAAIjH,SAASiH,EAAE,GAAG,MAAMA,EAAEyO,IAAI9d,GAAGyf,GAAG5O,GAAG4O,GAAGzC,GAAGyC,GAAGzf,GAAG0f,GAAG7O,GAAG6O,GAAG1C,GAAG0C,GAAG1f,GAAG2f,GAAG9O,GAAG8O,GAAG3C,GAAG2C,IAAItQ,GAAGA,GAAEA,IAAIC,EAAEqJ,YAAYrJ,EAAEqJ,WAAWiH,YAAYtQ,GAAG8P,aAAaZ,GAAGpe,EAAEH,IACtS,IAAIN,EAAE,IAAID,EAAE+d,GAAG7d,EAAE,IAAIF,EAAE+d,GAAGld,EAAE,IAAIb,EAAE+d,GAAGzd,GAAG,EAAE6Q,GAAG,EAAEmM,GAAG,EAAEyC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAErQ,EAAE1I,SAASC,cAAc,OAAOyI,EAAEuQ,IAAI,MAAMhgB,EAAEF,EAAEye,EAAEne,EAAE,eAAeJ,EAAED,EAAEwe,EAAEne,EAAE,UAAUJ,EAAEU,EAAE6d,EAAEne,EAAE,cAAcqP,EAAEvI,YAAYpH,EAAES,GAAGkP,EAAEvI,YAAYnH,EAAEQ,GAAGkP,EAAEvI,YAAYxG,EAAEH,GAAGwG,SAASE,KAAKC,YAAYuI,GAAGmQ,EAAE9f,EAAES,EAAEgd,YAAYsC,EAAE9f,EAAEQ,EAAEgd,YAAYuC,EAAEpf,EAAEH,EAAEgd,YADJ,SAAS0C,IAAI,IAAG,IAAKpS,MAAMC,UAAU+Q,GAAGD,EAAEnP,EAAEqJ,YAAYrJ,EAAEqJ,WAAWiH,YAAYtQ,GAAGD,EAAEpP,OAAO,CAAC,IAAIG,EAAEwG,SAASmZ,QAAU,IAAK3f,QAAG,IAASA,IAAEJ,EAAEL,EAAES,EAAEgd,YACtfvM,EAAEjR,EAAEQ,EAAEgd,YAAYJ,EAAEzc,EAAEH,EAAEgd,YAAYjd,KAAIqe,EAAES,WAAWa,EAAE,KAA+TA,GAAItC,EAAE7d,EAAE,SAASS,GAAGJ,EAAEI,EAAED,MAAMN,EAAEF,EAAEye,EAAEne,EAAE,IAAIA,EAAE0d,OAAO,iBAAiBH,EAAE5d,EAAE,SAASQ,GAAGyQ,EAAEzQ,EAAED,MAAMN,EAAED,EAAEwe,EAAEne,EAAE,IAAIA,EAAE0d,OAAO,YACzeH,EAAEjd,EAAE,SAASH,GAAG4c,EAAE5c,EAAED,MAAMN,EAAEU,EAAE6d,EAAEne,EAAE,IAAIA,EAAE0d,OAAO,qBAAqB,iBAAkB/c,EAAOA,EAAOJ,QAAQkd,GAAGrZ,OAAO2b,iBAAiBtC,EAAErZ,OAAO2b,iBAAiB7Q,UAAU9F,KAAKqU,EAAEvO,UAAU9F,MAPtH,IASpE,IAAI4W,KAAG,CAAC,SAAS/f,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,SAAUmR,GAEE,aAAxB/K,SAAS0Y,YAAqD,gBAAxB1Y,SAAS0Y,WAElD3N,EAASlR,OAEDmG,SAASkW,YAEjBlW,SAASkW,YAAY,qBAAsB,WACd,gBAAxBlW,SAAS0Y,YACZ3N,EAASlR,SAGHmG,SAASlF,kBAEjBkF,SAASlF,iBAAiB,mBAAoBiQ,KAI9C,IAAIuO,KAAG,CAAC,SAAShgB,EAAQU,EAAOJ,IAClC,SAAW2f,GAWX,IAAIC,EAAkB,sBAGlBC,EAAM,IAGNC,EAAY,kBAGZC,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAevY,SAGfwY,EAA8B,iBAAVT,GAAsBA,GAAUA,EAAOtf,SAAWA,QAAUsf,EAGhFU,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKjgB,SAAWA,QAAUigB,KAGxEzd,EAAOud,GAAcC,GAAYE,SAAS,cAATA,GAUjCC,EAPcngB,OAAOsO,UAOQe,SAG7B+Q,EAAYC,KAAKC,IACjBC,EAAYF,KAAKG,IAkBjBlQ,EAAM,WACR,OAAO9N,EAAKqK,KAAKyD,OA4MnB,SAASmQ,EAASvgB,GAChB,IAAIqb,SAAcrb,EAClB,QAASA,IAAkB,UAARqb,GAA4B,YAARA,GA4EzC,SAASmF,EAASxgB,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAhCF,SAAkBA,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EAsBtBygB,CAAazgB,IAAUigB,EAAevgB,KAAKM,IAAUuf,EA8BpDmB,CAAS1gB,GACX,OAAOsf,EAET,GAAIiB,EAASvgB,GAAQ,CACnB,IAAI2gB,EAAgC,mBAAjB3gB,EAAMqQ,QAAwBrQ,EAAMqQ,UAAYrQ,EACnEA,EAAQugB,EAASI,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAAT3gB,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQA,EAAMoG,QAAQoZ,EAAQ,IAC9B,IAAIoB,EAAWlB,EAAWrT,KAAKrM,GAC/B,OAAQ4gB,GAAYjB,EAAUtT,KAAKrM,GAC/B4f,EAAa5f,EAAM6gB,MAAM,GAAID,EAAW,EAAI,GAC3CnB,EAAWpT,KAAKrM,GAASsf,GAAOtf,EAGvCH,EAAOJ,QAtPP,SAAkBqhB,EAAMC,EAAM9N,GAC5B,IAAI+N,EACAC,EACAC,EACA/V,EACAgW,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EAEf,GAAmB,mBAARV,EACT,MAAM,IAAIpb,UAAU2Z,GAUtB,SAASoC,EAAWC,GAClB,IAAIC,EAAOX,EACPY,EAAUX,EAKd,OAHAD,EAAWC,OAAWze,EACtB6e,EAAiBK,EACjBvW,EAAS2V,EAAKrF,MAAMmG,EAASD,GAqB/B,SAASE,EAAaH,GACpB,IAAII,EAAoBJ,EAAON,EAM/B,YAAyB5e,IAAjB4e,GAA+BU,GAAqBf,GACzDe,EAAoB,GAAOP,GANJG,EAAOL,GAM8BH,EAGjE,SAASa,IACP,IAAIL,EAAOtR,IACX,GAAIyR,EAAaH,GACf,OAAOM,EAAaN,GAGtBP,EAAUjD,WAAW6D,EAzBvB,SAAuBL,GACrB,IAEIvW,EAAS4V,GAFWW,EAAON,GAI/B,OAAOG,EAASlB,EAAUlV,EAAQ+V,GAHRQ,EAAOL,IAGkClW,EAoBhC8W,CAAcP,IAGnD,SAASM,EAAaN,GAKpB,OAJAP,OAAU3e,EAINgf,GAAYR,EACPS,EAAWC,IAEpBV,EAAWC,OAAWze,EACf2I,GAeT,SAAS+W,IACP,IAAIR,EAAOtR,IACP+R,EAAaN,EAAaH,GAM9B,GAJAV,EAAWze,UACX0e,EAAWrS,KACXwS,EAAeM,EAEXS,EAAY,CACd,QAAgB3f,IAAZ2e,EACF,OAvEN,SAAqBO,GAMnB,OAJAL,EAAiBK,EAEjBP,EAAUjD,WAAW6D,EAAchB,GAE5BO,EAAUG,EAAWC,GAAQvW,EAiEzBiX,CAAYhB,GAErB,GAAIG,EAGF,OADAJ,EAAUjD,WAAW6D,EAAchB,GAC5BU,EAAWL,GAMtB,YAHgB5e,IAAZ2e,IACFA,EAAUjD,WAAW6D,EAAchB,IAE9B5V,EAIT,OAxGA4V,EAAOP,EAASO,IAAS,EACrBR,EAAStN,KACXqO,IAAYrO,EAAQqO,QAEpBJ,GADAK,EAAS,YAAatO,GACHiN,EAAUM,EAASvN,EAAQiO,UAAY,EAAGH,GAAQG,EACrEM,EAAW,aAAcvO,IAAYA,EAAQuO,SAAWA,GAiG1DU,EAAUG,OAnCV,gBACkB7f,IAAZ2e,GACF9C,aAAa8C,GAEfE,EAAiB,EACjBL,EAAWI,EAAeH,EAAWE,OAAU3e,GA+BjD0f,EAAUI,MA5BV,WACE,YAAmB9f,IAAZ2e,EAAwBhW,EAAS6W,EAAa5R,MA4BhD8R,KAiINxiB,KAAKkP,KAAuB,oBAAXwQ,OAAyBA,OAAyB,oBAATW,KAAuBA,KAAyB,oBAAXzc,OAAyBA,OAAS,KAElI,IAAIif,KAAG,CAAC,SAASpjB,EAAQU,EAAOJ,IAUlC,SAAU6D,GAET,IAIMkf,EAEAC,EAEAC,EAqBAC,EAOAC,EAIAC,EACAjV,EAzCFkV,EAAKlF,UAAUG,UAEdza,EAAOyf,oBAAuB,OAAS1W,KAAKyW,IAAOA,EAAGvb,MAAM,cAAgB4T,OAAO6H,GAAK,IAC5FriB,iBAAiB,UAGZ8hB,EAAW5c,SAASC,cAAc,UAElC4c,EAAa,SAASO,GACzB,IAAIC,EAAQC,EACRC,EAAUH,EAAIrL,WAEqB,YAAnCwL,EAAQC,SAASC,eACpBJ,EAAST,EAASc,YAElBH,EAAQ3M,aAAayM,EAAQE,EAAQI,mBACrCtF,WAAW,WACVkF,EAAQvE,YAAYqE,QAEVD,EAAIQ,aAAeR,EAAI5G,YAAc4G,EAAIQ,eACpDR,EAAIQ,YAAcR,EAAI5G,YACtB8G,EAAQF,EAAIE,MACZF,EAAIE,OAAS,SACbjF,WAAW,WACV+E,EAAIE,MAAQA,MAKXR,EAAkB,WACrB,IAAI3jB,EACA0kB,EAAO7d,SAAS8d,iBAAiB,qCACrC,IAAK3kB,EAAI,EAAGA,EAAI0kB,EAAK/jB,OAAQX,IAC5B0jB,EAAWgB,EAAK1kB,KAGd4jB,EAAW,WACdvE,aAAamE,GACbA,EAAQtE,WAAWyE,EAAiB,KAEjCE,EAAKvf,EAAOC,YAAcA,WAAW,4BACrCqK,EAAO,WACVgV,IAEIC,GAAMA,EAAGe,aACZf,EAAGe,YAAYhB,IAIjBH,EAASoB,OAAS,6EAEd,YAAYxX,KAAKxG,SAAS0Y,YAAc,IAC3C3Q,IAEA/H,SAASlF,iBAAiB,mBAAoBiN,GAGxCgV,IA3DV,CA8DGtf,QAQH,SAAWA,EAAQuC,EAAUrD,GAE5B,aAKA,IAAUshB,EAAQC,EAAwBC,EAF1Cne,EAASC,cAAe,WAIxB,IAAIme,EAAK,GACLC,GAAqB,EACrBC,EAAO,aACPC,EAAQve,EAASC,cAAe,OAChCue,EAAaD,EAAMlY,aACnBoY,EAAaF,EAAMlQ,aACnBqQ,EAAgBH,EAAMxgB,gBACtB4gB,EAAU3e,EAASyD,gBACnBmb,EAAQ,GACRC,EAAM,CAETC,YAAW,IAMR7B,EAAKlF,UAAUG,UACf6G,EAAe,SAAWvY,KAAKyW,IAAQ,OAASzW,KAAKyW,IAAOA,EAAGvb,MAAM,cAAgB4T,OAAO6H,GAAK,GACjG6B,EAAa,aACbC,EAAW,oBACXC,EAAU,sBACVC,EAAa1hB,EAAO2hB,eAMpBC,EAAQ,4BACRC,GAAY,EAEZC,EAAW,GACXC,EAAkB,GAClBC,EAAMhiB,EAAOiiB,iBACbC,EAAQ,CACXC,KAAI,EACJC,KAAM,IAEHC,EAAS9f,EAASC,cAAe,KAKjC8f,GAAa,EAKbC,EAAqB,oBACrBC,EAA6B,qBAC7BC,EAAwB,qBACxBC,EAAsB,QACtBC,EAA0B,QAO1BC,EAAqB,oDAErBvS,EAAK,SAAS3S,EAAKmlB,EAAKC,EAAIC,GAC1BrlB,EAAIL,iBACRK,EAAIL,iBAAiBwlB,EAAKC,EAAIC,IAAW,GAC9BrlB,EAAI+a,aACf/a,EAAI+a,YAAa,KAAOoK,EAAKC,IAQ3BE,EAAU,SAASF,GACtB,IAAIG,EAAQ,GACZ,OAAO,SAAStO,GAIf,OAHOA,KAASsO,IACfA,EAAOtO,GAAUmO,EAAGnO,IAEdsO,EAAOtO,KAQhB,SAASuO,EAAQtnB,GAChB,MAAc,MAANA,GACM,OAANA,GACM,OAANA,GACM,OAANA,GACM,OAANA,EAUT,IAEKunB,EASAC,EAiwBMC,EAaLC,EACA3D,EACA5W,EA0cAwa,EAqBoB/F,EAAMC,EACzB+F,EAASC,EACTC,EAtBDC,EAEAC,EAcA/F,GAyBAgG,GA/wCFC,IAECX,EAAY,wBASZC,EAAWJ,EAAQ,SAASe,GAE/B,MAAO,UAVM,WAEb,IADA,IAAI1F,EAAOpf,UAAW+kB,EAAQ,EAAGC,EAAS5F,EAAK,KACtC2F,KAAS3F,GACjB4F,EAASA,EAAOnhB,QAAQub,EAAK2F,GAAQ3F,IAAO2F,IAE7C,OAAOC,EAKYnhB,EAASihB,GAAO,IAAIG,cAEtC,WAAY,KAGZ,KAAM,KAGN,oBAAqB,SAGrB,oBAAqB,SAGrB,eAAgB,OAGhB,2BAA4B,cAE5B,8CAA+C,IAC5C,MAGE,SAASH,EAAK1nB,GACpB,IAAI8nB,EACJ,KAAMJ,KAAOjC,GAEZ,GADAA,EAASiC,IAAO,EACZ1nB,IAAW8nB,EAAeJ,EAAI9f,MAAOkf,IACxCrB,EAASiC,GAAOI,EAAc,GAAMjC,EAAMiC,EAAc,SAGxD,IACCrC,EAASiC,GAAO,IAAIrH,SAAS,IAAK0G,EAASW,GAA3B,CAAiC7B,GAChD,MAAM5mB,IAIV,OAAOwmB,EAASiC,KAIdK,GAAgB,SAAUC,EAAWC,GAOxC,OANKD,EAAUhJ,GACdgJ,EAAUE,OAAS5D,EAAG6D,eAAgBF,GAAa,SACnDD,EAAUI,IAAMJ,EAAUhJ,EAAIgJ,EAAUE,QAExCF,EAAUI,IAAMJ,EAAUpZ,EAEpBoZ,GAOJ1lB,GAAc,SAAU+lB,GAE3B,GAAK9D,EAAL,CAEA,IAAI+D,EAAUjpB,EAAGkpB,EAEbjV,EAAU+U,GAAO,GAarB,GAXK/U,EAAQgV,UAA0C,IAA9BhV,EAAQgV,SAASE,WACQ,QAA5ClV,EAAQgV,SAAS5E,SAASC,cAC9BrQ,EAAQgV,SAAY,CAAEhV,EAAQgV,WAE9BhV,EAAQmV,QAAUnV,EAAQgV,SAC1BhV,EAAQgV,SAAY,OAMhBC,GAFND,EAAWhV,EAAQgV,UAAYhE,EAAGoE,IAAMpV,EAAQmV,SAAWviB,EAAaoN,EAAQqV,YAAcrV,EAAQsV,SAAatE,EAAGuE,IAAMvE,EAAGwE,WAEzG9oB,OAAU,CAM/B,IAJAskB,EAAGyE,SAAUzV,GACb2S,GAAa,EAGP5mB,EAAI,EAAGA,EAAIkpB,EAAMlpB,IACtBilB,EAAG0E,QAAQV,EAAUjpB,GAAKiU,GAG3BgR,EAAG2E,YAAa3V,MA8GlB,SAAS4V,GAAexpB,EAAGiP,GAC1B,OAAOjP,EAAE0oB,IAAMzZ,EAAEyZ,IAwBlB,SAASe,GAAoBC,EAAKC,GACjC,IAAIhqB,EAAG2oB,EAAWsB,EAClB,GAAKF,GAAOC,EAGX,IAFAC,EAAahF,EAAGiF,SAAUF,GAC1BD,EAAM9E,EAAGkF,QAAQJ,GACX/pB,EAAI,EAAGA,EAAIiqB,EAAWtpB,OAAQX,IACnC,GAAK+pB,IAAQ9E,EAAGkF,QAAQF,EAAYjqB,GAAIoqB,KAAO,CAC9CzB,EAAYsB,EAAYjqB,GACxB,MAIH,OAAO2oB,EA1ICrkB,EAAO2M,SAAWA,QAAQoZ,KAO5BxE,KAAcT,IACpBS,EAAa,OAIdJ,EAAO,eAAiB,EACxBA,EAAO,cAAgB,EACvBA,EAAO,cAAgB,EAmBvBA,EAAO,iBAAoB5e,EAASyjB,eAAeC,WAAY,2CAA4C,OAunB3GtF,EAAGuF,IAAM,MAAO,IAAI7c,MAAOC,WAAW6c,OAAO,EAAG,GAGhDxF,EAAGyF,UAAY,WAAYtF,EAC3BH,EAAG0F,SAAW,UAAWvF,EACzBH,EAAG2F,aAAetmB,EAAOyf,mBAIrBkB,EAAGyF,WAAazF,EAAG2F,aAAe3F,EAAG0F,WAC9BhD,EAKP9gB,EAASC,cAAc,OAJzBse,EAAMP,OAAS,UACf8C,EAAOoC,IAAM,UACb9E,EAAGyF,UAAYtF,EAAMyF,WAAalD,EAAOkD,SACzC5F,EAAG2F,WAAa3F,EAAGyF,WAAazF,EAAG2F,YAKjC3F,EAAGyF,YAAczF,EAAG0F,UAIlB/C,EAAS,6EACT3D,EAAMpd,EAASC,cAAc,OAC7BuG,EAAO,WAGI,IAFF4W,EAAI3G,QAGf2H,EAAG0F,UAAW,GAGf5F,EAAyBE,EAAGyF,YAAczF,EAAG0F,SAE7CzF,GAAqB,EAErBhG,WAAWjc,KAGZghB,EAAI6G,OAASzd,EACb4W,EAAIpT,QAAUxD,EACd4W,EAAI/O,aAAa,QAAS,OAE1B+O,EAAIY,OAAS+C,EAAS,4FACtB3D,EAAI8F,IAAMnC,GAIX1C,GAAqB,EAKtBD,EAAGwE,SAAW,0BACdxE,EAAGuE,IAAMvE,EAAGwE,SACZxE,EAAGS,IAAMA,EAKTT,EAAGqB,IAAOA,GAAQ,EAClBrB,EAAG7kB,EAAIomB,EAGPvB,EAAGQ,MAASA,EAEZR,EAAG8F,QAAU5F,EAQbF,EAAGkF,QAAU7C,EAAQ,SAASyC,GAE7B,OADApD,EAAOqE,KAAOjB,EACPpD,EAAOqE,OAUf/F,EAAGoE,IAAM,SAASD,EAASI,GAC1B,MAAS,kBAAmBJ,EAAYA,EAAQzE,iBAAiB6E,GAAO,IAQzEvE,EAAGgG,aAAe,WASjB,OARK3mB,EAAOC,aAAeA,WAAY,uBAA0B,IAAIG,QACpEugB,EAAGgG,aAAe,SAAUC,GAC3B,OAAQA,GAAW3mB,WAAY2mB,GAAgB,SAGhDjG,EAAGgG,aAAehG,EAAGkG,IAGflG,EAAGgG,aAAaxO,MAAO7M,KAAMrM,YASrC0hB,EAAGkG,IAAM,SAAUD,GAClB,OAAOA,GAAQ9C,GAAQ8C,IAYxBjG,EAAGmG,WAAa,SAAUC,GAEzB,IAAIrqB,EAAQonB,GAAQiD,GAAiB,KAAS,EAK9C,OAJIrqB,EAAQ,IACXA,GAAQ,GAGFA,GAORikB,EAAGqG,aAAe,SAAUjP,GAC3B,OAAO,GAAWoJ,EAAOpJ,IAQ1B4I,EAAGsG,UAAYjE,EAAQ,SAAUkE,GAChC,IAAIjjB,GAAUijB,GAAiB,IAAKjjB,MAAMwd,GAC1C,MAAO,CACNmF,QAAO3iB,GAASA,EAAM,GACtB5H,SAAQ4H,GAASA,EAAM,MAIzB0c,EAAGiF,SAAW,SAAUF,GAIvB,OAHMA,EAAIyB,QACTzB,EAAIyB,MAloBN,SAAqBxS,EAAO+Q,GAE3B,SAAS0B,EAAkBC,GAC1B,IAAIC,EACArjB,EAAQojB,EAAM7M,KAAK7F,EAAM4S,UAAUC,IACvC,GAAIvjB,EAGH,OAFAqjB,EAAQrjB,EAAO,GACfujB,GAAOF,EAAMjrB,OACNirB,EAIT,IACIxB,EACA2B,EACAC,EACAC,EACA/rB,EALAgsB,EAAcjT,EAAMtY,OASpBmrB,EAAM,EAGN7B,EAAa,GASjB,SAASkC,IAGR,IAKIxM,EAAGpQ,EAAG0N,EAAGjd,EAETosB,EAAMC,EAAUrrB,EAAOsrB,EAAQC,EAP/BC,GAAS,EAMT7D,EAAY,GAKhB,IAAK3oB,EAAI,EAAIA,EAAI+rB,EAAYprB,OAAQX,IAGpCqsB,GAFAD,EAAOL,EAAa/rB,IAEHosB,EAAKzrB,OAAS,GAC/BK,EAAQorB,EAAKP,UAAU,EAAGO,EAAKzrB,OAAS,GACxC2rB,EAASjkB,SAASrH,EAAO,IACzBurB,EAAWE,WAAWzrB,GAIlBimB,EAAwB5Z,KAAKrM,IAAwB,MAAbqrB,IAGvC1M,GAAKpQ,KAAIid,GAAS,GAKP,IAAXF,EAAeE,GAAS,EAAa7M,EAAI2M,GAInCpF,EAAmB7Z,KAAKrM,IAAwB,MAAbqrB,IAIzC1M,GAAKpQ,GAAK0N,KAAIuP,GAAS,GAKvBD,EAAW,EAAIC,GAAS,EAAajd,EAAIgd,GAInCtF,EAAwB5Z,KAAKrM,IAAwB,MAAbqrB,IAG9CpP,GAAK1N,KAAIid,GAAS,GAKP,IAAXF,EAAeE,GAAS,EAAavP,EAAIqP,GAGtCE,GAAS,EAMbA,IACJ7D,EAAUyB,IAAMA,EAEZzK,IAAKgJ,EAAUhJ,EAAIA,GACnBpQ,IAAKoZ,EAAUpZ,EAAIA,GACnB0N,IAAK0L,EAAU1L,EAAIA,GAClBA,GAAM1N,GAAMoQ,IAAIgJ,EAAUpZ,EAAI,GACf,IAAhBoZ,EAAUpZ,IAAUya,EAAI0C,OAAQ,GACpC/D,EAAUqB,IAAMA,EAEhBC,EAAW1jB,KAAKoiB,IAUlB,SAASgE,IAWR,IARAjB,EAAkB7E,GAGlBmF,EAAoB,GAGpBC,EAAQ,kBAEK,CAUZ,GAPA/rB,EAAI+Y,EAAM2T,OAAOd,GAOH,kBAAVG,EAOH,GAAIzE,EAAQtnB,GACP8rB,IACHD,EAAYxlB,KAAKylB,GACjBA,EAAoB,GACpBC,EAAQ,wBAOH,CAAA,GAAU,MAAN/rB,EAMV,OALA4rB,GAAO,EACHE,GACHD,EAAYxlB,KAAKylB,QAElBG,IAKM,GAAU,MAANjsB,EACV8rB,GAAwC9rB,EACxC+rB,EAAQ,gBAKF,CAAA,GAAU,KAAN/rB,EAKV,OAJI8rB,GACHD,EAAYxlB,KAAKylB,QAElBG,IAMAH,GAAwC9rB,QAKnC,GAAc,cAAV+rB,EAIV,GAAU,MAAN/rB,EACH8rB,GAAwC9rB,EACxC+rB,EAAQ,oBAKF,CAAA,GAAU,KAAN/rB,EAGV,OAFA6rB,EAAYxlB,KAAKylB,QACjBG,IAMAH,GAAwC9rB,OAInC,GAAc,qBAAV+rB,EAIV,GAAIzE,EAAQtnB,QAGL,CAAA,GAAU,KAANA,EAEV,YADAisB,IAMAF,EAAQ,gBACRH,GAAO,EAMTA,GAAO,GAST,OAAa,CAIZ,GAHAJ,EAAkB5E,GAGdgF,GAAOI,EACV,OAAOjC,EAKRG,EAAMsB,EAAkB3E,GAGxBgF,EAAc,GAKQ,MAAlB3B,EAAIvI,OAAO,IACduI,EAAMA,EAAIhjB,QAAQ4f,EAAqB,IAEvCmF,KAIAQ,KAsXWE,CAAY7C,EAAInF,OAAQmF,IAE9BA,EAAIyB,OAQZxG,EAAG6H,WAAa,WACf,IAAI/lB,EACJ,IAAM+d,IAAW/d,EAAOF,EAASE,MAAQ,CACxC,IAAIgmB,EAAMlmB,EAASC,cAAe,OACjCkmB,EAAkBxH,EAAQtI,MAAMC,QAChC8P,EAAkBlmB,EAAKmW,MAAMC,QAE9B4P,EAAI7P,MAAMC,QA7/BI,uJAigCdqI,EAAQtI,MAAMC,QAAU+I,EACxBnf,EAAKmW,MAAMC,QAAU+I,EAErBnf,EAAKC,YAAa+lB,GAClBjI,EAASiI,EAAI1P,YACbtW,EAAK8Y,YAAakN,GAGlBjI,EAAS2H,WAAY3H,EAAQ,IAG7BU,EAAQtI,MAAMC,QAAU6P,EACxBjmB,EAAKmW,MAAMC,QAAU8P,EAGtB,OAAOnI,GAAU,IAMlBG,EAAG6D,eAAiB,SAAUoE,GAI7B,KAAOA,KAAqB7G,IAAoBX,EAAIyH,GAAK,CACxD,IAAIC,EAAgBnI,EAAGmG,WAnYzB,SAAoBiC,GAUnB,IAMIrtB,EACAstB,EACAC,EACAC,EACAC,EACAC,EAqFuCC,EAhGvCC,EAA0B,0GAI1BC,EAAe,0CAgHnB,IAHAN,GADAD,EA5FA,SAA8BQ,GAC7B,IAAIC,EACAC,EAAY,GACZC,EAAiB,GACjBC,EAAY,GACZC,EAAa,EACbrC,EAAM,EACNsC,GAAY,EAEhB,SAASC,IACJL,IACHC,EAAe1nB,KAAKynB,GACpBA,EAAY,IAId,SAASM,IACJL,EAAe,KAClBC,EAAU3nB,KAAK0nB,GACfA,EAAiB,IAKnB,OAAa,CAGZ,GAAe,MAFfF,EAASD,EAAIlB,OAAOd,IAKnB,OAFAuC,IACAC,IACOJ,EACD,GAAIE,EAAJ,CACN,GAAgB,MAAXL,GAAqC,MAAjBD,EAAIhC,EAAM,GAAa,CAC/CsC,GAAY,EACZtC,GAAO,EACPuC,IACA,SAEAvC,GAAO,MAPF,CAUA,GAAItE,EAAQuG,GAAS,CAI3B,GAAMD,EAAIlB,OAAOd,EAAM,IAAMtE,EAASsG,EAAIlB,OAAOd,EAAM,MAAWkC,EAAY,CAC7ElC,GAAO,EACP,SACM,GAAmB,IAAfqC,EAAkB,CAC5BE,IACAvC,GAAM,EACN,SAGAiC,EAAS,SAEJ,GAAe,MAAXA,EACVI,GAAc,OACR,GAAe,MAAXJ,EACVI,GAAc,MACR,CAAA,GAAe,MAAXJ,EAAgB,CAC1BM,IACAC,IACAxC,GAAO,EACP,SACM,GAAiB,MAAXiC,GAA4C,MAAxBD,EAAIlB,OAAOd,EAAM,GAAc,CAC/DsC,GAAY,EACZtC,GAAO,EACP,UAGDkC,GAAwBD,EACxBjC,GAAO,IAoBWyC,CAAqBlB,IACG1sB,OAGvCX,EAAI,EAAGA,EAAIutB,EAAyBvtB,IAkBxC,GAFAytB,GAfAD,EAAeF,EAAkBttB,IAeCwtB,EAAa7sB,OAAS,GApCdgtB,EAsCJF,EArClCG,EAAwBvgB,KAAKsgB,IAAOlB,WAAWkB,IAAM,GACrDE,EAAaxgB,KAAKsgB,IAIX,MAANA,GAAqB,OAANA,GAAsB,OAANA,EAgCpC,CAUA,GATCD,EAAOD,EACPD,EAAagB,MAQc,IAAxBhB,EAAa7sB,OAChB,OAAO+sB,EAYR,GADAF,EAAeA,EAAahP,KAAK,KAC3ByG,EAAGgG,aAAcuC,GAKvB,OAAOE,EAKR,MAAO,QAkN6Be,CAAYvB,IAE/C7G,EAAiB6G,GAAuBE,GAAgB5G,EAAMlJ,MAG/D,OAAO+I,EAAiB6G,IAazBjI,EAAGyJ,OAAS,SAAU1E,GACrB,IAAIC,EACJ,GAAKD,EAIJ,IAAM,IAAIhqB,EAAI,EAAG2uB,GAFjB1E,EAAahF,EAAGiF,SAAUF,IAEQrpB,OAAQX,EAAI2uB,EAAK3uB,IAClD0oB,GAAeuB,EAAYjqB,GAAKgqB,EAAI7F,OAGtC,OAAO8F,GAGRhF,EAAGyJ,OAAO3F,IAAML,GAEhBzD,EAAG2J,kBAAoB,SAAU3E,EAAYhG,GAC5C,GAAMgG,EAAWtpB,OAAjB,CACA,IAAIgoB,EACH3oB,EACA6uB,EACAluB,EACAmuB,EACAC,EACAC,EACAC,EACAC,EAt1BqBC,EAAYC,EAAaC,EAAUC,EACrDC,EAAsBC,EAAOC,EAu1B7BC,EAAYzL,EAAKgB,EAAGuF,IACpBmF,EAAM1K,EAAGqB,IAwBb,GAtBAyI,EAASW,EAAUX,QAAU9K,EAAI4B,IAEjCmJ,EAASU,EAAUV,QA/yBpB,SAAsB/K,EAAK8F,EAAKC,GAC/B,IAAIrB,EAiBJ,OAhBMqB,GAAOD,IAEZC,GADAA,EAAM/F,EAAKgB,EAAGuF,IAAKoF,OACN5F,EAAIA,EAAIrpB,OAAS,KAG/BgoB,EAAYmB,GAAmBC,EAAKC,MAGnCD,EAAM9E,EAAGkF,QAAQJ,GACjB9F,EAAKgB,EAAGuF,IAAKuE,OAAShF,EACtB9F,EAAKgB,EAAGuF,IAAKwE,OAASrG,EAEhBA,EAAUI,KACfL,GAAeC,EAAWA,EAAUqB,IAAI7F,QAGnCwE,EA6xBsBkH,CAAY5L,EAAK8K,EAAQ9E,EAAW,GAAGD,OAGrDgF,EAAOhF,MAAQC,EAAY,GAAID,OAI7CkF,EAAetJ,IAAiB3B,EAAI4G,UAAYmE,EAAOjG,IAAM,GAAM4G,KAGlEX,EAAOc,QAAS,EAIXd,EAAOjG,KAAO4G,IAClBb,EAAgBE,MAKbF,EAOL,IALA7E,EAAW8F,KAAMlG,IAGjBiF,EAAgB7E,GADhBtpB,EAASspB,EAAWtpB,QACiB,GAE/BX,EAAI,EAAGA,EAAIW,EAAQX,IAExB,IADA2oB,EAAYsB,EAAYjqB,IACT+oB,KAAO4G,EAAM,CAS1Bb,EAJG7E,EAJJ4E,EAAI7uB,EAAI,KAKNkvB,GAAeH,IAAW9J,EAAGkF,QAASxB,EAAUyB,QAh4B/B+E,EAi4BLlF,EAAY4E,GAAI9F,IAj4BCqG,EAi4BIzG,EAAUI,IAj4BDsG,EAi4BMM,EAj4BIL,EAi4BCrF,EAAY4E,GAAIiB,OAh4BtEP,OAAAA,EAAsBC,OAAAA,EAAOC,OAAAA,EAGX,aAAlB/J,EAAIC,UACFwJ,EAAa,IACjBM,EAAcJ,EAAW,GAKzBG,GAHUJ,EAAcC,IACxBE,EAAcpO,KAAK6O,IAAIb,EAAa,GAAK,MAIrCG,IACHE,GAAS,GAAMD,GAGhBE,EAAcN,EAAaK,GAG5BC,EAAeJ,EAAW,EACzBlO,KAAK8O,KAAKd,EAAaC,GACvBD,EAGKM,EAAcJ,GA02BDpF,EAAY4E,GAGZlG,EAEjB,MAKEmG,IAEJG,EAAehK,EAAGkF,QAAS2E,EAAc1E,KAEzCsF,EAAUX,OAASE,EACnBS,EAAUV,OAASF,EAEdG,IAAiBF,GACrB9J,EAAGiL,OAAQjM,EAAK6K,GAEjB7J,EAAG8F,QAAS9G,MAIdgB,EAAGiL,OAAS,SAAUjM,EAAK6K,GAC1B,IAAIqB,EACJlM,EAAI8F,IAAM+E,EAAc1E,IAGQ,kBAA3B0E,EAAc9E,IAAI3N,OACtB8T,EAAYlM,EAAI/G,MAAMI,MACtB2G,EAAI/G,MAAMI,MAAS2G,EAAI5G,YAAc,EAAK,KAIrC4G,EAAI5G,YAAc,IACtB4G,EAAI/G,MAAMI,MAAQ6S,KAKrBlL,EAAGmL,OAAS,SAAUnM,GACrB,IAAIjkB,EAAGgqB,EAAKsB,EACR/iB,GAAQ,EACRqnB,EAAO3L,EAAMgB,EAAGuF,IAAKoF,KAEzB,IAAM5vB,EAAI,EAAGA,EAAI4vB,EAAKjvB,SAAW4H,EAAOvI,IAGvC,IAFAgqB,EAAM4F,EAAK5vB,IAED6kB,QAAWI,EAAGgG,aAAcjB,EAAIkB,SAAaI,EAAerG,EAAGqG,aAActB,EAAI3N,OAA3F,CAIsB,YAAjBiP,IACJtB,EAAMsB,GAGP/iB,EAAQyhB,EACR,MAGD,OAAOzhB,GAGR0c,EAAGoL,UAAY,SAAU1lB,EAAS2lB,EAAQrc,GACzC,IAAIsc,EAAiBC,EAAUC,EAAcC,EAEzCC,EAAaL,GAA4C,YAAlCA,EAAOjM,SAASC,cACvCoL,EAAY/kB,EAASsa,EAAGuF,UA3tC9B,IA6tCOkF,EAAU3F,KAAqB9V,EAAQ8V,OAC3C2F,EAAU3F,IAAM1E,EAAW3kB,KAAMiK,EAAS,OACrC+kB,EAAU3F,IACdzE,EAAW5kB,KAAMiK,EA1sCN,aA0sCwB+kB,EAAU3F,KAE7CxE,EAAc7kB,KAAMiK,EA5sCT,qBAtBf,IAsuCO+kB,EAAU7K,QAAwB5Q,EAAQ4Q,SAAWI,EAAGyF,WAAa/f,EAAQka,UACjF0L,EAAkBlL,EAAW3kB,KAAMiK,EAAS,UAC5C+kB,EAAU7K,OAAS0L,EACnBG,GAAe,GAGhBhB,EAAUE,KAAO,GAEZe,IACJjB,EAAUkB,KAAM,EAz4BlB,SAA+BxM,EAAS6F,GACvC,IAAIjqB,EAAG2uB,EAAKzK,EAAQW,EAKhBgM,EAAUzM,EAAQ0M,qBAAsB,UAE5C,IAAM9wB,EAAI,EAAG2uB,EAAMkC,EAAQlwB,OAAQX,EAAI2uB,EAAK3uB,KAC3CkkB,EAAS2M,EAAS7wB,IACVilB,EAAGuF,KAAO,GAClB3F,EAASX,EAAOhX,aAAc,YAI7B+c,EAAW1jB,KAAM,CAChBse,SAAQA,EACRqG,QAAOhH,EAAOhX,aAAc,SAC5BmP,OAAM6H,EAAOhX,aAAc,QAC3BiX,QAAOD,EAAOhX,aAAc,WAu3B9B6jB,CAAsBT,EAAQZ,EAAUE,OAGpCF,EAAU7K,QACd2L,EAAW,CACV3L,SAAQ6K,EAAU7K,OAClBV,QAAOkB,EAAW3kB,KAAMiK,EAAS,UAGlC+kB,EAAUE,KAAKrpB,KAAMiqB,IAErBC,GAAgB1L,GAA0B2K,EAAU3F,MAAQjE,EAASzY,KAAKqiB,EAAU7K,QAAU,OAGxE6K,EAAU3F,KAAQD,GAAmB4F,EAAU3F,IAAKyG,IAAcA,EAAS9D,QAChG8D,EAAS3L,QAAU,KAAO6K,EAAU3F,IACpCyG,EAAS/E,MAAMllB,KAAK,CACnB6jB,MAAKsF,EAAU3F,IACfxa,IAAG,EACHya,MAAKwG,MAIId,EAAU3F,KACrB2F,EAAUE,KAAKrpB,KAAM,CACpBse,SAAQ6K,EAAU3F,IAClB5F,QAAO,OAITuL,EAAUV,OAAS,KACnBU,EAAUX,YA/wCZ,EAmxCEW,EAAUsB,YAAeL,GAAgBH,IAAavL,EAAGyF,WAAgB+F,IAAiBxL,EAAG0F,UAExF+F,GAAgBzL,EAAGyF,YAAcgF,EAAUsB,YAC1CT,GACJjL,EAAW5kB,KAAMiK,EAhwCHsmB,gBAgwCwBV,GACtC5lB,EAAQka,OAAS,IAEjBU,EAAc7kB,KAAMiK,EAnwCNsmB,kBAuwCZvB,EAAUsB,YAActB,EAAU7K,UAAa6K,EAAU3F,KAAOpf,EAAQof,KAASpf,EAAQof,MAAQ9E,EAAGkF,QAAQuF,EAAU3F,QACnG,OAAlB2F,EAAU3F,IACbpf,EAAQ/F,gBAAgB,OAExB+F,EAAQof,IAAM2F,EAAU3F,KAI1B2F,EAAUwB,QAAS,GAGpBjM,EAAG0E,QAAU,SAAShf,EAASsJ,GAC9B,IAAIyb,EA1/BwBzL,EACxBkN,EACAC,EACAC,EAw/BAC,EAAUrd,EAAQsV,UAAYtV,EAAQqV,YAGpC3e,EAASsa,EAAGuF,MACjB7f,EAASsa,EAAGuF,IAAO,IAGpBkF,EAAY/kB,EAASsa,EAAGuF,IAKlB8G,GAAW5B,EAAU6B,SAAWvM,KAIhC0K,EAAUwB,SAAUjd,EAAQqV,YACjCrE,EAAGoL,UAAW1lB,EAASA,EAAQiO,WAAY3E,GAGtCyb,EAAUsB,UAGftB,EAAU6B,OAASvM,GAlhCQf,EAghCPtZ,EA9gCjBymB,EAAcnM,EAAGmL,OAAQnM,GACzBoN,GAAY,EACK,YAAhBD,IACJC,EAAYrM,EACPoM,IACJD,EAAmBlM,EAAGyJ,OAAQ0C,GAC9BnM,EAAG2J,kBAAmBuC,EAAkBlN,KAG1CA,EAAKgB,EAAGuF,IAAK+G,OAASF,KA2gCvBpM,EAAGyE,SAAW,WACP9C,IAAcT,GAAcG,IAAQhiB,EAAOiiB,mBAtkCjDJ,GAAY,EACZG,EAAMhiB,EAAOiiB,iBACbH,EAAW,GACXC,EAAkB,GAElBpB,EAAGqB,IAAMA,GAAO,EAEhBE,EAAMlJ,MAAQ6D,KAAKC,IAAI9c,EAAO6D,YAAc,EAAGqd,EAAQgM,aACvDhL,EAAMiL,OAAStQ,KAAKC,IAAI9c,EAAOotB,aAAe,EAAGlM,EAAQmM,cAEzDnL,EAAMoL,GAAKpL,EAAMlJ,MAAQ,IACzBkJ,EAAMqL,GAAKrL,EAAMiL,OAAS,IAE1BzM,EAAS,CAAEwB,EAAMiL,OAAQjL,EAAMlJ,MAAOgJ,GAAM9H,KAAK,KAEjDgI,EAAMsL,GAAK7M,EAAG6H,aACdtG,EAAMuL,IAAMvL,EAAMsL,KA4jCd7M,EAAG2F,YACP3nB,GAAckiB,EACdF,EAAG0E,QAAUxE,IAMR8C,EAAW3jB,EAAOyY,YAAc,QAAU,WAE1CmL,EAAM,WACT,IAAI3I,EAAa1Y,EAAS0Y,YAAc,GAExC4C,GAAUjD,WAAWgJ,EAAoB,YAAf3I,EAA2B,IAAO,KACvD1Y,EAASE,OACbke,EAAG+M,YACHnK,EAAaA,GAAcI,EAAS5a,KAAKkS,KAExCF,aAAc8C,MAMbA,GAAUjD,WAAWgJ,EAAKrhB,EAASE,KAAO,EAAI,IAyB9CohB,GAAkB3C,EAAQmM,aAS9Bhd,EAAIrQ,EAAQ,UA9BYwd,EAsBT,WACdqE,EAAYhF,KAAKC,IAAI9c,EAAO6D,YAAc,EAAGqd,EAAQgM,eAAiBhL,EAAMlJ,OAASkI,EAAQmM,eAAiBxJ,GAC9GA,GAAkB3C,EAAQmM,aACrBxL,GACJlB,EAAG+M,YA1ByBjQ,EA8BW,GA5BpCiG,EAAQ,WACX,IAAIiK,EAAO,IAAKtkB,KAAUoa,EAEtBkK,EAAOlQ,EACV+F,EAAU5I,WAAW8I,EAAOjG,EAAOkQ,IAEnCnK,EAAU,KACVhG,MAIK,WACNiG,EAAY,IAAIpa,KAEXma,IACJA,EAAU5I,WAAW8I,EAAOjG,OAc/BpN,EAAI9N,EAAU,mBAAoBqhB,IAIpCjD,EAAGhiB,YAAcA,GAEjBgiB,EAAG+M,SAAW/uB,GACdgiB,EAAG2E,YAAczE,EAGjBliB,GAAYivB,EAAIjN,EAEhB3gB,EAAO2hB,eAAiB,CACvBhB,KAAIA,EACJ1e,OAAM,SAASoc,GACd,IAAIvL,EAAOuL,EAAKwP,QACQ,mBAAblN,EAAG7N,GACb6N,EAAG7N,GAAMqF,MAAMwI,EAAItC,IAEnB+C,EAAItO,GAAQuL,EAAK,GACbiE,GACH3B,EAAG+M,SAAU,CAAEzI,YAAU,OAM7B,KAAOvD,GAAcA,EAAWrlB,QAC/B2D,EAAO2hB,eAAe1f,KAAKyf,EAAWmM,SAIvC7tB,EAAOrB,YAAcA,GAGE,iBAAXpC,GAAiD,iBAAnBA,EAAOJ,QAEhDI,EAAOJ,QAAUwC,GACY,mBAAXmvB,QAAyBA,OAAOC,KAElDD,OAAQ,cAAe,WAAa,OAAOnvB,KAItCgiB,EAAG2F,aACRnF,EAAO,cA5sCR,SAA4BpJ,EAAMiW,GAGjC,IAAIlN,EAAQ,IAAI9gB,EAAOiuB,MAUvB,OATAnN,EAAMvU,QAAU,WACf4U,EAAOpJ,IAAS,EAChBpZ,MAEDmiB,EAAM0F,OAAS,WACdrF,EAAOpJ,GAAyB,IAAhB+I,EAAM9H,MACtBra,MAEDmiB,EAAM2E,IAAMuI,EACL,UA+rCiBE,CAAkB,aAAc,4IAr7C1D,CAw7CKluB,OAAQuC,WAEX,IAAI4rB,KAAG,CAAC,SAAStyB,EAAQU,EAAOJ,GAOlC,IAAiB2oB,EAASrT,EAATqT,EAILxZ,KAJcmG,EAIR,WAEhB,IAAI2c,EAAY,gBACZC,EAAM9rB,SACN+rB,EAAMtuB,OACNuuB,EAAOF,EAAIroB,gBACX6e,EAAW,WACX2J,EAAa,4BAA6BD,EAC5C,SAAUloB,EAASooB,GACjB,OAA4D,KAAP,GAA7CA,EAAUC,wBAAwBroB,KAE5C,SAAUA,EAASooB,GAEjB,OADAA,EAAYA,GAAaJ,GAAOI,GAAazuB,OAASuuB,EAAOE,KACxCpoB,GAAWooB,EAAU5c,SAASxL,IAGvD,SAASsoB,EAAQC,GACf,MAAO,GAAGrR,MAAMnhB,KAAKwyB,EAAI,GAG3B,SAASC,EAAO5c,GACd,IAAIzW,EACJ,OAAOyW,GAAoB,iBAAPA,IAAoBzW,EAAIyW,EAAG4S,YAAmB,GAALrpB,GAAe,GAALA,GAGzE,SAASszB,EAAUrzB,GACjB,MAAqB,iBAANA,GAAkBszB,SAAStzB,EAAEY,QAmC9C,SAASkD,EAAMR,EAAUiwB,GACvB,IAAI7T,EAAGnc,EAbT,SAAuBA,GACrB,OAAKA,EACc,iBAARA,EAAyBO,EAAMP,GAAM,IAC3CA,EAAK6lB,IAAaiK,EAAU9vB,GAAcA,EAAK,GAC7CA,EAHWqvB,EAYJY,CAAcD,GAC5B,OAAKhwB,GAASD,EACVA,IAAauvB,GAAOO,EAAO9vB,IACrBiwB,GAAajwB,IAAauvB,GAAOO,EAAO7vB,IAASwvB,EAAWzvB,EAAUC,GAAS,CAACD,GAAY,GAElGA,GAAY+vB,EAAU/vB,GAtC5B,SAAiB6vB,GACf,IAAK,IAAIvzB,EAAI,GAAIK,EAAI,EAAG8c,EAAIoW,EAAGvyB,OAAQX,EAAI8c,IAAK9c,EAAGozB,EAAUF,EAAGlzB,IAAOL,EAAIA,EAAE6E,OAAO0uB,EAAGlzB,IAAQL,EAAEA,EAAEgB,QAAUuyB,EAAGlzB,GAChH,OAAOL,EAoCqC6zB,CAAQnwB,GAGhDsvB,EAAIc,wBAAsC,UAAZpwB,IAAyBoc,EAAIpc,EAASkF,MAAMmqB,IACrEO,EAAQ,EAAOQ,uBAAuBhU,EAAE,KAG7Cpc,IAAaA,EAASwD,UAAaxD,EAAS8lB,UAAiC,GAArB9lB,EAAS8lB,UAC3DmK,EAAwB,GAAb,CAACjwB,GAEf4vB,EAAQ,EAAOtO,iBAAiBthB,IAdR,GAmBjC,OAFAQ,EAAM6vB,KA9CN,SAAcR,GACZ,IAAYlzB,EAAG6uB,EAAXxuB,EAAI,GACRszB,EACA,IAAK3zB,EAAI,EAAGA,EAAIkzB,EAAGvyB,OAAQX,IAAK,CAC9B,IAAK6uB,EAAI,EAAGA,EAAIxuB,EAAEM,OAAQkuB,IACxB,GAAIxuB,EAAEwuB,IAAMqE,EAAGlzB,GACb,SAAS2zB,EAGbtzB,EAAEA,EAAEM,QAAUuyB,EAAGlzB,GAEnB,OAAOK,GAqCFwD,QArFc,IAAVhD,GAAyBA,EAAOJ,QAASI,EAAOJ,QAAUsV,IAC3C,mBAAVqc,QAAwBA,OAAOC,IAAKD,OAAOrc,GACtDqT,EAAY,MAAIrT,KAsFrB,IAAI6d,KAAG,CAAC,SAASzzB,EAAQU,EAAOJ,GACjC,IAAS6C,EAAMuwB,EAANvwB,EAQRsM,KARcikB,EAQR,WAEJ,SAASC,EAAMxD,EAAQyD,EAAKphB,GAExB,GAAIA,EAAQ,CAER,IAAIqhB,EAAWntB,SAASotB,yBAA0BC,GAAWH,EAAIvd,aAAa,YAAc7D,EAAOzF,aAAa,WAEhHgnB,GAAWH,EAAI7e,aAAa,UAAWgf,GAEvC,IACA,IAAIC,EAAQxhB,EAAO4R,WAAU,GAAK4P,EAAMC,WAAWzzB,QAC/CqzB,EAAShtB,YAAYmtB,EAAMrc,YAG/BwY,EAAOtpB,YAAYgtB,IAG3B,SAASK,EAAqBC,GAE1BA,EAAIC,mBAAqB,WAErB,GAAI,IAAMD,EAAI/U,WAAY,CAEtB,IAAIiV,EAAiBF,EAAIG,gBAEzBD,KAAmBA,EAAiBF,EAAIG,gBAAkB5tB,SAASyjB,eAAeoK,mBAAmB,KACtF3tB,KAAKyQ,UAAY8c,EAAIK,aAAcL,EAAIM,cAAgB,IACtEN,EAAIO,QAAQC,OAAO,GAAG1e,IAAI,SAAS2e,GAE/B,IAAIpiB,EAAS2hB,EAAIM,cAAcG,EAAKC,IAEpCriB,IAAWA,EAAS2hB,EAAIM,cAAcG,EAAKC,IAAMR,EAAeS,eAAeF,EAAKC,KAEpFlB,EAAMiB,EAAKzE,OAAQyE,EAAKhB,IAAKphB,OAIzC2hB,EAAIC,qBAsDR,SAASW,EAAeC,GACpB,IAAK,IAAIpB,EAAMoB,EAAM,QAAUpB,EAAI1P,SAASmE,gBAAkBuL,EAAMA,EAAInb,cACxE,OAAOmb,EAEX,OAxDA,SAAuBqB,GA6CnB,IAAIC,EAAUC,EAAOx0B,OAAOs0B,GAAwKG,EAAWjxB,OAAOkxB,MAAQlxB,OAAOyc,KACrOsU,EAAW,aAAcC,EAAOA,EAAKD,SADa,0CACQhoB,KAAKuR,UAAUG,aAAeH,UAAUG,UAAUxW,MADoC,wBACd,IAAI,GAAK,QAAUqW,UAAUG,UAAUxW,MADjE,2BACoF,IAAI,GAAK,KADrB,mBACmC8E,KAAKuR,UAAUG,YAAcwW,EAEhP,IAAIE,EAAW,GAAIC,EAAwBpxB,OAAOoxB,uBAAyBxW,WAAYyW,EAAO9uB,SAASiqB,qBAAqB,OAAQ8E,EAAiC,EAErKP,GAjDA,SAASQ,IAEL,IACA,IAAIvN,EAAQ,EAAGA,EAAQqN,EAAKh1B,QAAU,CAElC,IAAIm1B,EAAMH,EAAKrN,GAAQgI,EAASwF,EAAIld,WAAYmb,EAAMmB,EAAe5E,GAASvG,EAAM+L,EAAI5oB,aAAa,eAAiB4oB,EAAI5oB,aAAa,QACvI,IAAK6c,GAAOuL,EAAKS,gBAAkBhM,EAAM+L,EAAI5oB,aAAaooB,EAAKS,gBAC/DhC,GAAOhK,GACH,GAAIsL,EACA,IAAKC,EAAKU,UAAYV,EAAKU,SAASjM,EAAKgK,EAAK+B,GAAM,CAEhDxF,EAAOzQ,YAAYiW,GAEnB,IAAIG,EAAWlM,EAAI1iB,MAAM,KAAM+iB,EAAM6L,EAAS9D,QAAS6C,EAAKiB,EAASzX,KAAK,KAE1E,GAAI4L,EAAIzpB,OAAQ,CAEZ,IAAI2zB,EAAMmB,EAASrL,GAEnBkK,KAAQA,EAAMmB,EAASrL,GAAO,IAAI3Z,gBAAsBE,KAAK,MAAOyZ,GAAMkK,EAAI1jB,OAC9E0jB,EAAIO,QAAU,IACdP,EAAIO,QAAQtuB,KAAK,CACb+pB,SAAQA,EACRyD,MAAKA,EACLiB,KAAIA,IAERX,EAAqBC,QAGrBR,EAAMxD,EAAQyD,EAAKltB,SAASouB,eAAeD,UAI7C1M,IAASsN,QAKjBtN,IAIRqN,EAAKh1B,QAAUg1B,EAAKh1B,OAASi1B,EAAiC,IAAMF,EAAsBG,EAAY,IAOhGA,KAjGhB,mBAAqBzD,QAAUA,OAAOC,IACtCD,OAAO,GAAI,WACP,OAAO9uB,EAAKJ,cAAgB2wB,MAC3B,iBAAmBhzB,GAAUA,EAAOJ,QAGzCI,EAAOJ,QAAUozB,IAAYvwB,EAAKJ,cAAgB2wB,KAmGpD,KAAK,GAAG,CAAC","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = setupValidation;\n\nvar _fDom = _interopRequireDefault(require(\"@justeat/f-dom\"));\n\nvar _fValidate = _interopRequireDefault(require(\"@justeat/f-validate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs f-validate on any forms in the docs\n * tagged with the `test-form` or `test-form-group` name\n */\nfunction setupValidation() {\n  var testForms = _fDom.default.all('form[name=\"test-form\"');\n\n  if (testForms.length > 0) {\n    testForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form);\n      validateForm.addCustomValidation('customRule', function (field) {\n        if (field.value === 'passTest') {\n          return true;\n        }\n\n        return false;\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n\n  var testGroupForms = _fDom.default.all('form[name=\"test-form-group\"');\n\n  if (testGroupForms.length > 0) {\n    testGroupForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form, {\n        // eslint-disable-line no-unused-vars\n        groupErrorPlacement: 'bottom'\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n}\n\n},{\"@justeat/f-dom\":3,\"@justeat/f-validate\":16}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"@justeat/f-footer\");\n\nvar _fHeader = require(\"@justeat/f-header\");\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _svg4everybody = _interopRequireDefault(require(\"svg4everybody\"));\n\nvar _formValidationSetup = _interopRequireDefault(require(\"./docs/formValidationSetup\"));\n\nrequire(\"picturefill\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _liteReady.default)(function () {\n  (0, _fozzie.stopFoit)();\n  (0, _svg4everybody.default)();\n  (0, _formValidationSetup.default)();\n  (0, _fHeader.checkForUser)();\n});\n\n},{\"./docs/formValidationSetup\":1,\"@justeat/f-footer\":4,\"@justeat/f-header\":8,\"@justeat/fozzie\":29,\"lite-ready\":33,\"picturefill\":35,\"svg4everybody\":37}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Returns first element in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Element}\n*/\nvar first = function first(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root)[0];\n};\n/**\n* Returns all elements in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar all = function all(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root);\n};\n/**\n* Returns true, if at least one element exists in the DOM, otherwise returns false.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {boolean}\n*/\n\n\nvar exists = function exists(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root).length > 0;\n};\n/**\n* Returns all elements in the DOM for the specified selector. Short syntax of `all` method.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar dom = all;\ndom.all = all;\ndom.first = first;\ndom.exists = exists;\nvar _default = dom;\nexports.default = _default;\n},{\"qwery\":36}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resizeInit = exports.tabindexResize = exports.collapseFooterPanels = void 0;\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar footerPanels;\nvar breakpoints = null;\n\nvar tabindexResize = function tabindexResize() {\n  if (breakpoints === null) {\n    breakpoints = (0, _fozzie.getBreakpoints)();\n  }\n\n  if (window.matchMedia(\"(min-width: \".concat(breakpoints.mid, \")\")).matches) {\n    footerPanels.forEach(function (panel) {\n      panel.removeAttribute('tabindex');\n    });\n  } else {\n    footerPanels.forEach(function (panel) {\n      panel.tabIndex = 0;\n    });\n  }\n};\n\nexports.tabindexResize = tabindexResize;\n\nvar collapseFooterPanels = function collapseFooterPanels() {\n  (0, _qwery.default)('[data-panel-collapsible]').forEach(function (panel) {\n    panel.classList.add('is-collapsed');\n  });\n};\n\nexports.collapseFooterPanels = collapseFooterPanels;\n\nvar resizeInit = function resizeInit() {\n  window.addEventListener('resize', (0, _lodash.default)(tabindexResize, 100));\n  footerPanels = (0, _qwery.default)('[data-footer-panel-heading]');\n  tabindexResize();\n};\n\nexports.resizeInit = resizeInit;\n(0, _liteReady.default)(function () {\n  collapseFooterPanels();\n  resizeInit();\n});\n},{\"@justeat/fozzie\":5,\"lite-ready\":33,\"lodash.debounce\":34,\"qwery\":36}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isWithinBreakpoint = exports.getCurrentScreenWidth = exports.getBreakpoints = exports.stopFoit = undefined;\n\nvar _stopFoit = require('./modules/stopFoit');\n\nvar _breakpointHelper = require('./modules/breakpointHelper');\n\nexports.stopFoit = _stopFoit.stopFoit;\nexports.getBreakpoints = _breakpointHelper.getBreakpoints;\nexports.getCurrentScreenWidth = _breakpointHelper.getCurrentScreenWidth;\nexports.isWithinBreakpoint = _breakpointHelper.isWithinBreakpoint;\n\n// All helper functions will be imported here, so that they can all be exported within one object.\n},{\"./modules/breakpointHelper\":6,\"./modules/stopFoit\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * @overview Breakpoint handler\n *\n * @module breakpointHelper\n */\n\nvar getBreakpoints = exports.getBreakpoints = function getBreakpoints() {\n    var output = {};\n\n    // Append hidden element to body\n    var screenSizer = document.createElement('div');\n    screenSizer.classList.add('c-screen-sizer');\n\n    document.body.appendChild(screenSizer);\n\n    // It should have a 'content' property containing the breakpoints\n    var breakpoints = window.getComputedStyle(document.querySelector('.c-screen-sizer')).getPropertyValue('content').replace(/[\"']/g, '').split(',');\n    // Gives a list of breakpoints in the form ['narrow:414px', ...etc]\n\n    // When there is no content, at this stage breakpoints should be ['']\n    if (breakpoints.length === 1 && breakpoints[0] === '') {\n        return output;\n    }\n\n    return breakpoints.reduce(function (prev, current) {\n        // `current` is of the form 'narrow:414px'\n        var _current$split = current.split(':'),\n            _current$split2 = _slicedToArray(_current$split, 2),\n            breakpointName = _current$split2[0],\n            breakpointValue = _current$split2[1];\n\n        prev[breakpointName] = breakpointValue; // <- the initial value is used for the first iteration\n        // The object, e.g., { 'narrow': '414px' } is returned to be used as `prev` in the next iteration\n        return prev;\n    }, output); // <- initial value\n};\n\nvar createBreakpointArray = exports.createBreakpointArray = function createBreakpointArray(breakpoints) {\n    // Order the breakpoints from widest to narrowest,\n    // takes the form [['narrow', '414px'], [...etc]]\n    var bps = [];\n    Object.keys(breakpoints).forEach(function (key) {\n        bps.unshift([key, breakpoints[key]]);\n    });\n\n    return bps;\n};\n\nvar getCurrentScreenWidth = exports.getCurrentScreenWidth = function getCurrentScreenWidth() {\n    var currentWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n\n    var bps = createBreakpointArray(breakpoints);\n\n    for (var i = 0; i < bps.length; i++) {\n        // Loops through the breakpoints (in descending order)\n        // returning the first one that is narrower than currentWidth.\n\n        var breakpointWidth = parseInt(bps[i][1], 10); // This also strips the 'px' from the string\n\n        if (i === bps.length - 1 || currentWidth > breakpointWidth) {\n            // If we've reached the last breakpoint, and there still hasn't been a match, return the smallest breakpoint\n            return bps[i][0];\n        }\n    }\n    // If no breakpoints have been set\n    return false;\n};\n\nvar isWithinBreakpoint = exports.isWithinBreakpoint = function isWithinBreakpoint(breakpointString) {\n    var operatorRegex = /[<>=]+/;\n    var operatorMatch = breakpointString.match(operatorRegex);\n    var operator = operatorMatch ? operatorMatch[0] : '';\n\n    var _breakpointString$spl = breakpointString.split(operatorRegex),\n        _breakpointString$spl2 = _slicedToArray(_breakpointString$spl, 2),\n        breakpoint = _breakpointString$spl2[1];\n\n    var currentScreenWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n    var bps = createBreakpointArray(breakpoints);\n\n    // We loop through the breakpoint array until we get a match.\n    // If we match we return the px value as an int. If we do not match we return false\n    var breakpointToPX = function breakpointToPX(breakpointName) {\n        var match = false;\n\n        bps.forEach(function (bp) {\n            if (bp[0] === breakpointName) {\n                match = parseInt(bp[1], 10);\n            }\n        });\n        return match;\n    };\n\n    var breakpointInPX = breakpointToPX(breakpoint);\n\n    // If the breakpoint passed in does not match any we;\n    if (!breakpointInPX) {\n        return false;\n    }\n\n    // We match our passed in operator and execute a sum: current screen width [Passed operator] [Passed breakpoint in PX]\n    switch (operator) {\n        case '>':\n            return currentScreenWidth > breakpointInPX;\n        case '<':\n            return currentScreenWidth < breakpointInPX;\n        case '=':\n            return currentScreenWidth === breakpointInPX;\n        case '>=':\n            return currentScreenWidth >= breakpointInPX;\n        case '<=':\n            return currentScreenWidth <= breakpointInPX;\n        default:\n            return false;\n    }\n};\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.stopFoit = undefined;\n\nvar _fontfaceobserver = require('fontfaceobserver');\n\nvar _fontfaceobserver2 = _interopRequireDefault(_fontfaceobserver);\n\nvar _fLogger = require('@justeat/f-logger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview stopFOIT reduces the amount of time a user has invisible text when using webfonts.\n *\n * @module stopFOIT\n */\n\n/**\n* Init method initialises the FontFaceObserver events\n*\n*/\n\nvar stopFoit = exports.stopFoit = function stopFoit() {\n    // Create a new `FontFaceObserver` for each webfont\n    var baseFont = new _fontfaceobserver2.default('Hind Vadodara');\n    var headingFont = new _fontfaceobserver2.default('Ubuntu');\n\n    // On load of each font we add `has-fontsLoaded` class with the font type modifier\n    baseFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--base');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n\n    headingFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--heading');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n};\n\nexports.default = stopFoit;\n},{\"@justeat/f-logger\":11,\"fontfaceobserver\":32}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"checkForUser\", {\n  enumerable: true,\n  get: function get() {\n    return _userAuth.checkForUser;\n  }\n});\nexports.setupHeader = void 0;\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _userAuth = require(\"./userAuth\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Fozzie header JavaScript behaviour.\n *\n * @module f-header\n */\n\n/**\n * Setup the behaviour for the header component.\n */\nvar setupHeader = function setupHeader() {\n  var menuButton = document.querySelector('[data-nav-button]');\n\n  if (menuButton) {\n    menuButton.addEventListener('click', function () {\n      var navContainer = document.querySelector('[data-nav-container]');\n      var navLabel = document.querySelector('[data-nav-toggle]');\n\n      if (navContainer) {\n        navContainer.classList.toggle('is-visible');\n      }\n\n      if (navLabel) {\n        navLabel.classList.toggle('is-open');\n      }\n\n      document.documentElement.classList.toggle('is-navInView');\n    });\n  }\n};\n\nexports.setupHeader = setupHeader;\n(0, _liteReady.default)(function () {\n  setupHeader();\n});\n},{\"./userAuth\":9,\"lite-ready\":33}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkForUser = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\nvar _userData = _interopRequireDefault(require(\"./userData\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Authorisation handler\n *\n * @module userAuth\n */\nvar removeElement = function removeElement(element) {\n  return element && element.remove();\n};\n\nvar removeHiddenClass = function removeHiddenClass(element) {\n  return element && element.classList.remove('is-hidden');\n};\n\nvar updateDom = function updateDom(authData) {\n  var authEl = document.querySelector('[data-auth-wrapper]');\n  var loginEl = document.querySelector('[data-login]');\n\n  if (authData.isAuthenticated) {\n    var headerName = document.querySelector('[data-name]');\n    var headerEmail = document.querySelector('[data-email]');\n\n    if (headerName && authData.friendlyName !== '') {\n      headerName.textContent = authData.friendlyName;\n    }\n\n    if (headerEmail && authData.email !== '') {\n      headerEmail.textContent = authData.email;\n    }\n\n    removeHiddenClass(authEl);\n    removeElement(loginEl);\n  } else {\n    removeHiddenClass(loginEl);\n    removeElement(authEl);\n  }\n\n  return authData;\n};\n/**\n * Checks if authorisation details can be found in the current session hits .net\n * endpoint and is returned valid auth details or no details if not logged in\n */\n\n\nvar checkForUser = function checkForUser() {\n  var authEl = document.querySelector('[data-auth-wrapper]'); // if our auth wrapper exists, get our user details\n\n  if (authEl) {\n    // this fetch logic will be extracted to a new module\n    return fetch('/api/account/details', {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(updateDom).then(_userData.default) // should send this error to the f-logger but for now, just erroring here inline\n    .catch(function (error) {\n      (0, _fLogger.logError)(error);\n    });\n  }\n\n  return Promise.resolve();\n};\n\nexports.checkForUser = checkForUser;\n},{\"./userData\":10,\"@justeat/f-logger\":11}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.saveUserData = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\n/**\n * @overview UserData handler\n *\n * @module userAuth/userData\n */\nvar storeLocalAnalyticsBlob = function storeLocalAnalyticsBlob(result) {\n  window.localStorage.setItem('je-analytics', JSON.stringify(result));\n  return result;\n};\n\nvar enrichUserDataWithCount = function enrichUserDataWithCount(userData, orderCountResponse) {\n  userData.orderCount = orderCountResponse.Count;\n  return userData;\n};\n\nvar pushUserData = function pushUserData(userData) {\n  return window.dataLayer.push({\n    userData: userData\n  });\n};\n\nvar fetchOrderCountAndSave = function fetchOrderCountAndSave(userData) {\n  var orderCountLink = document.querySelector('link[rel=\"ordercountlink\"]');\n  var orderCountUrl = orderCountLink && orderCountLink.getAttribute('href');\n\n  if (orderCountUrl) {\n    return fetch(orderCountUrl, {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(storeLocalAnalyticsBlob).then(function (result) {\n      return enrichUserDataWithCount(userData, result);\n    }).then(pushUserData).catch(function (err) {\n      (0, _fLogger.logError)(\"Unable to get order count. \".concat(err));\n      pushUserData(userData);\n    });\n  }\n\n  pushUserData(userData);\n  return Promise.reject();\n};\n\nvar getLocalAnalyticsBlob = function getLocalAnalyticsBlob() {\n  return window.localStorage.getItem('je-analytics');\n};\n\nvar orderCountSupported = function orderCountSupported() {\n  var supportedEl = document.querySelector('[data-order-count-supported]');\n\n  if (supportedEl && supportedEl.value) {\n    // Case insensitive regex test for value=\"true\"\n    return /^true$/i.test(supportedEl.value);\n  }\n\n  return Promise.reject();\n};\n\nvar saveUserData = function saveUserData(authData) {\n  if (!authData.isAuthenticated) {\n    return Promise.resolve();\n  }\n\n  var userData = authData.userData;\n\n  if (!orderCountSupported()) {\n    pushUserData(userData);\n    return Promise.resolve();\n  }\n\n  var savedAnalytics = getLocalAnalyticsBlob();\n\n  if (!savedAnalytics) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  var localOrderCount = JSON.parse(savedAnalytics);\n  var currentTime = new Date().getTime();\n  var localOrderCountExpires = Date.parse(localOrderCount.Expires);\n\n  if (localOrderCountExpires < currentTime) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  enrichUserDataWithCount(userData, localOrderCount);\n  pushUserData(userData);\n  return Promise.resolve();\n};\n\nexports.saveUserData = saveUserData;\n},{\"@justeat/f-logger\":11}],11:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getDebugMode=exports.disableDebugMode=exports.enableDebugMode=exports.clearHistory=exports.getHistory=exports.errorLogInit=exports.logError=exports.logWarning=exports.log=void 0;var _Logger=require('./modules/Logger'),_Logger2=_interopRequireDefault(_Logger),_ErrorLogger=require('./modules/ErrorLogger'),_ErrorLogger2=_interopRequireDefault(_ErrorLogger);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger}),log=function(a){logger.log(a)},logError=function(a){errorLogger.log(a,'Error')},logWarning=function(a){errorLogger.log(a,'Warn')},getHistory=function(){logger.getPersistentData()},clearHistory=function(){logger.clearPersistentData()},enableDebugMode=function(){debugMode=!0,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},disableDebugMode=function(){debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},errorLogInit=function(a){errorLogger.init(a)},getDebugMode=function(){return debugMode};exports.log=log,exports.logWarning=logWarning,exports.logError=logError,exports.errorLogInit=errorLogInit,exports.getHistory=getHistory,exports.clearHistory=clearHistory,exports.enableDebugMode=enableDebugMode,exports.disableDebugMode=disableDebugMode,exports.getDebugMode=getDebugMode;\n},{\"./modules/ErrorLogger\":12,\"./modules/Logger\":13}],12:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var ErrorLogger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.logger=b.logger,this.debugMode=b.logger.debugMode,this.config.serverFileUrl=b.serverFileUrl||'/js/shared/js-error.js',this.config.loggerCallback=b.loggerCallback||null,this.config.winlogCallback=b.winlogCallback||null,this.bindOnError()}return _createClass(a,[{key:'log',value:function log(a,b,c){var d=window.location.toString(),e={pageUrl:d,Exception:a,Level:b};this.logger.log(e),this.debugMode||(this.logToServer(e),'function'==typeof this.config.loggerCallback&&('Error'===b?this.config.winlogCallback.call(this,a,d,c):this.config.loggerCallback.call(this,a,d)))}},{key:'init',value:function init(a){this.config.serverFileUrl=a.serverFileUrl||this.config.serverFileUrl,this.config.loggerCallback=a.loggerCallback||this.config.loggerCallback,this.config.winlogCallback=a.winlogCallback||this.config.winlogCallback}},{key:'logToServer',value:function logToServer(a){var b,c='';c='object'===('undefined'==typeof a?'undefined':_typeof(a))?JSON.stringify(a):a;var d=this.config.serverFileUrl+'?error='+encodeURIComponent(c);if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)b=new ActiveXObject('Microsoft.XMLHTTP');else return;b.open('GET',d),b.send()}},{key:'bindOnError',value:function bindOnError(){var a=this;window.onerror=function(b,c,d,e,f){var g=b+' : '+c+' : Line '+d+' : Char '+e+' : StackTrace '+(f?f.stack:'');return a.log(g,'Error',d),!0}}}]),a}();exports.default=ErrorLogger;\n},{}],13:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var output=function(a){if('undefined'!=typeof window.console)void 0;else throw new Error('Console is not supported')},getPersistentData=function(){if(!localStorage)output('Local storage not available');else if(0<localStorage.length){var a,b,c,d;for(output('/***** Output local storage *****/'),a=0;a<localStorage.length;a++)b=+localStorage.key(a),c=localStorage[b],d=new Date(b),'Invalid Date'!==(d+'').valueOf()&&output(d+' => '+c);output('/***** End of local storage *****/')}else output('Local storage is empty')},clearPersistentData=function(){localStorage&&(localStorage.clear(),output('Local storage cleared'))},Logger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.debugMode=this.config.debugMode,this.data={}}return _createClass(a,[{key:'log',value:function log(a){var b=a;if(this.debugMode){var c=Date.now().toString();this.data[c]=b,'object'===('undefined'==typeof localStorage?'undefined':_typeof(localStorage))&&(b=JSON.stringify(b),localStorage.setItem(c,b)),output(b)}}}]),a}();exports.getPersistentData=getPersistentData,exports.clearPersistentData=clearPersistentData,exports.default=Logger;\n},{}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar addCallBack = exports.addCallBack = function addCallBack(callBacks, callBack) {\n\n    if (typeof callBack !== 'function') {\n        throw new TypeError('call back is not a function');\n    }\n\n    callBacks.push(callBack);\n};\n\nvar runCallbacks = exports.runCallbacks = function runCallbacks(callBacks) {\n\n    if (!callBacks) {\n        return;\n    }\n\n    callBacks.forEach(function (callback) {\n        callback();\n    });\n};\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar cssClasses = {\n    isHidden: 'is-hidden',\n    formError: 'form-error',\n    formErrors: 'form-errors',\n    hasError: 'has-error',\n    hasSuccess: 'has-success'\n};\n\nvar validationGroup = 'data-val-group';\n\nexports.default = {\n    cssClasses: cssClasses,\n    email: /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n    escapeChars: /[|\\\\{}()[\\]^$+*?.]/g,\n    fieldValues: 'input, select, textarea, [' + validationGroup + ']',\n    validationGroup: validationGroup,\n    validateOnOptions: ['blur', 'keyup']\n};\n},{}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.defaultOptions = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * @module Validate\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * ## Goals\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * To validate a form based on the HTML5 attributes each form has, or the data attributes specified on them\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should accept either:\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * 1. A form DOM Element\n                                                                                                                                                                                                                                                                               * 2. A string relating to the name of the form\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should also be able to label a form field with `data-novalidate`\n                                                                                                                                                                                                                                                                               * to remove it from those being validated\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               */\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _callbacks = require('./callbacks');\n\nvar _messages = require('./messages');\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Load in the set of test definitions to validate against\nvar VALIDATION_KEYS = Object.keys(_rules2.default);\n\nvar defaultOptions = exports.defaultOptions = {\n    errorClass: _constants2.default.cssClasses.hasError,\n    successClass: _constants2.default.cssClasses.hasSuccess,\n    focus: false,\n    groupErrorPlacement: false,\n    enableHTML5Validation: false\n};\n\nvar getForm = function getForm(descriptor) {\n\n    if (!descriptor) {\n        throw new Error('f-validate: expected form name or form node parameter');\n    }\n\n    var form = (typeof descriptor === 'undefined' ? 'undefined' : _typeof(descriptor)) === 'object' && descriptor.tagName === 'FORM' ? descriptor : document.forms[descriptor];\n\n    if (!form) {\n        throw new Error('f-validate: form not found');\n    }\n\n    return form;\n};\n\nvar elementsUntouched = function elementsUntouched(element, current, touchedSelectors) {\n\n    var notInErrorState = !current.field.classList.contains(_constants2.default.cssClasses.hasError);\n    var elementsNotTouched = touchedSelectors.map(function (childSelector) {\n        return _fDom2.default.first(childSelector, element);\n    }).filter(function (el) {\n        return el && !el.hasAttribute('data-touched');\n    });\n\n    // If one select has not been interacted with do not run test method\n    return notInErrorState && elementsNotTouched.length > 0;\n};\n\nvar FormValidation = function () {\n    function FormValidation(nameOrNode) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, FormValidation);\n\n        this.options = Object.assign({}, defaultOptions, options);\n        this.form = getForm(nameOrNode);\n        this.fields = this.getFields();\n\n        // Allow fields to be validated on 'enter'\n        this.fields.forEach(function (field) {\n            field.addEventListener('keydown', function (event) {\n                if (event.key === 'Enter') {\n                    _this.isValid(event);\n                }\n            });\n        });\n\n        this.customHandlers = {};\n        this.callBacks = {};\n        this.errorMessages = [];\n\n        if (this.options.onSuccess) {\n            this.on('success', this.options.onSuccess);\n        }\n        if (this.options.onError) {\n            this.on('error', this.options.onError);\n        }\n        if (this.options.validateOn) {\n            this.validateOn();\n        }\n\n        this.setFormNoValidate();\n        this.form.addEventListener('submit', this.isValid.bind(this));\n    }\n\n    /**\n     * on - Associates a callback with an event.\n     * Callbacks associated with an event will be called when the event fires.\n     * example:\n     *      formValidator.on('success', () => {\n     *          Do something when the form is found to be valid.\n     *      });\n     *      formValidator.on('error', () => {\n     *          Do something when the form is found to be invalid.\n     *      });\n     */\n\n\n    _createClass(FormValidation, [{\n        key: 'on',\n        value: function on(callBackEvent, callBack) {\n\n            if (!this.callBacks[callBackEvent]) {\n                this.callBacks[callBackEvent] = [];\n            }\n\n            try {\n                (0, _callbacks.addCallBack)(this.callBacks[callBackEvent], callBack, callBackEvent);\n            } catch (exception) {\n                throw new TypeError('f-validate: ' + callBackEvent + ' callback must be a function');\n            }\n        }\n    }, {\n        key: 'setSuccess',\n        value: function setSuccess(element) {\n            element.classList.remove(this.options.errorClass);\n            element.classList.add(this.options.successClass);\n        }\n    }, {\n        key: 'setError',\n        value: function setError(element) {\n            element.classList.remove(this.options.successClass);\n            element.classList.add(this.options.errorClass);\n        }\n    }, {\n        key: 'setFormNoValidate',\n        value: function setFormNoValidate() {\n\n            if (!this.options.enableHTML5Validation) {\n                this.form.setAttribute('novalidate', '');\n            }\n        }\n\n        /**\n         * Validates the form\n         *\n         * @param event\n         * @param {object} currentElement\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid(event, currentElement) {\n            var _this2 = this;\n\n            var formValid = true;\n            this.errorMessages = [];\n\n            this.fields.forEach(function (field) {\n\n                // currentElement refers to an element that is being validated on blur/keyup\n                // only validate on blur/keyup if the field is not empty and is not required\n                if (currentElement && (currentElement.field !== field || field.value === '' && !_rules2.default.required.condition(field))) {\n                    return;\n                }\n\n                var errorMessage = '';\n\n                // This needs to be set outside of the forEach loop, as otherwise only the final rule will apply the state\n                var fieldValid = true;\n\n                // This prevents us from applying state classes to fields without rules\n                var fieldHasValidation = false;\n\n                VALIDATION_KEYS.forEach(function (ruleName) {\n                    var definition = _rules2.default[ruleName];\n\n                    if (field.getAttribute('data-val-custom')) {\n                        _rules2.default.custom.test = _this2.customHandlers[field.getAttribute('data-val-custom')];\n                    }\n\n                    if (definition.condition(field)) {\n                        fieldHasValidation = true;\n                        var skipTest = false;\n\n                        // If rule has elements that need to be checked for touch, and validation is happening on blur/keyup\n                        if (definition.touchedSelectors && currentElement) {\n                            currentElement.childField.setAttribute('data-touched', true);\n                            skipTest = elementsUntouched(field, currentElement, definition.touchedSelectors);\n                        }\n\n                        if (!skipTest && !definition.test(field, currentElement)) {\n                            fieldValid = false;\n                            errorMessage = (0, _messages.getMessage)(field, ruleName);\n                            _this2.errorMessages.push(errorMessage);\n                        }\n                    }\n                });\n\n                if (fieldHasValidation) {\n\n                    if (fieldValid) {\n                        _this2.setSuccess(field);\n                    } else {\n                        formValid = false;\n                        _this2.setError(field);\n                    }\n\n                    // if we aren't handling a group field validation\n                    if (!_this2.options.groupErrorPlacement) {\n                        var errorElement = (0, _messages.getInlineErrorElement)(field, _this2.form);\n                        if (fieldValid) {\n                            (0, _messages.hideMessage)(errorElement);\n                        } else {\n                            (0, _messages.displayInlineMessage)(errorElement, errorMessage, field, _this2.form);\n                        }\n                    }\n                }\n            });\n\n            if (!formValid) {\n                this.setError(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.error);\n\n                if (event) {\n                    event.preventDefault();\n                }\n            } else {\n                this.setSuccess(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.success);\n            }\n\n            if (this.options.groupErrorPlacement) {\n                var groupedErrorElement = this.findGroupedErrorElement();\n                if (formValid) {\n                    (0, _messages.hideMessage)(groupedErrorElement);\n                } else {\n                    this.displayGroupedMessages(groupedErrorElement);\n                }\n            }\n\n            return formValid;\n        }\n    }, {\n        key: 'addCustomValidation',\n        value: function addCustomValidation(name, handler) {\n            if (!name || typeof name !== 'string') {\n                throw new Error('f-validate: please provide the name');\n            }\n            if (!handler || typeof handler !== 'function') {\n                throw new Error('f-validate: please provide a custom method');\n            }\n\n            this.customHandlers[name] = handler;\n        }\n    }, {\n        key: 'getFields',\n        value: function getFields() {\n            var fields = (0, _fDom2.default)(_constants2.default.fieldValues, this.form);\n\n            return fields.filter(function (f) {\n                return !(f.hasAttribute('type') && f.getAttribute('type') === 'hidden') && !f.hasAttribute('disabled') && !f.hasAttribute('data-novalidate') && !f.parentElement.hasAttribute(_constants2.default.validationGroup);\n            });\n        }\n    }, {\n        key: 'findGroupedErrorElement',\n        value: function findGroupedErrorElement() {\n            var groupedErrorElement = _fDom2.default.first('.' + _constants2.default.cssClasses.formErrors, this.form);\n\n            return groupedErrorElement;\n        }\n    }, {\n        key: 'displayGroupedMessages',\n        value: function displayGroupedMessages(groupedErrorElement) {\n\n            var updateElement = groupedErrorElement;\n\n            if (!groupedErrorElement) {\n                updateElement = document.createElement('ul');\n                updateElement.classList.add(_constants2.default.cssClasses.formErrors);\n\n                this.form.insertBefore(updateElement, this.getGroupedErrorPosition());\n            } else {\n                groupedErrorElement.innerHTML = '';\n            }\n\n            this.errorMessages.forEach(function (error) {\n                var li = document.createElement('li');\n                li.textContent = error;\n                updateElement.appendChild(li);\n            });\n        }\n    }, {\n        key: 'getGroupedErrorPosition',\n        value: function getGroupedErrorPosition() {\n\n            var groupElement = _fDom2.default.first(this.options.groupErrorPlacement, this.form);\n\n            if (groupElement) {\n                return groupElement;\n            }\n\n            if (this.options.groupErrorPlacement === 'bottom') {\n                return this.form.lastChild;\n            }\n\n            return this.form.firstChild;\n        }\n\n        /**\n         * Validates form field(s) based on the event passed into options.validateOn\n         *\n         * example:\n         *       this.validation = new FormValidation(this.form, {\n         *           validateOn: 'blur'\n         *       });\n         */\n\n    }, {\n        key: 'validateOn',\n        value: function validateOn() {\n            var _this3 = this;\n\n            if (this.options.groupErrorPlacement) {\n                throw new Error('f-validate: validation on \\'blur\\' or \\'keyup\\' cannot be performed if errors are grouped');\n            }\n\n            if (_constants2.default.validateOnOptions.indexOf(this.options.validateOn) === -1) {\n                throw new Error('f-validate: valid options for the \\'validateOn\\' property are \\'blur\\' or \\'keyup\\'');\n            }\n\n            this.fields.forEach(function (field) {\n                if (field.hasAttribute(_constants2.default.validationGroup)) {\n                    (0, _fDom2.default)(_constants2.default.fieldValues, field).forEach(function (childField) {\n                        return (\n\n                            // Binds each form element within a validation-group to the specified event.\n                            // When this event is triggered the validation-group element will be passed as the element to test.\n                            // The child field is also passed for use within a rule test method\n                            // Null is being passed as the isValid method expects 'field' as its second argument\n                            childField.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, {\n                                field: field,\n                                childField: childField\n                            }))\n                        );\n                    });\n                } else {\n                    // Null is being passed as the isValid method expects 'field' as its second argument\n                    field.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, { field: field }));\n                }\n            });\n        }\n    }]);\n\n    return FormValidation;\n}();\n\nexports.default = FormValidation;\n},{\"./callbacks\":14,\"./constants\":15,\"./messages\":17,\"./rules\":22,\"@justeat/f-dom\":28}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getMessage = exports.hideMessage = exports.displayInlineMessage = exports.getInlineErrorElement = undefined;\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getCustomErrorElement = function getCustomErrorElement(field, form) {\n    var errorPlacement = field.getAttribute('data-val-error-placement');\n    var errorElement = _fDom2.default.first(errorPlacement, form);\n\n    if (errorElement) {\n        return errorElement;\n    }\n\n    return false;\n};\n\nvar getInlineErrorElement = exports.getInlineErrorElement = function getInlineErrorElement(field, form) {\n    var nextSibling = field.nextElementSibling;\n    var customErrorEl = getCustomErrorElement(field, form);\n\n    if (customErrorEl && customErrorEl.nextElementSibling && customErrorEl.nextElementSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n        return customErrorEl.nextElementSibling;\n    }\n\n    if (nextSibling && nextSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n\n        return nextSibling;\n    }\n\n    return false;\n};\n\nvar displayInlineMessage = exports.displayInlineMessage = function displayInlineMessage(errorElement, customMessage, field, form) {\n\n    var updateElement = errorElement;\n    var customErrorEl = getCustomErrorElement(field, form) || field;\n\n    if (!errorElement) {\n        updateElement = document.createElement('p');\n        updateElement.classList.add(_constants2.default.cssClasses.formError);\n        field.parentNode.insertBefore(updateElement, customErrorEl.nextSibling);\n    }\n\n    updateElement.textContent = customMessage;\n    updateElement.classList.remove(_constants2.default.cssClasses.isHidden);\n};\n\nvar hideMessage = exports.hideMessage = function hideMessage(errorElement) {\n    if (!errorElement) {\n        return;\n    }\n\n    errorElement.classList.add(_constants2.default.cssClasses.isHidden);\n    errorElement.innerHTML = '';\n};\n\nvar getDefaultMessage = function getDefaultMessage(field, ruleName) {\n\n    if (!_rules2.default[ruleName].defaultMessageValue) {\n        return _rules2.default[ruleName].defaultMessage;\n    }\n\n    return _rules2.default[ruleName].defaultMessage.replace('{0}', _rules2.default[ruleName].defaultMessageValue(field));\n};\n\nvar getMessage = exports.getMessage = function getMessage(field, ruleName) {\n    return field.getAttribute('data-val-' + ruleName + '-error') || getDefaultMessage(field, ruleName);\n};\n},{\"./constants\":15,\"./rules\":22,\"@justeat/f-dom\":28}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-conditionalRequired');\n    },\n\n    test: function test(field) {\n        var input = _fDom2.default.first('[name=\\'' + field.getAttribute('data-val-conditionalRequired') + '\\']');\n        var isChecked = input ? input.checked : true;\n\n        return isChecked || field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Conditional Required Rule\n    * -------------------------\n    * This validation rule checks that if a specified checkbox is not checked, then it is required that a value must be entered in the field with this validation check.\n    *\n    * This also means that if the specified checkbox is checked, then the field is not required and the form will return valid when the field is empty.\n    *\n    */\n},{\"@justeat/f-dom\":28}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Custom Rule\n * --------------\n * This validation rule allows the addition of a custom validation check to be added to the field.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        var hasCustom = field.hasAttribute('data-val-custom');\n        var hasCustomError = field.hasAttribute('data-val-custom-error');\n\n        if (hasCustomError && !hasCustom) {\n            throw new Error('f-validate: specify data-val-custom along with data-val-custom-error attribute');\n        }\n\n        return hasCustom;\n    },\n\n    test: null,\n\n    defaultMessage: 'Custom validation failed.'\n};\n},{}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-dateInFuture');\n    },\n\n    test: function test(element) {\n\n        var dateToday = new Date();\n        var currentMonth = dateToday.getMonth() + 1;\n        var currentYear = dateToday.getFullYear();\n\n        var selectedMonthEl = _fDom2.default.first('[data-val-dateInFuture-type=\"month\"]', element);\n        var selectedYearEl = _fDom2.default.first('[data-val-dateInFuture-type=\"year\"]', element);\n        var selectedMonthVal = Number(selectedMonthEl.value);\n        var selectedYearVal = Number(selectedYearEl.value);\n\n        if (selectedYearVal > currentYear && selectedMonthVal > 0) {\n            return true;\n        }\n\n        return selectedYearVal === currentYear && selectedMonthVal >= currentMonth;\n    },\n\n    touchedSelectors: ['[data-val-dateInFuture-type=\"month\"]', '[data-val-dateInFuture-type=\"year\"]'],\n\n    defaultMessage: 'This date must be in the future.'\n}; /**\n    * Date In Future Rule\n    * -------------------\n    * This rule is for validating dates entered by a collection of `select` fields.\n    * When applied to a validation group, it returns true if the date entered in these fields is in the future.\n    *\n    */\n},{\"@justeat/f-dom\":28}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _constants = require('../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.getAttribute('type') === 'email';\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        return _constants2.default.email.test(field.value);\n    },\n\n    defaultMessage: 'This field must contain a valid email address.'\n}; /**\n    * Email Rule\n    * --------------\n    * Checks for a valid email address\n    *\n    */\n},{\"../constants\":15}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _maxlength = require('./maxlength');\n\nvar _maxlength2 = _interopRequireDefault(_maxlength);\n\nvar _minlength = require('./minlength');\n\nvar _minlength2 = _interopRequireDefault(_minlength);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nvar _email = require('./email');\n\nvar _email2 = _interopRequireDefault(_email);\n\nvar _matches = require('./matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _dateInFuture = require('./dateInFuture');\n\nvar _dateInFuture2 = _interopRequireDefault(_dateInFuture);\n\nvar _conditionalRequired = require('./conditionalRequired');\n\nvar _conditionalRequired2 = _interopRequireDefault(_conditionalRequired);\n\nvar _custom = require('./custom');\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    custom: _custom2.default,\n    dateInFuture: _dateInFuture2.default,\n    conditionalRequired: _conditionalRequired2.default,\n    maxlength: _maxlength2.default,\n    minlength: _minlength2.default,\n    pattern: _pattern2.default,\n    email: _email2.default,\n    matches: _matches2.default,\n    required: _required2.default\n};\n},{\"./conditionalRequired\":18,\"./custom\":19,\"./dateInFuture\":20,\"./email\":21,\"./matches\":23,\"./maxlength\":24,\"./minlength\":25,\"./pattern\":26,\"./required\":27}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-equalto');\n    },\n\n    test: function test(field) {\n        var matchedFieldName = field.getAttribute('data-val-equalto');\n\n        if (matchedFieldName) {\n            var input = _fDom2.default.first('input[name=' + matchedFieldName + ']');\n\n            return matchedFieldName && input && field.value === input.value;\n        }\n\n        return false;\n    },\n\n    defaultMessage: 'This field does not match the {0} field.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return field.getAttribute('data-val-equalto').replace('*.', '');\n    }\n}; /**\n    * Matches Rule\n    * ------------\n    * Checks that the value of the field being validated matches the value of a separate specified field\n    *\n    */\n},{\"@justeat/f-dom\":28}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Maxlength Rule\n * --------------\n * Checks that the value of the field is not greater than the specified maximum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('maxlength') || field.hasAttribute('data-val-maxlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('maxlength') === '' || field.getAttribute('data-val-maxlength') === '') {\n            return true;\n        }\n        return field.value.trim().length <= parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    },\n\n    defaultMessage: 'This field must not exceed {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    }\n};\n},{}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Minlength Rule\n * --------------\n * Checks that the value of the field is of a specified minimum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('minlength') || field.hasAttribute('data-val-minlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('minlength') === '' || field.getAttribute('data-val-minlength') === '') {\n            return true;\n        }\n\n        return field.value.trim().length >= parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    },\n\n    defaultMessage: 'This field must be at least {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    }\n};\n},{}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Pattern Rule\n * --------------\n * Allows definition of a rule to validate the input value using Regular Expressions (RegEx)\n *\n */\nvar CONSTANTS = require('../constants');\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('pattern') || field.hasAttribute('data-val-regex');\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        // escape characters that have special meaning inside a regular expression in field value\n        var fieldValue = field.value.replace(CONSTANTS.escapeChars, '\\\\$&');\n        var pattern = field.getAttribute('pattern') || field.getAttribute('data-val-regex');\n\n        return RegExp('^(?:' + pattern + ')$', 'gim').test(fieldValue);\n    },\n\n    defaultMessage: 'This field contains a value that isn’t accepted.'\n};\n},{\"../constants\":15}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('required') || field.hasAttribute('data-val-required');\n    },\n\n    test: function test(field) {\n        // Required checkbox & radio, 1 should be checked.\n        if (field.type === 'radio') {\n            var radioInputs = (0, _fDom2.default)('[name=\\'' + field.name + '\\']:checked');\n            return radioInputs.length > 0;\n        }\n\n        if (field.type === 'checkbox') {\n            return field.checked === true;\n        }\n\n        return field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Required Rule\n    * -------------\n    * Checks that a value is present for the field being validated\n    *\n    */\n},{\"@justeat/f-dom\":28}],28:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _qwery=require('qwery'),_qwery2=_interopRequireDefault(_qwery);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var first=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)[0]},all=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)},exists=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return 0<(0,_qwery2.default)(a,b).length},dom=all;dom.all=all,dom.first=first,dom.exists=exists,exports.default=dom;\n},{\"qwery\":36}],29:[function(require,module,exports){\narguments[4][5][0].apply(exports,arguments)\n},{\"./modules/breakpointHelper\":30,\"./modules/stopFoit\":31,\"dup\":5}],30:[function(require,module,exports){\narguments[4][6][0].apply(exports,arguments)\n},{\"dup\":6}],31:[function(require,module,exports){\narguments[4][7][0].apply(exports,arguments)\n},{\"@justeat/f-logger\":11,\"dup\":7,\"fontfaceobserver\":32}],32:[function(require,module,exports){\n/* Font Face Observer v2.0.13 - © Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener(\"scroll\",b,!1):a.attachEvent(\"scroll\",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function c(){document.removeEventListener(\"DOMContentLoaded\",c);a()}):document.attachEvent(\"onreadystatechange\",function k(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",k),a()})};function r(a){this.a=document.createElement(\"div\");this.a.setAttribute(\"aria-hidden\",\"true\");this.a.appendChild(document.createTextNode(a));this.b=document.createElement(\"span\");this.c=document.createElement(\"span\");this.h=document.createElement(\"span\");this.f=document.createElement(\"span\");this.g=-1;this.b.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.c.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.f.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.h.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}\nfunction t(a,b){a.a.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+b+\";\"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+\"px\";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}\nfunction K(){if(null===E){var a=document.createElement(\"div\");try{a.style.font=\"condensed 100px sans-serif\"}catch(b){}E=\"\"!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:\"\",\"100px\",b].join(\" \")}\nA.prototype.load=function(a,b){var c=this,k=a||\"BESbswy\",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'\"'+c.family+'\"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=\nf&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,\ng=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement(\"div\");d.dir=\"ltr\";t(e,L(c,\"sans-serif\"));t(n,L(c,\"serif\"));t(p,L(c,\"monospace\"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'\"'+c.family+'\",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'\"'+c.family+'\",serif'));\nz(p,function(a){h=a;u()});t(p,L(c,'\"'+c.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());\n\n},{}],33:[function(require,module,exports){\nmodule.exports = function (callback) {\r\n\r\n\tif (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n\t\t// Already ready or interactive, execute callback\r\n\t\tcallback.call();\r\n\t}\r\n\telse if (document.attachEvent) {\r\n\t\t// Old browsers\r\n\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\tif (document.readyState === 'interactive')\r\n\t\t\t\tcallback.call();\r\n\t\t});\r\n\t}\r\n\telse if (document.addEventListener) {\r\n\t\t// Modern browsers\r\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\r\n\t}\r\n}\r\n\n},{}],34:[function(require,module,exports){\n(function (global){\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],35:[function(require,module,exports){\n/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tvoid 0;\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n\n},{}],36:[function(require,module,exports){\n/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n\n},{}],37:[function(require,module,exports){\n!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n},{}]},{},[2])\n//# sourceMappingURL=script.js.map\n"]}