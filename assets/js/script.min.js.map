{"version":3,"sources":["script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","testForms","_fDom","all","forEach","form","validateForm","_fValidate","addCustomValidation","field","addEventListener","preventDefault","testGroupForms","groupErrorPlacement","_interopRequireDefault","obj","__esModule","@justeat/f-dom","@justeat/f-validate","2","_fHeader","_fozzie","_liteReady","_svg4everybody","_formValidationSetup","stopFoit","checkForUser","./docs/formValidationSetup","@justeat/f-footer","@justeat/f-header","@justeat/fozzie","lite-ready","picturefill","svg4everybody","3","_qwery","selector","root","arguments","undefined","dom","first","exists","_default","qwery","4","resizeInit","tabindexResize","collapseFooterPanels","_liteReady2","_qwery2","_lodash2","footerPanels","breakpoints","getBreakpoints","window","matchMedia","mid","matches","panel","removeAttribute","tabIndex","classList","add","lodash.debounce","5","isWithinBreakpoint","getCurrentScreenWidth","_stopFoit","_breakpointHelper","./modules/breakpointHelper","./modules/stopFoit","6","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","sliceIterator","TypeError","output","screenSizer","document","createElement","body","appendChild","getComputedStyle","querySelector","getPropertyValue","replace","split","reduce","prev","current","_current$split","_current$split2","breakpointName","breakpointValue","createBreakpointArray","bps","keys","key","unshift","currentWidth","innerWidth","breakpointWidth","parseInt","breakpointString","match","operatorRegex","operatorMatch","operator","_breakpointString$spl","breakpoint","currentScreenWidth","breakpointInPX","bp","7","_fontfaceobserver","_fontfaceobserver2","_fLogger","baseFont","headingFont","load","then","remove","catch","logError","@justeat/f-logger","fontfaceobserver","8","enumerable","get","_userAuth","setupHeader","menuButton","navContainer","navLabel","toggle","documentElement","./userAuth","9","_userData","removeElement","element","removeHiddenClass","updateDom","authData","authEl","loginEl","isAuthenticated","headerName","headerEmail","friendlyName","textContent","email","fetch","method","credentials","response","json","error","Promise","resolve","./userData","10","saveUserData","storeLocalAnalyticsBlob","result","localStorage","setItem","JSON","stringify","enrichUserDataWithCount","userData","orderCountResponse","orderCount","Count","pushUserData","dataLayer","fetchOrderCountAndSave","orderCountLink","orderCountUrl","getAttribute","concat","reject","supportedEl","test","savedAnalytics","getItem","localOrderCount","parse","currentTime","Date","getTime","Expires","11","getDebugMode","disableDebugMode","enableDebugMode","clearHistory","getHistory","errorLogInit","logWarning","log","_Logger2","_ErrorLogger2","debugMode","logger","errorLogger","init","getPersistentData","clearPersistentData","./modules/ErrorLogger","./modules/Logger","12","_typeof","constructor","prototype","_createClass","b","d","configurable","writable","ErrorLogger","_classCallCheck","this","config","serverFileUrl","loggerCallback","winlogCallback","bindOnError","location","toString","pageUrl","Exception","Level","logToServer","encodeURIComponent","XMLHttpRequest","ActiveXObject","open","send","onerror","g","stack","13","console","Logger","data","now","valueOf","clear","14","addCallBack","callBacks","callBack","runCallbacks","callback","15","cssClasses","isHidden","formError","formErrors","hasError","hasSuccess","escapeChars","fieldValues","validationGroup","validateOnOptions","16","defaultOptions","defineProperties","target","props","descriptor","Constructor","protoProps","staticProps","_fDom2","_rules2","_callbacks","_messages","_constants2","VALIDATION_KEYS","errorClass","successClass","focus","enableHTML5Validation","getForm","tagName","forms","FormValidation","nameOrNode","_this","options","instance","assign","fields","getFields","event","isValid","customHandlers","errorMessages","onSuccess","on","onError","validateOn","setFormNoValidate","bind","callBackEvent","exception","setAttribute","currentElement","_this2","formValid","required","condition","errorMessage","fieldValid","fieldHasValidation","ruleName","touchedSelectors","notInErrorState","elementsNotTouched","definition","custom","skipTest","childField","contains","map","childSelector","filter","el","hasAttribute","getMessage","setSuccess","setError","errorElement","getInlineErrorElement","hideMessage","displayInlineMessage","success","groupedErrorElement","findGroupedErrorElement","displayGroupedMessages","name","handler","parentElement","updateElement","innerHTML","insertBefore","getGroupedErrorPosition","li","groupElement","lastChild","firstChild","_this3","indexOf","./callbacks","./constants","./messages","./rules","17","getCustomErrorElement","errorPlacement","nextSibling","nextElementSibling","customErrorEl","customMessage","parentNode","defaultMessageValue","defaultMessage","getDefaultMessage","18","input","checked","trim","19","hasCustom","20","dateToday","currentMonth","getMonth","currentYear","getFullYear","selectedMonthEl","selectedYearEl","selectedMonthVal","Number","selectedYearVal","21","_constants","../constants","22","_required2","_maxlength2","_minlength2","_pattern2","_email2","_matches2","_dateInFuture2","_conditionalRequired2","_custom2","dateInFuture","conditionalRequired","maxlength","minlength","pattern","./conditionalRequired","./custom","./dateInFuture","./email","./matches","./maxlength","./minlength","./pattern","./required","23","matchedFieldName","24","25","26","CONSTANTS","fieldValue","RegExp","27","type","28","29","30","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest",">","<","=",">=","<=","31","32","l","attachEvent","createTextNode","h","style","cssText","z","offsetWidth","width","scrollLeft","scrollWidth","A","k","B","family","weight","stretch","C","D","E","F","J","fonts","K","font","L","join","H","navigator","vendor","exec","userAgent","G","M","setTimeout","N","race","clearTimeout","removeEventListener","readyState","detachEvent","m","v","w","x","y","removeChild","q","dir","I","hidden","FontFaceObserver","33","34","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","Function","objectToString","nativeMax","Math","max","nativeMin","min","isObject","toNumber","isObjectLike","isSymbol","other","isBinary","slice","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","cancel","flush","35","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","ua","HTMLPictureElement","$1","img","source","sizes","picture","nodeName","toUpperCase","cloneNode","firstElementChild","_pfLastSize","imgs","querySelectorAll","addListener","srcset","eminpx","alwaysCheckWDescriptor","evalId","pf","isSupportTestReady","noop","image","getImgAttr","setImgAttr","removeImgAttr","docElem","types","cfg","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","in","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","evt","fn","capture","memoize","cache","isSpace","regLength","buildStr","image2","width1","isDomReady","timeout","timestamp","later","regReady","run","lastClientWidth","evalCSS","css","index","string","toLowerCase","parsedLength","setResolution","candidate","sizesattr","cWidth","calcListLength","res","opt","elements","plen","nodeType","context","qsa","reevaluate","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","getCandidateForSrc","src","set","candidates","parseSet","makeUrl","url","warn","implementation","hasFeature","ns","substr","supSrcset","supSizes","supPicture","complete","onload","setSize","href","matchesMedia","media","mMQ","calcLength","sourceSizeValue","supportsType","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","desc","lastChar","intVal","floatVal","pError","parseFloat","has1x","tokenize","charAt","parseSrcset","getEmValue","div","originalHTMLCSS","originalBodyCSS","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","parseSizes","setRes","len","applySetCandidate","j","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","pow","sqrt","setSrc","origWidth","getSet","parseSets","parent","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","sources","getElementsByTagName","getAllSourceElements","supported","srcAttr","parsed","srcSetCandidates","matchingSet","evaluated","extreme","evaled","clientWidth","height","innerHeight","clientHeight","vw","vh","em","rem","fillImgs","last","_","shift","define","amd","typeUri","Image","detectTypeSupport","36","classOnly","doc","win","html","isAncestor","container","compareDocumentPosition","toArray","ar","isNode","arrayLike","isFinite","opt_root","normalizeRoot","flatten","getElementsByClassName","uniq","label","37","factory","embed","svg","fragment","createDocumentFragment","viewBox","clone","childNodes","loadreadystatechange","xhr","onreadystatechange","cachedDocument","_cachedDocument","createHTMLDocument","responseText","_cachedTarget","_embeds","splice","item","id","getElementById","getSVGAncestor","node","rawopts","polyfill","opts","inIframe","top","requests","requestAnimationFrame","uses","numberOfSvgUseElementsToBypass","oninterval","use","attributeName","validate","srcSplit"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = setupValidation;\n\nvar _fDom = _interopRequireDefault(require(\"@justeat/f-dom\"));\n\nvar _fValidate = _interopRequireDefault(require(\"@justeat/f-validate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Runs f-validate on any forms in the docs\n * tagged with the `test-form` or `test-form-group` name\n */\nfunction setupValidation() {\n  var testForms = _fDom.default.all('form[name=\"test-form\"');\n\n  if (testForms.length > 0) {\n    testForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form);\n      validateForm.addCustomValidation('customRule', function (field) {\n        if (field.value === 'passTest') {\n          return true;\n        }\n\n        return false;\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n\n  var testGroupForms = _fDom.default.all('form[name=\"test-form-group\"');\n\n  if (testGroupForms.length > 0) {\n    testGroupForms.forEach(function (form) {\n      var validateForm = new _fValidate.default(form, {\n        // eslint-disable-line no-unused-vars\n        groupErrorPlacement: 'bottom'\n      });\n      form.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n}\n\n},{\"@justeat/f-dom\":3,\"@justeat/f-validate\":16}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"@justeat/f-footer\");\n\nvar _fHeader = require(\"@justeat/f-header\");\n\nvar _fozzie = require(\"@justeat/fozzie\");\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _svg4everybody = _interopRequireDefault(require(\"svg4everybody\"));\n\nvar _formValidationSetup = _interopRequireDefault(require(\"./docs/formValidationSetup\"));\n\nrequire(\"picturefill\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _liteReady.default)(function () {\n  (0, _fozzie.stopFoit)();\n  (0, _svg4everybody.default)();\n  (0, _formValidationSetup.default)();\n  (0, _fHeader.checkForUser)();\n});\n\n},{\"./docs/formValidationSetup\":1,\"@justeat/f-footer\":4,\"@justeat/f-header\":8,\"@justeat/fozzie\":29,\"lite-ready\":33,\"picturefill\":35,\"svg4everybody\":37}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _qwery = _interopRequireDefault(require(\"qwery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Returns first element in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Element}\n*/\nvar first = function first(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root)[0];\n};\n/**\n* Returns all elements in the DOM for the specified selector.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar all = function all(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root);\n};\n/**\n* Returns true, if at least one element exists in the DOM, otherwise returns false.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {boolean}\n*/\n\n\nvar exists = function exists(selector) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return (0, _qwery.default)(selector, root).length > 0;\n};\n/**\n* Returns all elements in the DOM for the specified selector. Short syntax of `all` method.\n*\n* @param {string} selector\n* @param {string} root (optional) - if defined, search is performed relatively from this element\n*\n* @return {Array.<Element>}\n*/\n\n\nvar dom = all;\ndom.all = all;\ndom.first = first;\ndom.exists = exists;\nvar _default = dom;\nexports.default = _default;\n},{\"qwery\":36}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.resizeInit = exports.tabindexResize = exports.collapseFooterPanels = undefined;\n\nvar _liteReady = require('lite-ready');\n\nvar _liteReady2 = _interopRequireDefault(_liteReady);\n\nvar _qwery = require('qwery');\n\nvar _qwery2 = _interopRequireDefault(_qwery);\n\nvar _fozzie = require('@justeat/fozzie');\n\nvar _lodash = require('lodash.debounce');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar footerPanels = void 0;\nvar breakpoints = null;\n\nvar tabindexResize = function tabindexResize() {\n\n    if (breakpoints === null) {\n        breakpoints = (0, _fozzie.getBreakpoints)();\n    }\n\n    if (window.matchMedia('(min-width: ' + breakpoints.mid + ')').matches) {\n        footerPanels.forEach(function (panel) {\n            panel.removeAttribute('tabindex');\n        });\n    } else {\n        footerPanels.forEach(function (panel) {\n            panel.tabIndex = 0;\n        });\n    }\n};\n\nvar collapseFooterPanels = function collapseFooterPanels() {\n    (0, _qwery2.default)('[data-panel-collapsible]').forEach(function (panel) {\n        panel.classList.add('is-collapsed');\n    });\n};\n\nvar resizeInit = function resizeInit() {\n    window.addEventListener('resize', (0, _lodash2.default)(tabindexResize, 100));\n    footerPanels = (0, _qwery2.default)('[data-footer-panel-heading]');\n    tabindexResize();\n};\n\n(0, _liteReady2.default)(function () {\n    collapseFooterPanels();\n    resizeInit();\n});\n\nexports.collapseFooterPanels = collapseFooterPanels;\nexports.tabindexResize = tabindexResize;\nexports.resizeInit = resizeInit;\n},{\"@justeat/fozzie\":5,\"lite-ready\":33,\"lodash.debounce\":34,\"qwery\":36}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isWithinBreakpoint = exports.getCurrentScreenWidth = exports.getBreakpoints = exports.stopFoit = undefined;\n\nvar _stopFoit = require('./modules/stopFoit');\n\nvar _breakpointHelper = require('./modules/breakpointHelper');\n\nexports.stopFoit = _stopFoit.stopFoit;\nexports.getBreakpoints = _breakpointHelper.getBreakpoints;\nexports.getCurrentScreenWidth = _breakpointHelper.getCurrentScreenWidth;\nexports.isWithinBreakpoint = _breakpointHelper.isWithinBreakpoint;\n\n// All helper functions will be imported here, so that they can all be exported within one object.\n},{\"./modules/breakpointHelper\":6,\"./modules/stopFoit\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * @overview Breakpoint handler\n *\n * @module breakpointHelper\n */\n\nvar getBreakpoints = exports.getBreakpoints = function getBreakpoints() {\n    var output = {};\n\n    // Append hidden element to body\n    var screenSizer = document.createElement('div');\n    screenSizer.classList.add('c-screen-sizer');\n\n    document.body.appendChild(screenSizer);\n\n    // It should have a 'content' property containing the breakpoints\n    var breakpoints = window.getComputedStyle(document.querySelector('.c-screen-sizer')).getPropertyValue('content').replace(/[\"']/g, '').split(',');\n    // Gives a list of breakpoints in the form ['narrow:414px', ...etc]\n\n    // When there is no content, at this stage breakpoints should be ['']\n    if (breakpoints.length === 1 && breakpoints[0] === '') {\n        return output;\n    }\n\n    return breakpoints.reduce(function (prev, current) {\n        // `current` is of the form 'narrow:414px'\n        var _current$split = current.split(':'),\n            _current$split2 = _slicedToArray(_current$split, 2),\n            breakpointName = _current$split2[0],\n            breakpointValue = _current$split2[1];\n\n        prev[breakpointName] = breakpointValue; // <- the initial value is used for the first iteration\n        // The object, e.g., { 'narrow': '414px' } is returned to be used as `prev` in the next iteration\n        return prev;\n    }, output); // <- initial value\n};\n\nvar createBreakpointArray = exports.createBreakpointArray = function createBreakpointArray(breakpoints) {\n    // Order the breakpoints from widest to narrowest,\n    // takes the form [['narrow', '414px'], [...etc]]\n    var bps = [];\n    Object.keys(breakpoints).forEach(function (key) {\n        bps.unshift([key, breakpoints[key]]);\n    });\n\n    return bps;\n};\n\nvar getCurrentScreenWidth = exports.getCurrentScreenWidth = function getCurrentScreenWidth() {\n    var currentWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n\n    var bps = createBreakpointArray(breakpoints);\n\n    for (var i = 0; i < bps.length; i++) {\n        // Loops through the breakpoints (in descending order)\n        // returning the first one that is narrower than currentWidth.\n\n        var breakpointWidth = parseInt(bps[i][1], 10); // This also strips the 'px' from the string\n\n        if (i === bps.length - 1 || currentWidth > breakpointWidth) {\n            // If we've reached the last breakpoint, and there still hasn't been a match, return the smallest breakpoint\n            return bps[i][0];\n        }\n    }\n    // If no breakpoints have been set\n    return false;\n};\n\nvar isWithinBreakpoint = exports.isWithinBreakpoint = function isWithinBreakpoint(breakpointString) {\n    var operatorRegex = /[<>=]+/;\n    var operatorMatch = breakpointString.match(operatorRegex);\n    var operator = operatorMatch ? operatorMatch[0] : '';\n\n    var _breakpointString$spl = breakpointString.split(operatorRegex),\n        _breakpointString$spl2 = _slicedToArray(_breakpointString$spl, 2),\n        breakpoint = _breakpointString$spl2[1];\n\n    var currentScreenWidth = window.innerWidth;\n\n    var breakpoints = getBreakpoints();\n    var bps = createBreakpointArray(breakpoints);\n\n    // We loop through the breakpoint array until we get a match.\n    // If we match we return the px value as an int. If we do not match we return false\n    var breakpointToPX = function breakpointToPX(breakpointName) {\n        var match = false;\n\n        bps.forEach(function (bp) {\n            if (bp[0] === breakpointName) {\n                match = parseInt(bp[1], 10);\n            }\n        });\n        return match;\n    };\n\n    var breakpointInPX = breakpointToPX(breakpoint);\n\n    // If the breakpoint passed in does not match any we;\n    if (!breakpointInPX) {\n        return false;\n    }\n\n    // We match our passed in operator and execute a sum: current screen width [Passed operator] [Passed breakpoint in PX]\n    switch (operator) {\n        case '>':\n            return currentScreenWidth > breakpointInPX;\n        case '<':\n            return currentScreenWidth < breakpointInPX;\n        case '=':\n            return currentScreenWidth === breakpointInPX;\n        case '>=':\n            return currentScreenWidth >= breakpointInPX;\n        case '<=':\n            return currentScreenWidth <= breakpointInPX;\n        default:\n            return false;\n    }\n};\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.stopFoit = undefined;\n\nvar _fontfaceobserver = require('fontfaceobserver');\n\nvar _fontfaceobserver2 = _interopRequireDefault(_fontfaceobserver);\n\nvar _fLogger = require('@justeat/f-logger');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview stopFOIT reduces the amount of time a user has invisible text when using webfonts.\n *\n * @module stopFOIT\n */\n\n/**\n* Init method initialises the FontFaceObserver events\n*\n*/\n\nvar stopFoit = exports.stopFoit = function stopFoit() {\n    // Create a new `FontFaceObserver` for each webfont\n    var baseFont = new _fontfaceobserver2.default('Hind Vadodara');\n    var headingFont = new _fontfaceobserver2.default('Ubuntu');\n\n    // On load of each font we add `has-fontsLoaded` class with the font type modifier\n    baseFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--base');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n\n    headingFont.load(null, 3000).then(function () {\n        document.body.classList.remove('is-fontsLoading--heading');\n    }).catch(function () {\n        (0, _fLogger.logError)('Custom font is unable to load');\n    });\n};\n\nexports.default = stopFoit;\n},{\"@justeat/f-logger\":11,\"fontfaceobserver\":32}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"checkForUser\", {\n  enumerable: true,\n  get: function get() {\n    return _userAuth.checkForUser;\n  }\n});\nexports.setupHeader = void 0;\n\nvar _liteReady = _interopRequireDefault(require(\"lite-ready\"));\n\nvar _userAuth = require(\"./userAuth\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Fozzie header JavaScript behaviour.\n *\n * @module f-header\n */\n\n/**\n * Setup the behaviour for the header component.\n */\nvar setupHeader = function setupHeader() {\n  var menuButton = document.querySelector('[data-nav-button]');\n\n  if (menuButton) {\n    menuButton.addEventListener('click', function () {\n      var navContainer = document.querySelector('[data-nav-container]');\n      var navLabel = document.querySelector('[data-nav-toggle]');\n\n      if (navContainer) {\n        navContainer.classList.toggle('is-visible');\n      }\n\n      if (navLabel) {\n        navLabel.classList.toggle('is-open');\n      }\n\n      document.documentElement.classList.toggle('is-navInView');\n    });\n  }\n};\n\nexports.setupHeader = setupHeader;\n(0, _liteReady.default)(function () {\n  setupHeader();\n});\n},{\"./userAuth\":9,\"lite-ready\":33}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkForUser = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\nvar _userData = _interopRequireDefault(require(\"./userData\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview Authorisation handler\n *\n * @module userAuth\n */\nvar removeElement = function removeElement(element) {\n  return element && element.remove();\n};\n\nvar removeHiddenClass = function removeHiddenClass(element) {\n  return element && element.classList.remove('is-hidden');\n};\n\nvar updateDom = function updateDom(authData) {\n  var authEl = document.querySelector('[data-auth-wrapper]');\n  var loginEl = document.querySelector('[data-login]');\n\n  if (authData.isAuthenticated) {\n    var headerName = document.querySelector('[data-name]');\n    var headerEmail = document.querySelector('[data-email]');\n\n    if (headerName && authData.friendlyName !== '') {\n      headerName.textContent = authData.friendlyName;\n    }\n\n    if (headerEmail && authData.email !== '') {\n      headerEmail.textContent = authData.email;\n    }\n\n    removeHiddenClass(authEl);\n    removeElement(loginEl);\n  } else {\n    removeHiddenClass(loginEl);\n    removeElement(authEl);\n  }\n\n  return authData;\n};\n/**\n * Checks if authorisation details can be found in the current session hits .net\n * endpoint and is returned valid auth details or no details if not logged in\n */\n\n\nvar checkForUser = function checkForUser() {\n  var authEl = document.querySelector('[data-auth-wrapper]'); // if our auth wrapper exists, get our user details\n\n  if (authEl) {\n    // this fetch logic will be extracted to a new module\n    return fetch('/api/account/details', {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(updateDom).then(_userData.default) // should send this error to the f-logger but for now, just erroring here inline\n    .catch(function (error) {\n      (0, _fLogger.logError)(error);\n    });\n  }\n\n  return Promise.resolve();\n};\n\nexports.checkForUser = checkForUser;\n},{\"./userData\":10,\"@justeat/f-logger\":11}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.saveUserData = void 0;\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\n/**\n * @overview UserData handler\n *\n * @module userAuth/userData\n */\nvar storeLocalAnalyticsBlob = function storeLocalAnalyticsBlob(result) {\n  window.localStorage.setItem('je-analytics', JSON.stringify(result));\n  return result;\n};\n\nvar enrichUserDataWithCount = function enrichUserDataWithCount(userData, orderCountResponse) {\n  userData.orderCount = orderCountResponse.Count;\n  return userData;\n};\n\nvar pushUserData = function pushUserData(userData) {\n  return window.dataLayer.push({\n    userData: userData\n  });\n};\n\nvar fetchOrderCountAndSave = function fetchOrderCountAndSave(userData) {\n  var orderCountLink = document.querySelector('link[rel=\"ordercountlink\"]');\n  var orderCountUrl = orderCountLink && orderCountLink.getAttribute('href');\n\n  if (orderCountUrl) {\n    return fetch(orderCountUrl, {\n      method: 'GET',\n      credentials: 'same-origin'\n    }).then(function (response) {\n      return response.json();\n    }).then(storeLocalAnalyticsBlob).then(function (result) {\n      return enrichUserDataWithCount(userData, result);\n    }).then(pushUserData).catch(function (err) {\n      (0, _fLogger.logError)(\"Unable to get order count. \".concat(err));\n      pushUserData(userData);\n    });\n  }\n\n  pushUserData(userData);\n  return Promise.reject();\n};\n\nvar getLocalAnalyticsBlob = function getLocalAnalyticsBlob() {\n  return window.localStorage.getItem('je-analytics');\n};\n\nvar orderCountSupported = function orderCountSupported() {\n  var supportedEl = document.querySelector('[data-order-count-supported]');\n\n  if (supportedEl && supportedEl.value) {\n    // Case insensitive regex test for value=\"true\"\n    return /^true$/i.test(supportedEl.value);\n  }\n\n  return Promise.reject();\n};\n\nvar saveUserData = function saveUserData(authData) {\n  if (!authData.isAuthenticated) {\n    return Promise.resolve();\n  }\n\n  var userData = authData.userData;\n\n  if (!orderCountSupported()) {\n    pushUserData(userData);\n    return Promise.resolve();\n  }\n\n  var savedAnalytics = getLocalAnalyticsBlob();\n\n  if (!savedAnalytics) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  var localOrderCount = JSON.parse(savedAnalytics);\n  var currentTime = new Date().getTime();\n  var localOrderCountExpires = Date.parse(localOrderCount.Expires);\n\n  if (localOrderCountExpires < currentTime) {\n    return fetchOrderCountAndSave(userData);\n  }\n\n  enrichUserDataWithCount(userData, localOrderCount);\n  pushUserData(userData);\n  return Promise.resolve();\n};\n\nexports.saveUserData = saveUserData;\n},{\"@justeat/f-logger\":11}],11:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getDebugMode=exports.disableDebugMode=exports.enableDebugMode=exports.clearHistory=exports.getHistory=exports.errorLogInit=exports.logError=exports.logWarning=exports.log=void 0;var _Logger=require('./modules/Logger'),_Logger2=_interopRequireDefault(_Logger),_ErrorLogger=require('./modules/ErrorLogger'),_ErrorLogger2=_interopRequireDefault(_ErrorLogger);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger}),log=function(a){logger.log(a)},logError=function(a){errorLogger.log(a,'Error')},logWarning=function(a){errorLogger.log(a,'Warn')},getHistory=function(){logger.getPersistentData()},clearHistory=function(){logger.clearPersistentData()},enableDebugMode=function(){debugMode=!0,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},disableDebugMode=function(){debugMode=!1,logger=new _Logger2.default({debugMode:debugMode}),errorLogger=new _ErrorLogger2.default({logger:logger})},errorLogInit=function(a){errorLogger.init(a)},getDebugMode=function(){return debugMode};exports.log=log,exports.logWarning=logWarning,exports.logError=logError,exports.errorLogInit=errorLogInit,exports.getHistory=getHistory,exports.clearHistory=clearHistory,exports.enableDebugMode=enableDebugMode,exports.disableDebugMode=disableDebugMode,exports.getDebugMode=getDebugMode;\n},{\"./modules/ErrorLogger\":12,\"./modules/Logger\":13}],12:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var ErrorLogger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.logger=b.logger,this.debugMode=b.logger.debugMode,this.config.serverFileUrl=b.serverFileUrl||'/js/shared/js-error.js',this.config.loggerCallback=b.loggerCallback||null,this.config.winlogCallback=b.winlogCallback||null,this.bindOnError()}return _createClass(a,[{key:'log',value:function log(a,b,c){var d=window.location.toString(),e={pageUrl:d,Exception:a,Level:b};this.logger.log(e),this.debugMode||(this.logToServer(e),'function'==typeof this.config.loggerCallback&&('Error'===b?this.config.winlogCallback.call(this,a,d,c):this.config.loggerCallback.call(this,a,d)))}},{key:'init',value:function init(a){this.config.serverFileUrl=a.serverFileUrl||this.config.serverFileUrl,this.config.loggerCallback=a.loggerCallback||this.config.loggerCallback,this.config.winlogCallback=a.winlogCallback||this.config.winlogCallback}},{key:'logToServer',value:function logToServer(a){var b,c='';c='object'===('undefined'==typeof a?'undefined':_typeof(a))?JSON.stringify(a):a;var d=this.config.serverFileUrl+'?error='+encodeURIComponent(c);if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)b=new ActiveXObject('Microsoft.XMLHTTP');else return;b.open('GET',d),b.send()}},{key:'bindOnError',value:function bindOnError(){var a=this;window.onerror=function(b,c,d,e,f){var g=b+' : '+c+' : Line '+d+' : Char '+e+' : StackTrace '+(f?f.stack:'');return a.log(g,'Error',d),!0}}}]),a}();exports.default=ErrorLogger;\n},{}],13:[function(require,module,exports){\n'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var output=function(a){if('undefined'!=typeof window.console)void 0;else throw new Error('Console is not supported')},getPersistentData=function(){if(!localStorage)output('Local storage not available');else if(0<localStorage.length){var a,b,c,d;for(output('/***** Output local storage *****/'),a=0;a<localStorage.length;a++)b=+localStorage.key(a),c=localStorage[b],d=new Date(b),'Invalid Date'!==(d+'').valueOf()&&output(d+' => '+c);output('/***** End of local storage *****/')}else output('Local storage is empty')},clearPersistentData=function(){localStorage&&(localStorage.clear(),output('Local storage cleared'))},Logger=function(){function a(b){_classCallCheck(this,a),this.config=b,this.debugMode=this.config.debugMode,this.data={}}return _createClass(a,[{key:'log',value:function log(a){var b=a;if(this.debugMode){var c=Date.now().toString();this.data[c]=b,'object'===('undefined'==typeof localStorage?'undefined':_typeof(localStorage))&&(b=JSON.stringify(b),localStorage.setItem(c,b)),output(b)}}}]),a}();exports.getPersistentData=getPersistentData,exports.clearPersistentData=clearPersistentData,exports.default=Logger;\n},{}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar addCallBack = exports.addCallBack = function addCallBack(callBacks, callBack) {\n\n    if (typeof callBack !== 'function') {\n        throw new TypeError('call back is not a function');\n    }\n\n    callBacks.push(callBack);\n};\n\nvar runCallbacks = exports.runCallbacks = function runCallbacks(callBacks) {\n\n    if (!callBacks) {\n        return;\n    }\n\n    callBacks.forEach(function (callback) {\n        callback();\n    });\n};\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar cssClasses = {\n    isHidden: 'is-hidden',\n    formError: 'form-error',\n    formErrors: 'form-errors',\n    hasError: 'has-error',\n    hasSuccess: 'has-success'\n};\n\nvar validationGroup = 'data-val-group';\n\nexports.default = {\n    cssClasses: cssClasses,\n    email: /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n    escapeChars: /[|\\\\{}()[\\]^$+*?.]/g,\n    fieldValues: 'input, select, textarea, [' + validationGroup + ']',\n    validationGroup: validationGroup,\n    validateOnOptions: ['blur', 'keyup']\n};\n},{}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.defaultOptions = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * @module Validate\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * ## Goals\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * To validate a form based on the HTML5 attributes each form has, or the data attributes specified on them\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should accept either:\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * 1. A form DOM Element\n                                                                                                                                                                                                                                                                               * 2. A string relating to the name of the form\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Should also be able to label a form field with `data-novalidate`\n                                                                                                                                                                                                                                                                               * to remove it from those being validated\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               */\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _callbacks = require('./callbacks');\n\nvar _messages = require('./messages');\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Load in the set of test definitions to validate against\nvar VALIDATION_KEYS = Object.keys(_rules2.default);\n\nvar defaultOptions = exports.defaultOptions = {\n    errorClass: _constants2.default.cssClasses.hasError,\n    successClass: _constants2.default.cssClasses.hasSuccess,\n    focus: false,\n    groupErrorPlacement: false,\n    enableHTML5Validation: false\n};\n\nvar getForm = function getForm(descriptor) {\n\n    if (!descriptor) {\n        throw new Error('f-validate: expected form name or form node parameter');\n    }\n\n    var form = (typeof descriptor === 'undefined' ? 'undefined' : _typeof(descriptor)) === 'object' && descriptor.tagName === 'FORM' ? descriptor : document.forms[descriptor];\n\n    if (!form) {\n        throw new Error('f-validate: form not found');\n    }\n\n    return form;\n};\n\nvar elementsUntouched = function elementsUntouched(element, current, touchedSelectors) {\n\n    var notInErrorState = !current.field.classList.contains(_constants2.default.cssClasses.hasError);\n    var elementsNotTouched = touchedSelectors.map(function (childSelector) {\n        return _fDom2.default.first(childSelector, element);\n    }).filter(function (el) {\n        return el && !el.hasAttribute('data-touched');\n    });\n\n    // If one select has not been interacted with do not run test method\n    return notInErrorState && elementsNotTouched.length > 0;\n};\n\nvar FormValidation = function () {\n    function FormValidation(nameOrNode) {\n        var _this = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, FormValidation);\n\n        this.options = Object.assign({}, defaultOptions, options);\n        this.form = getForm(nameOrNode);\n        this.fields = this.getFields();\n\n        // Allow fields to be validated on 'enter'\n        this.fields.forEach(function (field) {\n            field.addEventListener('keydown', function (event) {\n                if (event.key === 'Enter') {\n                    _this.isValid(event);\n                }\n            });\n        });\n\n        this.customHandlers = {};\n        this.callBacks = {};\n        this.errorMessages = [];\n\n        if (this.options.onSuccess) {\n            this.on('success', this.options.onSuccess);\n        }\n        if (this.options.onError) {\n            this.on('error', this.options.onError);\n        }\n        if (this.options.validateOn) {\n            this.validateOn();\n        }\n\n        this.setFormNoValidate();\n        this.form.addEventListener('submit', this.isValid.bind(this));\n    }\n\n    /**\n     * on - Associates a callback with an event.\n     * Callbacks associated with an event will be called when the event fires.\n     * example:\n     *      formValidator.on('success', () => {\n     *          Do something when the form is found to be valid.\n     *      });\n     *      formValidator.on('error', () => {\n     *          Do something when the form is found to be invalid.\n     *      });\n     */\n\n\n    _createClass(FormValidation, [{\n        key: 'on',\n        value: function on(callBackEvent, callBack) {\n\n            if (!this.callBacks[callBackEvent]) {\n                this.callBacks[callBackEvent] = [];\n            }\n\n            try {\n                (0, _callbacks.addCallBack)(this.callBacks[callBackEvent], callBack, callBackEvent);\n            } catch (exception) {\n                throw new TypeError('f-validate: ' + callBackEvent + ' callback must be a function');\n            }\n        }\n    }, {\n        key: 'setSuccess',\n        value: function setSuccess(element) {\n            element.classList.remove(this.options.errorClass);\n            element.classList.add(this.options.successClass);\n        }\n    }, {\n        key: 'setError',\n        value: function setError(element) {\n            element.classList.remove(this.options.successClass);\n            element.classList.add(this.options.errorClass);\n        }\n    }, {\n        key: 'setFormNoValidate',\n        value: function setFormNoValidate() {\n\n            if (!this.options.enableHTML5Validation) {\n                this.form.setAttribute('novalidate', '');\n            }\n        }\n\n        /**\n         * Validates the form\n         *\n         * @param event\n         * @param {object} currentElement\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isValid',\n        value: function isValid(event, currentElement) {\n            var _this2 = this;\n\n            var formValid = true;\n            this.errorMessages = [];\n\n            this.fields.forEach(function (field) {\n\n                // currentElement refers to an element that is being validated on blur/keyup\n                // only validate on blur/keyup if the field is not empty and is not required\n                if (currentElement && (currentElement.field !== field || field.value === '' && !_rules2.default.required.condition(field))) {\n                    return;\n                }\n\n                var errorMessage = '';\n\n                // This needs to be set outside of the forEach loop, as otherwise only the final rule will apply the state\n                var fieldValid = true;\n\n                // This prevents us from applying state classes to fields without rules\n                var fieldHasValidation = false;\n\n                VALIDATION_KEYS.forEach(function (ruleName) {\n                    var definition = _rules2.default[ruleName];\n\n                    if (field.getAttribute('data-val-custom')) {\n                        _rules2.default.custom.test = _this2.customHandlers[field.getAttribute('data-val-custom')];\n                    }\n\n                    if (definition.condition(field)) {\n                        fieldHasValidation = true;\n                        var skipTest = false;\n\n                        // If rule has elements that need to be checked for touch, and validation is happening on blur/keyup\n                        if (definition.touchedSelectors && currentElement) {\n                            currentElement.childField.setAttribute('data-touched', true);\n                            skipTest = elementsUntouched(field, currentElement, definition.touchedSelectors);\n                        }\n\n                        if (!skipTest && !definition.test(field, currentElement)) {\n                            fieldValid = false;\n                            errorMessage = (0, _messages.getMessage)(field, ruleName);\n                            _this2.errorMessages.push(errorMessage);\n                        }\n                    }\n                });\n\n                if (fieldHasValidation) {\n\n                    if (fieldValid) {\n                        _this2.setSuccess(field);\n                    } else {\n                        formValid = false;\n                        _this2.setError(field);\n                    }\n\n                    // if we aren't handling a group field validation\n                    if (!_this2.options.groupErrorPlacement) {\n                        var errorElement = (0, _messages.getInlineErrorElement)(field, _this2.form);\n                        if (fieldValid) {\n                            (0, _messages.hideMessage)(errorElement);\n                        } else {\n                            (0, _messages.displayInlineMessage)(errorElement, errorMessage, field, _this2.form);\n                        }\n                    }\n                }\n            });\n\n            if (!formValid) {\n                this.setError(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.error);\n\n                if (event) {\n                    event.preventDefault();\n                }\n            } else {\n                this.setSuccess(this.form);\n                (0, _callbacks.runCallbacks)(this.callBacks.success);\n            }\n\n            if (this.options.groupErrorPlacement) {\n                var groupedErrorElement = this.findGroupedErrorElement();\n                if (formValid) {\n                    (0, _messages.hideMessage)(groupedErrorElement);\n                } else {\n                    this.displayGroupedMessages(groupedErrorElement);\n                }\n            }\n\n            return formValid;\n        }\n    }, {\n        key: 'addCustomValidation',\n        value: function addCustomValidation(name, handler) {\n            if (!name || typeof name !== 'string') {\n                throw new Error('f-validate: please provide the name');\n            }\n            if (!handler || typeof handler !== 'function') {\n                throw new Error('f-validate: please provide a custom method');\n            }\n\n            this.customHandlers[name] = handler;\n        }\n    }, {\n        key: 'getFields',\n        value: function getFields() {\n            var fields = (0, _fDom2.default)(_constants2.default.fieldValues, this.form);\n\n            return fields.filter(function (f) {\n                return !(f.hasAttribute('type') && f.getAttribute('type') === 'hidden') && !f.hasAttribute('disabled') && !f.hasAttribute('data-novalidate') && !f.parentElement.hasAttribute(_constants2.default.validationGroup);\n            });\n        }\n    }, {\n        key: 'findGroupedErrorElement',\n        value: function findGroupedErrorElement() {\n            var groupedErrorElement = _fDom2.default.first('.' + _constants2.default.cssClasses.formErrors, this.form);\n\n            return groupedErrorElement;\n        }\n    }, {\n        key: 'displayGroupedMessages',\n        value: function displayGroupedMessages(groupedErrorElement) {\n\n            var updateElement = groupedErrorElement;\n\n            if (!groupedErrorElement) {\n                updateElement = document.createElement('ul');\n                updateElement.classList.add(_constants2.default.cssClasses.formErrors);\n\n                this.form.insertBefore(updateElement, this.getGroupedErrorPosition());\n            } else {\n                groupedErrorElement.innerHTML = '';\n            }\n\n            this.errorMessages.forEach(function (error) {\n                var li = document.createElement('li');\n                li.textContent = error;\n                updateElement.appendChild(li);\n            });\n        }\n    }, {\n        key: 'getGroupedErrorPosition',\n        value: function getGroupedErrorPosition() {\n\n            var groupElement = _fDom2.default.first(this.options.groupErrorPlacement, this.form);\n\n            if (groupElement) {\n                return groupElement;\n            }\n\n            if (this.options.groupErrorPlacement === 'bottom') {\n                return this.form.lastChild;\n            }\n\n            return this.form.firstChild;\n        }\n\n        /**\n         * Validates form field(s) based on the event passed into options.validateOn\n         *\n         * example:\n         *       this.validation = new FormValidation(this.form, {\n         *           validateOn: 'blur'\n         *       });\n         */\n\n    }, {\n        key: 'validateOn',\n        value: function validateOn() {\n            var _this3 = this;\n\n            if (this.options.groupErrorPlacement) {\n                throw new Error('f-validate: validation on \\'blur\\' or \\'keyup\\' cannot be performed if errors are grouped');\n            }\n\n            if (_constants2.default.validateOnOptions.indexOf(this.options.validateOn) === -1) {\n                throw new Error('f-validate: valid options for the \\'validateOn\\' property are \\'blur\\' or \\'keyup\\'');\n            }\n\n            this.fields.forEach(function (field) {\n                if (field.hasAttribute(_constants2.default.validationGroup)) {\n                    (0, _fDom2.default)(_constants2.default.fieldValues, field).forEach(function (childField) {\n                        return (\n\n                            // Binds each form element within a validation-group to the specified event.\n                            // When this event is triggered the validation-group element will be passed as the element to test.\n                            // The child field is also passed for use within a rule test method\n                            // Null is being passed as the isValid method expects 'field' as its second argument\n                            childField.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, {\n                                field: field,\n                                childField: childField\n                            }))\n                        );\n                    });\n                } else {\n                    // Null is being passed as the isValid method expects 'field' as its second argument\n                    field.addEventListener(_this3.options.validateOn, _this3.isValid.bind(_this3, null, { field: field }));\n                }\n            });\n        }\n    }]);\n\n    return FormValidation;\n}();\n\nexports.default = FormValidation;\n},{\"./callbacks\":14,\"./constants\":15,\"./messages\":17,\"./rules\":22,\"@justeat/f-dom\":28}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getMessage = exports.hideMessage = exports.displayInlineMessage = exports.getInlineErrorElement = undefined;\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nvar _rules = require('./rules');\n\nvar _rules2 = _interopRequireDefault(_rules);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getCustomErrorElement = function getCustomErrorElement(field, form) {\n    var errorPlacement = field.getAttribute('data-val-error-placement');\n    var errorElement = _fDom2.default.first(errorPlacement, form);\n\n    if (errorElement) {\n        return errorElement;\n    }\n\n    return false;\n};\n\nvar getInlineErrorElement = exports.getInlineErrorElement = function getInlineErrorElement(field, form) {\n    var nextSibling = field.nextElementSibling;\n    var customErrorEl = getCustomErrorElement(field, form);\n\n    if (customErrorEl && customErrorEl.nextElementSibling && customErrorEl.nextElementSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n        return customErrorEl.nextElementSibling;\n    }\n\n    if (nextSibling && nextSibling.classList.contains(_constants2.default.cssClasses.formError)) {\n\n        return nextSibling;\n    }\n\n    return false;\n};\n\nvar displayInlineMessage = exports.displayInlineMessage = function displayInlineMessage(errorElement, customMessage, field, form) {\n\n    var updateElement = errorElement;\n    var customErrorEl = getCustomErrorElement(field, form) || field;\n\n    if (!errorElement) {\n        updateElement = document.createElement('p');\n        updateElement.classList.add(_constants2.default.cssClasses.formError);\n        field.parentNode.insertBefore(updateElement, customErrorEl.nextSibling);\n    }\n\n    updateElement.textContent = customMessage;\n    updateElement.classList.remove(_constants2.default.cssClasses.isHidden);\n};\n\nvar hideMessage = exports.hideMessage = function hideMessage(errorElement) {\n    if (!errorElement) {\n        return;\n    }\n\n    errorElement.classList.add(_constants2.default.cssClasses.isHidden);\n    errorElement.innerHTML = '';\n};\n\nvar getDefaultMessage = function getDefaultMessage(field, ruleName) {\n\n    if (!_rules2.default[ruleName].defaultMessageValue) {\n        return _rules2.default[ruleName].defaultMessage;\n    }\n\n    return _rules2.default[ruleName].defaultMessage.replace('{0}', _rules2.default[ruleName].defaultMessageValue(field));\n};\n\nvar getMessage = exports.getMessage = function getMessage(field, ruleName) {\n    return field.getAttribute('data-val-' + ruleName + '-error') || getDefaultMessage(field, ruleName);\n};\n},{\"./constants\":15,\"./rules\":22,\"@justeat/f-dom\":28}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-conditionalRequired');\n    },\n\n    test: function test(field) {\n        var input = _fDom2.default.first('[name=\\'' + field.getAttribute('data-val-conditionalRequired') + '\\']');\n        var isChecked = input ? input.checked : true;\n\n        return isChecked || field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Conditional Required Rule\n    * -------------------------\n    * This validation rule checks that if a specified checkbox is not checked, then it is required that a value must be entered in the field with this validation check.\n    *\n    * This also means that if the specified checkbox is checked, then the field is not required and the form will return valid when the field is empty.\n    *\n    */\n},{\"@justeat/f-dom\":28}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Custom Rule\n * --------------\n * This validation rule allows the addition of a custom validation check to be added to the field.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        var hasCustom = field.hasAttribute('data-val-custom');\n        var hasCustomError = field.hasAttribute('data-val-custom-error');\n\n        if (hasCustomError && !hasCustom) {\n            throw new Error('f-validate: specify data-val-custom along with data-val-custom-error attribute');\n        }\n\n        return hasCustom;\n    },\n\n    test: null,\n\n    defaultMessage: 'Custom validation failed.'\n};\n},{}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-dateInFuture');\n    },\n\n    test: function test(element) {\n\n        var dateToday = new Date();\n        var currentMonth = dateToday.getMonth() + 1;\n        var currentYear = dateToday.getFullYear();\n\n        var selectedMonthEl = _fDom2.default.first('[data-val-dateInFuture-type=\"month\"]', element);\n        var selectedYearEl = _fDom2.default.first('[data-val-dateInFuture-type=\"year\"]', element);\n        var selectedMonthVal = Number(selectedMonthEl.value);\n        var selectedYearVal = Number(selectedYearEl.value);\n\n        if (selectedYearVal > currentYear && selectedMonthVal > 0) {\n            return true;\n        }\n\n        return selectedYearVal === currentYear && selectedMonthVal >= currentMonth;\n    },\n\n    touchedSelectors: ['[data-val-dateInFuture-type=\"month\"]', '[data-val-dateInFuture-type=\"year\"]'],\n\n    defaultMessage: 'This date must be in the future.'\n}; /**\n    * Date In Future Rule\n    * -------------------\n    * This rule is for validating dates entered by a collection of `select` fields.\n    * When applied to a validation group, it returns true if the date entered in these fields is in the future.\n    *\n    */\n},{\"@justeat/f-dom\":28}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _constants = require('../constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.getAttribute('type') === 'email';\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        return _constants2.default.email.test(field.value);\n    },\n\n    defaultMessage: 'This field must contain a valid email address.'\n}; /**\n    * Email Rule\n    * --------------\n    * Checks for a valid email address\n    *\n    */\n},{\"../constants\":15}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _maxlength = require('./maxlength');\n\nvar _maxlength2 = _interopRequireDefault(_maxlength);\n\nvar _minlength = require('./minlength');\n\nvar _minlength2 = _interopRequireDefault(_minlength);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nvar _email = require('./email');\n\nvar _email2 = _interopRequireDefault(_email);\n\nvar _matches = require('./matches');\n\nvar _matches2 = _interopRequireDefault(_matches);\n\nvar _dateInFuture = require('./dateInFuture');\n\nvar _dateInFuture2 = _interopRequireDefault(_dateInFuture);\n\nvar _conditionalRequired = require('./conditionalRequired');\n\nvar _conditionalRequired2 = _interopRequireDefault(_conditionalRequired);\n\nvar _custom = require('./custom');\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    custom: _custom2.default,\n    dateInFuture: _dateInFuture2.default,\n    conditionalRequired: _conditionalRequired2.default,\n    maxlength: _maxlength2.default,\n    minlength: _minlength2.default,\n    pattern: _pattern2.default,\n    email: _email2.default,\n    matches: _matches2.default,\n    required: _required2.default\n};\n},{\"./conditionalRequired\":18,\"./custom\":19,\"./dateInFuture\":20,\"./email\":21,\"./matches\":23,\"./maxlength\":24,\"./minlength\":25,\"./pattern\":26,\"./required\":27}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('data-val-equalto');\n    },\n\n    test: function test(field) {\n        var matchedFieldName = field.getAttribute('data-val-equalto');\n\n        if (matchedFieldName) {\n            var input = _fDom2.default.first('input[name=' + matchedFieldName + ']');\n\n            return matchedFieldName && input && field.value === input.value;\n        }\n\n        return false;\n    },\n\n    defaultMessage: 'This field does not match the {0} field.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return field.getAttribute('data-val-equalto').replace('*.', '');\n    }\n}; /**\n    * Matches Rule\n    * ------------\n    * Checks that the value of the field being validated matches the value of a separate specified field\n    *\n    */\n},{\"@justeat/f-dom\":28}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Maxlength Rule\n * --------------\n * Checks that the value of the field is not greater than the specified maximum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('maxlength') || field.hasAttribute('data-val-maxlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('maxlength') === '' || field.getAttribute('data-val-maxlength') === '') {\n            return true;\n        }\n        return field.value.trim().length <= parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    },\n\n    defaultMessage: 'This field must not exceed {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('maxlength') || field.getAttribute('data-val-maxlength'), 10);\n    }\n};\n},{}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Minlength Rule\n * --------------\n * Checks that the value of the field is of a specified minimum length.\n *\n */\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('minlength') || field.hasAttribute('data-val-minlength');\n    },\n\n    test: function test(field) {\n        // if the field is empty, or attribute is set with no value, should validate as true\n        if (field.value === '' || field.getAttribute('minlength') === '' || field.getAttribute('data-val-minlength') === '') {\n            return true;\n        }\n\n        return field.value.trim().length >= parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    },\n\n    defaultMessage: 'This field must be at least {0} characters in length.',\n\n    defaultMessageValue: function defaultMessageValue(field) {\n        return parseInt(field.getAttribute('minlength') || field.getAttribute('data-val-minlength'), 10);\n    }\n};\n},{}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * Pattern Rule\n * --------------\n * Allows definition of a rule to validate the input value using Regular Expressions (RegEx)\n *\n */\nvar CONSTANTS = require('../constants');\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('pattern') || field.hasAttribute('data-val-regex');\n    },\n\n    test: function test(field) {\n        // if the field is empty, should validate as true\n        if (field.value === '') {\n            return true;\n        }\n        // escape characters that have special meaning inside a regular expression in field value\n        var fieldValue = field.value.replace(CONSTANTS.escapeChars, '\\\\$&');\n        var pattern = field.getAttribute('pattern') || field.getAttribute('data-val-regex');\n\n        return RegExp('^(?:' + pattern + ')$', 'gim').test(fieldValue);\n    },\n\n    defaultMessage: 'This field contains a value that isnt accepted.'\n};\n},{\"../constants\":15}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fDom = require('@justeat/f-dom');\n\nvar _fDom2 = _interopRequireDefault(_fDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    condition: function condition(field) {\n        return field.hasAttribute('required') || field.hasAttribute('data-val-required');\n    },\n\n    test: function test(field) {\n        // Required checkbox & radio, 1 should be checked.\n        if (field.type === 'radio') {\n            var radioInputs = (0, _fDom2.default)('[name=\\'' + field.name + '\\']:checked');\n            return radioInputs.length > 0;\n        }\n\n        if (field.type === 'checkbox') {\n            return field.checked === true;\n        }\n\n        return field.value.trim().length > 0;\n    },\n\n    defaultMessage: 'This field is required.'\n}; /**\n    * Required Rule\n    * -------------\n    * Checks that a value is present for the field being validated\n    *\n    */\n},{\"@justeat/f-dom\":28}],28:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _qwery=require('qwery'),_qwery2=_interopRequireDefault(_qwery);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var first=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)[0]},all=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return(0,_qwery2.default)(a,b)},exists=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return 0<(0,_qwery2.default)(a,b).length},dom=all;dom.all=all,dom.first=first,dom.exists=exists,exports.default=dom;\n},{\"qwery\":36}],29:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"stopFoit\", {\n  enumerable: true,\n  get: function get() {\n    return _stopFoit.stopFoit;\n  }\n});\nObject.defineProperty(exports, \"getBreakpoints\", {\n  enumerable: true,\n  get: function get() {\n    return _breakpointHelper.getBreakpoints;\n  }\n});\nObject.defineProperty(exports, \"getCurrentScreenWidth\", {\n  enumerable: true,\n  get: function get() {\n    return _breakpointHelper.getCurrentScreenWidth;\n  }\n});\nObject.defineProperty(exports, \"isWithinBreakpoint\", {\n  enumerable: true,\n  get: function get() {\n    return _breakpointHelper.isWithinBreakpoint;\n  }\n});\n\nvar _stopFoit = require(\"./modules/stopFoit\");\n\nvar _breakpointHelper = require(\"./modules/breakpointHelper\");\n},{\"./modules/breakpointHelper\":30,\"./modules/stopFoit\":31}],30:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isWithinBreakpoint = exports.getCurrentScreenWidth = exports.createBreakpointArray = exports.getBreakpoints = void 0;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/**\n * @overview Breakpoint handler\n *\n * @module breakpointHelper\n */\nvar getBreakpoints = function getBreakpoints() {\n  var output = {}; // Append hidden element to body\n\n  var screenSizer = document.createElement('div');\n  screenSizer.classList.add('c-screen-sizer');\n  document.body.appendChild(screenSizer); // It should have a 'content' property containing the breakpoints\n\n  var breakpoints = window.getComputedStyle(document.querySelector('.c-screen-sizer')).getPropertyValue('content').replace(/[\"']/g, '').split(','); // Gives a list of breakpoints in the form ['narrow:414px', ...etc]\n  // When there is no content, at this stage breakpoints should be ['']\n\n  if (breakpoints.length === 1 && breakpoints[0] === '') {\n    return output;\n  }\n\n  return breakpoints.reduce(function (prev, current) {\n    // `current` is of the form 'narrow:414px'\n    var _current$split = current.split(':'),\n        _current$split2 = _slicedToArray(_current$split, 2),\n        breakpointName = _current$split2[0],\n        breakpointValue = _current$split2[1];\n\n    prev[breakpointName] = breakpointValue; // <- the initial value is used for the first iteration\n    // The object, e.g., { 'narrow': '414px' } is returned to be used as `prev` in the next iteration\n\n    return prev;\n  }, output); // <- initial value\n};\n\nexports.getBreakpoints = getBreakpoints;\n\nvar createBreakpointArray = function createBreakpointArray(breakpoints) {\n  // Order the breakpoints from widest to narrowest,\n  // takes the form [['narrow', '414px'], [...etc]]\n  var bps = [];\n  Object.keys(breakpoints).forEach(function (key) {\n    bps.unshift([key, breakpoints[key]]);\n  });\n  return bps;\n};\n\nexports.createBreakpointArray = createBreakpointArray;\n\nvar getCurrentScreenWidth = function getCurrentScreenWidth() {\n  var currentWidth = window.innerWidth;\n  var breakpoints = getBreakpoints();\n  var bps = createBreakpointArray(breakpoints);\n\n  for (var i = 0; i < bps.length; i++) {\n    // Loops through the breakpoints (in descending order)\n    // returning the first one that is narrower than currentWidth.\n    var breakpointWidth = parseInt(bps[i][1], 10); // This also strips the 'px' from the string\n\n    if (i === bps.length - 1 || currentWidth > breakpointWidth) {\n      // If we've reached the last breakpoint, and there still hasn't been a match, return the smallest breakpoint\n      return bps[i][0];\n    }\n  } // If no breakpoints have been set\n\n\n  return false;\n};\n\nexports.getCurrentScreenWidth = getCurrentScreenWidth;\n\nvar isWithinBreakpoint = function isWithinBreakpoint(breakpointString) {\n  var operatorRegex = /[<>=]+/;\n  var operatorMatch = breakpointString.match(operatorRegex);\n  var operator = operatorMatch ? operatorMatch[0] : '';\n\n  var _breakpointString$spl = breakpointString.split(operatorRegex),\n      _breakpointString$spl2 = _slicedToArray(_breakpointString$spl, 2),\n      breakpoint = _breakpointString$spl2[1];\n\n  var currentScreenWidth = window.innerWidth;\n  var breakpoints = getBreakpoints();\n  var bps = createBreakpointArray(breakpoints); // We loop through the breakpoint array until we get a match.\n  // If we match we return the px value as an int. If we do not match we return false\n\n  var breakpointToPX = function breakpointToPX(breakpointName) {\n    var match = false;\n    bps.forEach(function (bp) {\n      if (bp[0] === breakpointName) {\n        match = parseInt(bp[1], 10);\n      }\n    });\n    return match;\n  };\n\n  var breakpointInPX = breakpointToPX(breakpoint); // If the breakpoint passed in does not match any we;\n\n  if (!breakpointInPX) {\n    return false;\n  }\n\n  var mediaQuery = {\n    '>': currentScreenWidth > breakpointInPX,\n    '<': currentScreenWidth < breakpointInPX,\n    '=': currentScreenWidth === breakpointInPX,\n    '>=': currentScreenWidth >= breakpointInPX,\n    '<=': currentScreenWidth <= breakpointInPX\n  };\n  var result = mediaQuery[operator];\n\n  if (result == null) {\n    return false;\n  }\n\n  return result;\n};\n\nexports.isWithinBreakpoint = isWithinBreakpoint;\n},{}],31:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.stopFoit = void 0;\n\nvar _fontfaceobserver = _interopRequireDefault(require(\"fontfaceobserver\"));\n\nvar _fLogger = require(\"@justeat/f-logger\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @overview stopFOIT reduces the amount of time a user has invisible text when using webfonts.\n *\n * @module stopFOIT\n */\n\n/**\n* Init method initialises the FontFaceObserver events\n*\n*/\nvar stopFoit = function stopFoit() {\n  // Create a new `FontFaceObserver` for each webfont\n  var baseFont = new _fontfaceobserver.default('Hind Vadodara');\n  var headingFont = new _fontfaceobserver.default('Ubuntu'); // On load of each font we add `has-fontsLoaded` class with the font type modifier\n\n  baseFont.load(null, 3000).then(function () {\n    document.body.classList.remove('is-fontsLoading--base');\n  }).catch(function () {\n    (0, _fLogger.logError)('Custom font is unable to load');\n  });\n  headingFont.load(null, 3000).then(function () {\n    document.body.classList.remove('is-fontsLoading--heading');\n  }).catch(function () {\n    (0, _fLogger.logError)('Custom font is unable to load');\n  });\n};\n\nexports.stopFoit = stopFoit;\nvar _default = stopFoit;\nexports.default = _default;\n},{\"@justeat/f-logger\":11,\"fontfaceobserver\":32}],32:[function(require,module,exports){\n/* Font Face Observer v2.1.0 -  Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener(\"scroll\",b,!1):a.attachEvent(\"scroll\",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function c(){document.removeEventListener(\"DOMContentLoaded\",c);a()}):document.attachEvent(\"onreadystatechange\",function k(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",k),a()})};function t(a){this.a=document.createElement(\"div\");this.a.setAttribute(\"aria-hidden\",\"true\");this.a.appendChild(document.createTextNode(a));this.b=document.createElement(\"span\");this.c=document.createElement(\"span\");this.h=document.createElement(\"span\");this.f=document.createElement(\"span\");this.g=-1;this.b.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.c.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.f.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.h.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}\nfunction u(a,b){a.a.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+b+\";\"}function z(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+\"px\";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);z(a)};function B(a,b){var c=b||{};this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\"}var C=null,D=null,E=null,F=null;function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){null===F&&(F=!!document.fonts);return F}\nfunction K(){if(null===E){var a=document.createElement(\"div\");try{a.style.font=\"condensed 100px sans-serif\"}catch(b){}E=\"\"!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:\"\",\"100px\",b].join(\" \")}\nB.prototype.load=function(a,b){var c=this,k=a||\"BESbswy\",r=0,n=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(\"\"+n+\"ms timeout exceeded\")):document.fonts.load(L(c,'\"'+c.family+'\"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(\"\"+n+\"ms timeout exceeded\"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r);a(c)},\nb)}else m(function(){function v(){var b;if(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(\"\"+\nn+\"ms timeout exceeded\"));else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v();r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement(\"div\");d.dir=\"ltr\";u(e,L(c,\"sans-serif\"));u(p,L(c,\"serif\"));u(q,L(c,\"monospace\"));d.appendChild(e.a);d.appendChild(p.a);d.appendChild(q.a);document.body.appendChild(d);w=e.a.offsetWidth;x=p.a.offsetWidth;y=q.a.offsetWidth;I();A(e,function(a){f=a;v()});u(e,\nL(c,'\"'+c.family+'\",sans-serif'));A(p,function(a){g=a;v()});u(p,L(c,'\"'+c.family+'\",serif'));A(q,function(a){h=a;v()});u(q,L(c,'\"'+c.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load);}());\n\n},{}],33:[function(require,module,exports){\nmodule.exports = function (callback) {\r\n\r\n\tif (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n\t\t// Already ready or interactive, execute callback\r\n\t\tcallback.call();\r\n\t}\r\n\telse if (document.attachEvent) {\r\n\t\t// Old browsers\r\n\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\tif (document.readyState === 'interactive')\r\n\t\t\t\tcallback.call();\r\n\t\t});\r\n\t}\r\n\telse if (document.addEventListener) {\r\n\t\t// Modern browsers\r\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\r\n\t}\r\n}\r\n\n},{}],34:[function(require,module,exports){\n(function (global){\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],35:[function(require,module,exports){\n/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tvoid 0;\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n\n},{}],36:[function(require,module,exports){\n/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n\n},{}],37:[function(require,module,exports){\n!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n},{}]},{},[2])\n//# sourceMappingURL=script.js.map\n"]}