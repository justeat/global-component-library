<!DOCTYPE html>
<html class="no-js">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>JS Codestyle – Just Eat Front-End Component Library and Documentation</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">

			<link rel="stylesheet" href="/assets/css/je-docs.min.css">

		<script src="/assets/js/libs/modernizr.min.js"></script>
		<script src="/assets/js/libs/prism.min.js"></script> <!-- Code highlighting for docs -->

        <link href='https://fonts.googleapis.com/css?family=Hind+Vadodara:300,500|Ubuntu:300,500' rel='stylesheet' type='text/css' />
	</head>
	<body class="body-docs ">



	<!--  ==============  -->
	<!--  === Masthead ===  -->
	<!--  ==============  -->
	<header class="c-header">
		<div class="l-container c-header-wrap">
			<div class="c-logo c-logo--sg">
	            <a href="/">
	                <svg class="c-logo-fozzie" viewBox="0 0 619 645" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><text stroke="#2B2B2B" fill="#BC5410" font-family="Avenir-BlackOblique, Avenir" font-size="200" font-style="italic" font-weight="700" letter-spacing="4.375" transform="translate(-13)"><tspan x=".175" y="640">Fozzie</tspan></text><g transform="translate(48)" fill-rule="nonzero"><circle fill="#DFDFDF" cx="256" cy="256" r="256"/><g transform="translate(54 18)" fill="#BC5410"><path d="M403.731 395.632c-46.864 59.883-119.798 98.367-201.728 98.367S47.139 455.515.275 395.632c7.199-28.003 20.929-53.708 39.612-75.191 31.932-36.728 78.346-61.158 131.427-63.843a607.6 607.6 0 0 1 61.377 0c53.081 2.685 99.495 27.115 131.427 63.843 18.684 21.483 32.414 47.188 39.613 75.191z"/><circle cx="359.78" cy="64.829" r="64.784"/></g><circle fill="#91420E" cx="409.161" cy="87.448" r="37.012"/><circle fill="#A5490C" cx="98.22" cy="82.829" r="64.784"/><circle fill="#91420E" cx="102.839" cy="87.448" r="37.012"/><path d="M286.692 274.598a598.116 598.116 0 0 0-33.813-.752c-.126-.011-.878 0-1.62 0-1.327.01-2.654.021-3.981.042-1.264.021-2.529.052-3.793.073-1.191.021-2.382.042-3.574.073l-3.96.125c-1.118.042-2.247.073-3.365.115-2.424.094-4.848.199-7.272.324-84.156 4.253-151.531 63.164-171.039 139.034a257.428 257.428 0 0 0 66.456 59.747c-.71-13.59-.42-27.214.867-40.761 3.371-35.248 34.523-60.942 69.499-58.533a6.194 6.194 0 0 1 4.686 2.674l14.286 20.883c2.911 4.256 9.25 4.067 11.903-.354l6.432-10.72c2.456-4.092 8.432-3.951 10.691.252l16.031 29.818c3.046 5.664 11.458 4.655 13.077-1.569l7.119-27.379c1.196-4.602 6.939-6.164 10.302-2.801l6.399 6.399c3.264 3.264 8.729 2.578 11.085-1.392l7.278-12.263a6.145 6.145 0 0 1 4.657-2.971 590.152 590.152 0 0 0 48.104-6.975c21.295-3.98 40.323-14.408 54.972-29.246-31.932-36.728-78.346-61.158-131.427-63.843z" fill="#A5490C"/><path d="M284.954 48.85a572.999 572.999 0 0 0-57.908 0C121.787 54.174 44.33 150.122 63.048 253.839c1.01 5.59 2.18 11.15 3.508 16.673 9.611 40.004 41.861 70.799 82.3 78.368 71.43 13.369 142.859 13.369 214.29 0 40.44-7.569 72.689-38.364 82.3-78.368a298.09 298.09 0 0 0 3.508-16.673c18.716-103.717-58.741-199.665-164-204.989z" fill="#BC5410"/><path d="M256 358.914c-35.715 0-71.429-3.344-107.144-10.031-40.438-7.565-72.694-38.358-82.296-78.367a296.283 296.283 0 0 1-3.511-16.677C44.335 150.123 121.783 54.18 227.046 48.851c8.861-.439 17.721-.69 26.593-.721a250.6 250.6 0 0 0-16.572.721C168.24 54.18 117.593 150.123 129.829 253.839a433.506 433.506 0 0 0 2.299 16.677c6.28 40.009 27.366 70.802 53.812 78.367 23.353 6.687 46.707 10.031 70.06 10.031z" fill="#A5490C"/><path d="M303.483 359.117c-31.655 4.992-63.31 4.992-94.966 0-19.669-3.102-35.52-19.763-38.561-41.374a86.264 86.264 0 0 1 0-24.167c3.041-21.61 18.892-38.271 38.561-41.374 31.65-4.991 63.301-4.993 94.951-.002 20.089 3.167 35.95 20.499 38.742 42.62a86.291 86.291 0 0 1-.166 22.923c-3.04 21.61-18.892 38.271-38.561 41.374z" fill="#E6E6E6"/><path d="M229.449 359.116c8.296 2.33 16.593 3.584 24.889 3.73a305.094 305.094 0 0 1-45.819-3.73c-19.675-3.103-35.527-19.769-38.567-41.378a86.725 86.725 0 0 1 0-24.168c3.041-21.608 18.892-38.275 38.567-41.367a303.912 303.912 0 0 1 45.829-3.741c-8.296.146-16.603 1.4-24.9 3.741-11.003 3.093-19.863 19.759-21.567 41.367a155.496 155.496 0 0 0 0 24.168c1.705 21.608 10.565 38.274 21.568 41.378z" fill="#CCC"/><path d="M291.246 270.638c0 12.774-15.78 30.473-35.245 30.473-19.465 0-35.245-17.7-35.245-30.473 0-12.774 15.78-15.786 35.245-15.786 19.465 0 35.245 3.011 35.245 15.786z" fill="#0F0F0E"/><circle fill="#807272" cx="273.763" cy="269.343" r="9.404"/><path d="M339.071 256.281c-13.828 0-25.078-11.249-25.078-25.078 0-11.319 7.628-21.275 18.55-24.213a25.171 25.171 0 0 1 6.527-.864c13.828 0 25.078 11.249 25.078 25.078 0 2.194-.29 4.389-.864 6.523-2.936 10.926-12.893 18.554-24.213 18.554zm-166.142 0c-13.828 0-25.078-11.249-25.078-25.078 0-11.319 7.628-21.275 18.55-24.213a25.171 25.171 0 0 1 6.527-.864c13.828 0 25.078 11.249 25.078 25.078 0 2.194-.29 4.389-.864 6.523-2.938 10.926-12.895 18.554-24.213 18.554z" fill="#91420E"/><g transform="translate(159 212)" fill="#0F0F0E"><path d="M193.655 13.979c0 1.223-.167 2.414-.47 3.542-1.557 5.789-6.834 10.041-13.113 10.041-7.502 0-13.584-6.081-13.584-13.584 0-6.28 4.253-11.557 10.041-13.113 1.128-.303 2.32-.47 3.542-.47 7.503 0 13.584 6.082 13.584 13.584z"/><circle cx="13.931" cy="13.98" r="13.584"/></g><path d="M352.655 225.979c0 1.223-.167 2.414-.47 3.542a12.536 12.536 0 0 1-5.277 1.16c-6.928 0-12.539-5.611-12.539-12.539 0-1.881.418-3.678 1.16-5.277 1.128-.303 2.32-.47 3.542-.47 7.503 0 13.584 6.082 13.584 13.584zm-166.143 0c0 1.223-.167 2.414-.47 3.542a12.536 12.536 0 0 1-5.277 1.16c-6.928 0-12.539-5.611-12.539-12.539 0-1.881.418-3.678 1.16-5.277 1.128-.303 2.32-.47 3.542-.47 7.503 0 13.584 6.082 13.584 13.584z" fill="#E6E6E6"/><path d="M99.541 379.98c2.834-4.355 9.692-2.907 10.326 2.251 1.17 9.539-8.215 22.913-19.569 27.238-11.782 4.488 1.859-18.141 9.243-29.489zm3.397 33.378c1.875-4.846 8.885-4.843 10.568.072 3.113 9.093-3.312 24.115-13.529 30.689-10.604 6.823-1.924-18.134 2.961-30.761z" fill="#BC5410"/></g></g></svg>
	                <span class="c-logo-subText">by</span>
	                <div class="c-logo-img">
	                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2611.9 513.4"><path fill="#FA0029" d="M2033.7 245l62.2-136c5.2-11.5 5.2-11.5 12.3-11.5 8 0 8 0 9.8 12.4l18.8 135h-103zm168-189.2c-10-53.3-10-53.3-85.4-53.3-71 0-70.2 0-91.5 43.5L1864 379.2c-23 48-19.5 51.5 40 51.5 46.2 0 45.3 0 65-42.7l25.7-57h154.6l8 57c6.2 42.7 8 42.7 54.2 42.7 52 0 57-3.7 47-55l-57-320zM1832.2 93c37.8 0 38-.3 45.6-45.2 7.8-45.2 7.7-45.3-27-45.3H1659c-67.5 0-66.2 0-77.8 68.4L1532 357c-12.5 73.8-11.8 73.8 57.6 73.8H1777c39.2 0 38.3 0 46.3-44.4 8-46.2 8-46.2-27.5-46.2H1634l13.3-82.6h134.2c36.4 0 36.4 0 42.7-42.7 7-43.6 7-43.6-42.7-43.6h-120l13.3-78.2h157.4zM1360.3 2.5h-269c-38 0-38 0-46 45.3S1038 93 1071.8 93h87.5l-48.8 282.7c-9 55-8 55 41.6 55 45.4 0 48 0 54.3-39L1258 93h83.5c37.7 0 37.7 0 45.6-45.2 8-45.2 8-45.3-26.7-45.3M625 2.5c-46.7 0-47.6.3-54.3 39.2l-35.4 205.8c-9.8 59.5-26 94.5-83.7 94.5-57.8 0-77.5-34.7-68.6-88l33.6-196.7c9-55 7.3-54.8-41.6-54.8-47.7 0-49-.4-55.2 38.7l-35.4 206.5C264 364.7 336 437 439 437c115.6 0 173.8-51.5 193.3-175l35.2-204.5c9.5-55 7.3-55-42.4-55m-396.8 0H110.6C72 2.5 72 2.5 64.2 47c-8 44.7-7 46 27.2 46h69.8l-38.8 226.2c-8.7 50.8-31.4 85-99.7 106C5.3 430 0 437 0 445c0 8.7 3.5 17.5 10.5 36 10.5 27 17.5 32.2 27 32.2 9.7 0 27.2-5.3 33.3-7 97-31.5 135.6-106 151.3-195l44-254.6c9.6-53.4 9.6-54.3-37.7-54.3m613 338.1c38-2.2 57.8-18.5 57.8-37 0-22.3-27.5-30.3-64-41-72-22.2-136-47.4-136-123.8C699.2 48.8 773.2 0 866.4 0c39 0 84 2.3 113 5 26.2 2.4 31 11.7 24.3 50.8-6.7 39-15.8 43-37.4 41.2-27-2.3-61.7-4.8-102.3-4.3-48 .6-61.6 17-61.6 33.7 0 20.4 18.7 32 63 43.5 82.7 24 137 56.4 137 127.5 0 83.5-62.3 132.4-161.8 136.3-54.2 2-100.8-2-142-8-31.8-4.5-33-5-25-50.6 7.2-41.5 8.2-44.4 37.3-41 56 7 92.5 8.4 130.4 6.2M2580.8 2.5h-269c-38 0-38 0-46 45.3s-7.2 45.3 26.6 45.3h87.6l-48.8 282.7c-9 55-8 55 41.6 55 45.4 0 48 0 54.3-39L2478.6 93h83.5c37.7 0 37.7 0 45.6-45.2 8-45.2 7.8-45.3-26.8-45.3"/></svg>
	                </div>
	            </a>
	        </div>
			<!-- Global Navigation links -->
			<nav class="c-nav c-nav--global c-nav--sg">
			    <label data-navglobal-toggle="" class="c-nav-toggle " for="menu-visible" role="button" aria-pressed="false" aria-label="Navigation visibility toggle">
			        <span class="c-nav-toggle-icon" title="Menu">Open Menu</span>
			    </label>
			    <input type="checkbox" class="c-nav-trigger" name="menuVisible" id="menu-visible" aria-hidden="true">
			    <div class="c-nav-container">
			        <ul class="c-nav-list">
			            <li class="c-nav-list-item"><a href="/styleguide/design-elements/colours" class="c-nav-list-link">Design Elements</a></li>
			            <li class="c-nav-list-item"><a href="/styleguide/ui-components/" class="c-nav-list-link">UI Components</a></li>
			            <li class="c-nav-list-item c-nav-list-item--active"><a href="/documentation/general/" class="c-nav-list-link">Development Docs</a></li>
			            <!-- <li class="c-nav-list-item"><a href="/performance/" class="c-nav-list-link">Performance Monitoring</a></li> -->
			        </ul>
			    </div>
			</nav>
		</div>
	</header>
	
<div class="sg-secondaryBar">
    <div class="l-container g">
        <h2 class="sg-secondaryBar-title g-col g-col--shrink gamma">JS Codestyle</h2>

        <ul class="sg-subnav g-col g g--alignRight g--alignBottom u-unstyled">
        
            <li class="sg-subnav-item"><a href="/documentation/general/">General</a></li>
    <li class="sg-subnav-item"><a href="/documentation/css/">CSS</a></li>
    <li class="sg-subnav-item is-active"><a href="/documentation/js/">JS</a></li>
    <li class="sg-subnav-item"><a href="/documentation/images/">Images</a></li>
    <li class="sg-subnav-item"><a href="/documentation/open-source/">Open source</a></li>
</ul>
    </div>
</div>

	
    <div class="l-container sg-page">
        <div class="g g--gutter g--stack">
            <div class="g-col g-span2--mid">
                <ul class="sg-sideNav c-card c-card--rounded c-card--noPad u-unstyled">
                
                
                
                
                
                
                
                
                
                
                
                
                
                    <li><a href="/documentation/js/" class="">Architecture</a></li>
    <li><a href="/documentation/js/codestyle" class=" is-active">Code Style</a></li>
    <li><a href="/documentation/js/modules" class="">Modules</a></li>
    <li><a href="/documentation/js/frameworks" class="">Frameworks and Libraries</a></li>
    <li><a href="/documentation/js/testing" class="">Testing</a></li>
    <li><a href="/documentation/js/writing-tests" class="">Writing Great Tests</a></li>

                
                
                
                </ul>
            </div>
            <div class="g-col g-span10--mid">
                <div class="c-card c-card--rounded sg-content">
                    <h1>JS Codestyle</h1>
<p><a name="js-linting"></a><h2 class="sg-sectionHeading">Linting Rules</h2></p>
<p>Most of the code conventions we suggest here are enforced by ESLint, which is run as part of the gulp build tasks.</p>
<p>We extend the <a href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb-base/rules">eslint-config-airbnb-base ruleset</a> with our own set of JS linting rules in the <a href="https://github.com/justeat/eslint-config-fozzie">eslint-config-fozzie module</a>.</p>
<p>We set this ESLint task to autofix the JS when it runs, so many of the issues found will be fixed automatically.  If you'd like to extend this to work with your code editor of choice, most allow you to autofix files you're developing on when saved.</p>
<p><h3 class="sg-sectionHeading">Selecting DOM elements</h3></p>
<p>We use the <a href="https://github.com/justeat/f-dom"><code>f-dom</code> module</a> to select DOM elements. This uses the ‘qwery’ selector engine behind the scenes and takes any valid CSS selector as input. It also comes with some helper functions to make DOM selection easier (see the <a href="https://github.com/justeat/f-dom#usage">documentation for more details</a>).</p>
<p>You should always use data attributes to select DOM elements using JavaScript; <em>never</em> use classes as they should be used purely for styling. Classes are very brittle when used in JS (they break easily) – they can quite often be moved onto another element or their names changed as components’ styling adapts over time.  Keeping this separation helps with code refactoring as the developer then knows that changing a classname(s) won't break any behaviour set in the JS.</p>
<p>Don't hook onto any existing <code>data-test</code> attributes as these are there for the feature tests to use as hooks, not to be used as JS selector hooks.</p>
<h4>Naming Data Attributes</h4>
<p>When naming data-attributes to use as a JavaScript DOM hook, use the prefix <code>data-js</code> so that it's clear that it is being used in this way.</p>
<p>If you are using data-attributes to pass data to a JavaScript module, then the <code>js-</code> part of the prefix can be omitted for these attributes.</p>
<pre><code class="language-html"><span class="hljs-comment">&lt;!-- Use "data-js" prefix for hooks but not data --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">data-js-megamodal</span>
        <span class="hljs-attr">data-megamodal-classname</span>=<span class="hljs-string">"testClass"</span>
        &gt;</span>Open Modal<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p><h3 class="sg-sectionHeading">Loops</h3></p>
<p>Where possible use <code>forEach</code> to loop over items.</p>
<p>To avoid issues when selecting elements with <code>document.querySelectorAll</code> — which returns an &quot;array like&quot; object that doesn't have the <code>forEach</code> method — use the <code>f-dom</code> module which returns an array of <code>NodeList</code> objects. The <code>forEach</code> method has actually been added to <code>NodeList</code> in newer versions of some browsers, however it isn't part of any standard so be sure to always use <code>f-dom</code>.</p>
<p><h3 class="sg-sectionHeading">JavaScript Class Syntax</h3></p>
<p>We should be cautious when using JavaScript Class syntax. Unless you are creating a large number of instances of a module then you can likely write your module following our <a href="#js-modulestructure">module structure guidelines</a>.</p>
<p>Classes should ideally only be used for something that is truly a Class. Ultimately JavaScript classes are simply syntactic sugar over JavaScript's existing prototype-based inheritance and their functionality should not be compared to classes in other languages.</p>
<p><h3 class="sg-sectionHeading">Code Commenting</h3></p>
<p>Code comments are essential for understanding what the original author intended and for understanding relevant usecases.</p>
<p>You should <strong>always</strong> provide a comment at the top of a JavaScript module explaining what it is, what it does (at a high level) and any examples of situations in which it is used.</p>
<p>All JavaScript functions and Classes should also include JSDoc comments which include details about what the code does, parameters (and associated descriptions), return type etc.</p>
<p>This helps other engineers to quickly understand the code and also provides intellisense descriptions in some IDEs.</p>
<p><h3 class="sg-sectionHeading">Binding events</h3></p>
<p>When binding events always use <code>[element].addEventListener</code> as it allows you to add multiple events to a single element.</p>
<p>Binding events in this way also helps to keep the JavaScript unit tests consistent as we use a set of helpers which interact with JavaScript events.</p>
<p>Never bind events in the HTML. All event binding should be done from within JavaScript files as this greatly improves the maintainability of a project's JS, as well as making runtime testing (using breakpoints) more accessible.</p>
<p><a name="js-modulestructure"></a><h3 class="sg-sectionHeading">Module structure</h3></p>
<p>We make use of the private nature of ES2015 modules so there is no longer a need to use the revealing module pattern in order to hide private functions and variables — everything is private until it is explicitly exported or assigned to the <code>window</code> global.</p>
<p><h3 class="sg-sectionHeading">Naming</h3></p>
<p>Use camelCase when you export-default a function. Your filename should be identical to your function’s name.</p>
<pre><code class="language-js"><span class="hljs-comment">// for myAwesomeFunction.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> myAwesomeFunction;
</code></pre>
<p>Use PascalCase when you export a constructor / class / singleton / function library / bare object.</p>
<pre><code class="language-js"><span class="hljs-comment">// Export Class</span>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAwesomeClass</span> </span>{ … };

<span class="hljs-comment">// Export Singleton</span>
<span class="hljs-keyword">export</span> MyAwesomeSingleton = { … };
</code></pre>
<h4>Filename conventions</h4>
<p>JavaScript filenames should either be <code>index.js</code> (if it's the entry point to the module or sub-folder of the module) or should match the name on the exported function contained in the file.</p>
<p>For instance, a filename of <code>myAwesomeFunction.js</code> should export <code>myAwesomeFunction</code> (whether it's a Class/singleton/function).</p>
<p>If there isn't one main entry point for the file (as there are multiple exported functions) then the filename should reflect the purpose of the code inside it and be named using camelCase.</p>
<p><h3 class="sg-sectionHeading">Export style</h3></p>
<p>Default exports should be declared at end of file, not next to where the function is defined.  This makes it easy to spot if the file has a default export set.</p>
<p>JavaScript should be structured so that there is a clear <code>export</code> at the base of the file so that it is clear what is being exported from the module.  If exporting multiple functions, each export should be grouped together at the end of the file, rather than being declared inline alongside the function declaration.</p>
<h4>Don't export directly from an import</h4>
<p><strong>Bad:</strong></p>
<pre><code class="language-js"><span class="hljs-keyword">export</span> {
    getHtml,
    setHtml
} <span class="hljs-keyword">from</span> <span class="hljs-string">'dom-buddy'</span>;
</code></pre>
<p><strong>Good:</strong></p>
<pre><code class="language-js">Import {
    getHtml,
    setHtml
} <span class="hljs-keyword">from</span> <span class="hljs-string">'dom-buddy'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    getHtml,
    setHtml
};
</code></pre>
<p>Reference: <a href="https://github.com/airbnb/javascript#naming--filename-matches-export">AirBnb Filename/import/export conventions</a></p>
                </div>
            </div>
        </div>
    </div><!-- Close .l-container -->
            <!--  ==============  -->
            <!--  === Footer ===  -->
            <!--  ==============  -->
            <footer class="sg-footer" role="contentinfo">
                <div class="l-container text-center">
                    <p>Fozzie and its associated documentation was created with ❤️ by the UI team at Just Eat.</p>
                    <hr>
                    <p>If you want to get in touch about anything mentioned here, feel free to <a href="mailto:ui@just-eat.com">drop us a message</a>!</p>
                </div>
            </footer>

        <script>
            var mockPaths = {
            };
        </script>
        <script src="/assets/js/script.min.js"></script>
        <script src="/assets/js/docs.min.js"></script>
	</body>
</html>
